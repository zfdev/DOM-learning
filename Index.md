Javascript Learning Path
=====

- ç†Ÿæ‚‰DOMåº•å±‚APIå±æ€§å’Œæ–¹æ³•
- é‡ç‚¹æŠŠäº‹ä»¶ç ”ç©¶é€å½»ï¼Œä»¥æ›´å¥½çš„åº”å¯¹é¢è¯•
- å¯ä»¥ç®€å•å°è£…ä¸€ä¸ªè‡ªå·±çš„åº“ï¼Œä¸è¿‡æœ€åå†™MVCç¨‹åºæ—¶ä¹Ÿè¦å°è£…ï¼Œä¹Ÿå¯ä»¥åé¢å†åš
- ä½¿ç”¨chromeå·¥å…·å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æŸ¥çœ‹DOMç»“æ„ï¼ŒCSSDOMæ¸²æŸ“çš„styleï¼ŒDOMç»‘å®šçš„äº‹ä»¶å›è°ƒå‡½æ•°ï¼ŒDOMçš„å±æ€§ç»§æ‰¿ç­‰ã€‚
- æ•´ç†ä¸€ä¸ªç»“æ„å›¾ï¼Œè€Œä¸”ä½¿ç”¨è‡ªå·±çš„è®°å¿†æ€»ç»“ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ä¸è‡³äºé»‘çå­æ°è‹ç±³ï¼Œå­¦è¿‡çš„å¾ˆå¿«å°±å¿˜è®°äº†ã€‚ä¸è¿‡åˆ‡è®°å¾ˆè¯¦ç»†ã€‚ç»“æ„æ¸…æ™°å°±å¥½ã€‚
- **çœ‹å®Œå°±å¿˜è®°ï¼Œå­¦ä¹ æ•ˆç‡ç­‰äº0%ï¼Œæ—¶é—´æµªè´¹ç‡100%ï¼Œæ‰€ä»¥ä¸è¦ç€æ€¥è¿½æ±‚é€Ÿåº¦ã€‚å®šæœŸå›é¡¾åŠ æ·±è®°å¿†ã€‚ä»¥é˜²åšæ— ç”¨åŠŸã€‚å°±åƒæˆ‘ä¹‹å‰ä¸€ä¸ªæœˆçœ‹äº†æœ¬nodejsä¹¦ï¼Œä¸€ä¸ªæœˆçœ‹äº†æœ¬Typescriptçš„ä¹¦ï¼Œç°åœ¨å¿˜çš„ç²¾å…‰ï¼Œå‡ ä¹ä»€ä¹ˆéƒ½ä¸è®°å¾—äº†ã€‚ç™½ç™½æµªè´¹äº†ä¸¤ä¸ªæœˆã€‚**
- **é€‰æ‹©åˆé€‚çš„ä¹¦ç±å¾ˆé‡è¦ï¼Œæˆ‘å½“æ—¶å°±æ˜¯é€‰æ‹©äº†ä¸€æœ¬nodejsçƒ‚ä¹¦ï¼Œé‚£æœ¬åƒåœ¾ä¹¦çœ‹å®Œäº†ä¸€ç‚¹æå‡æ²¡æœ‰ï¼Œè¿˜ä¸å¦‚çœ‹å®˜æ–¹æ–‡æ¡£ï¼Œåƒæˆ‘ç°åœ¨çœ‹çš„Javascriptæ•™ç¨‹ï¼Œæ—¢æœ‰æ–‡æ¡£åˆæœ‰ç»ƒä¹ ï¼ŒåŠ ä¸Šæ€»ç»“å›çœ‹è®°å¿†æ·±åˆ»ï¼Œå¦‚æœæ²¡æœ‰å¥½çš„é€‰æ‹©ï¼Œä¸å¦‚çœ‹å®˜æ–¹æ–‡æ¡£ã€‚**
- è®°ä½äº†ä½†æ˜¯ä¸æ‡‚å¾—åº”ç”¨ï¼ŒçŸ¥è¯†åˆ©ç”¨ç‡åªæœ‰25%ï¼Œæ‰€ä»¥åªæœ‰çœŸæ­£è¿ç”¨èµ·æ¥æ‰ç®—ç†è§£äº†ã€‚æœ‰æ—¶ä½ çœ‹æ‡‚äº†ä¹Ÿä¸ä¸€å®šæ˜¯çœŸæ‡‚ï¼Œç›´åˆ°è‡ªå·±å†™å‡ºä»£ç æ‰èƒ½ç¡®è®¤æ˜¯ä¸æ˜¯çœŸçš„æ‡‚äº†ã€‚
- å¯ä»¥é€‰æ‹©æ€§çš„çœ‹ä¸€äº›çŸ¥è¯†ç‚¹ï¼Œå°¤å…¶æ˜¯ä¸€äº›ä¸´ç•ŒçŸ¥è¯†ï¼ŒèŠ±åŒæ ·çš„æ—¶é—´å¯ä»¥è·å¾—æœ€å¤§çš„æå‡ï¼Œä»¥å‰ç»å¸¸çŠ¯çš„é”™è¯¯å°±æ˜¯æ¯æ¬¡éƒ½ä»å¤´å¼€å§‹çœ‹é‡å¤çš„çŸ¥è¯†ï¼Œå¾€å¾€çœ‹äº†ä¸€æ®µç–²å€¦äº†å°±æ”¾å¼ƒäº†ï¼Œå¯¼è‡´ä¸€ç›´åœ¨å¼€å¤´é‚£ä¸€ç‚¹çŸ¥è¯†ï¼ŒåŒ…æ‹¬ç¬”è®°æœ¬è®°çš„ç¬”è®°ä¹Ÿæ˜¯ï¼ŒåŸºæœ¬è®°äº†å‡ é¡µè¿™ä¸ªç¬”è®°æœ¬å°±æ²¡å†ç”¨è¿‡ã€‚
- è®¡åˆ’æ²¡æœ‰å˜åŒ–å¿«ï¼Œæ‰€ä»¥æˆ‘ç°åœ¨éƒ½ä¸åˆ—è®¡åˆ’ï¼Œä»¥å‰åˆ—äº†è®¡åˆ’ä¹Ÿä¸ä¸€å®šæŒ‰æ—¶å®Œæˆï¼Œä¸å¦‚æŠŠåˆ—è®¡åˆ’çš„æ—¶é—´èŠ±åœ¨æ‰§è¡Œä¸Šï¼Œæ¯å¤©æ ¹æ®ç°æœ‰è¿›åº¦æŒç»­æ‰§è¡Œã€‚æ¯”ç©ºå¤´è®¡åˆ’è¦æœ‰ä»·å€¼ã€‚
- æˆ‘ç°åœ¨å­˜åœ¨çš„é—®é¢˜æ˜¯çŸ¥è¯†æ€»ç»“äº†ä¹‹åï¼Œé•¿æ—¶é—´ä¸ä½¿ç”¨å°±ä¼šå¿˜è®°ï¼Œè™½ç„¶å¯ä»¥è„±ç¦»æ¡†æ¶åšå¼€å‘äº†ï¼Œä½†æ˜¯æ˜æ˜¾é¡¹ç›®ç»éªŒè¿˜ä¸å¤Ÿä¸°å¯Œï¼Œä¸€ä¸ªæ˜¯ä¹‹å‰çš„é¡¹ç›®æ¯•ç«Ÿéš¾åº¦ä¸æ˜¯å¾ˆå¤§ã€‚æˆ‘ç°åœ¨æƒ³æå‡ä¸€ä¸ªleveléœ€è¦æ›´å¤šçš„è®­ç»ƒï¼Œä½†æ˜¯å·¥ä½œä¸­è¦æƒ³é’ˆå¯¹æ€§çš„è®­ç»ƒè¿˜æ˜¯æ¯”è¾ƒéš¾çš„ã€‚

å‚è€ƒèµ„æ–™
---

- [DOM & Basic Knowledge]https://zh.javascript.info/
- [DOM]https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents
- [ES6]https://babeljs.io/docs/en/learn
- [MVC]http://todomvc.com/

JavaScript Core
---


What is DOM?
---

DOMæ˜¯HTML documentçš„è®¿é—®æ¥å£ï¼Œå®ƒèµ‹äºˆäº†æˆ‘ä»¬é€šè¿‡ä½¿ç”¨javascriptè®¿é—®å’Œæ“ä½œDOMå¯¹è±¡çš„èƒ½åŠ›ã€‚
HTML DOMæ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œæœ‰å‡ ç§ä¸åŒçš„èŠ‚ç‚¹ç±»å‹ï¼Œæˆ‘ä»¬å¹³æ—¶æœ€å¸¸ç”¨åˆ°çš„å°±æ˜¯ä¸‹é¢è¿™å‡ ç§:

- ELEMENT_NODE å…ƒç´ èŠ‚ç‚¹ å€¼ 1
- TEXT_NODE æ–‡æœ¬èŠ‚ç‚¹ å€¼ 3
- COMMENT_NODE æ³¨é‡ŠèŠ‚ç‚¹ å€¼ 8
- ATTRIBUTE_NODE å±æ€§èŠ‚ç‚¹ å€¼ 2
- DOCUMENT_NODE æ–‡æ¡£èŠ‚ç‚¹ å€¼ 9


DOM Browser Implement 
---
Object
  - Window
    - Navigator
  - EventTarget
    - Node
      - Element
      - Document
        - HTMLElement
          - HTMLBODYElement


çŸ¥è¯†ç‚¹æ€»ç»“
---
- JavaScript Core
  - An Introduction
  - Javascript Fundamentals
  - Code quality
  - Object: the basics
    - Objects
      - ç†è§£å¯¹è±¡
        - æŠŠå¯¹è±¡æƒ³è±¡æˆå­˜æ”¾æ–‡ä»¶çš„æ©±æŸœï¼Œæ–‡ä»¶æŒ‰ç…§ä»–ä»¬çš„åå­—keyæ¥æ’åˆ—ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¾ˆå®¹æ˜“æ ¹æ®æ–‡ä»¶åæ¥æ‰¾åˆ°ï¼Œæ·»åŠ ï¼Œæˆ–è€…åˆ é™¤ä¸€ä¸ªæ–‡ä»¶äº†ã€‚
      - å¯¹è±¡çš„å­˜å‚¨çš„é”®å€¼å¯¹
        - å¯¹è±¡çš„keyåæ˜¯stringç±»å‹ï¼Œå³ä½¿æ˜¯æ•°å­—å’Œç¬¦å·ä¹Ÿéƒ½æ˜¯ä»¥stringçš„å½¢å¼å­˜å‚¨çš„ã€‚
        - å±æ€§çš„é”®å¿…é¡»æ˜¯å­—ç¬¦ä¸²æˆ–è€…Symbolç¬¦å·
        - å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹
      - è·å–å¯¹è±¡çš„å±æ€§å€¼
        - ç‚¹ç¬¦å· `object.property`
        - æ–¹æ‹¬å· `object['property']` æ–¹æ‹¬å·ä¸­å¯ä»¥ä½¿ç”¨å˜é‡ `object[variableKey]`ï¼Œæœ‰æ—¶æˆ‘ä»¬éœ€è¦ä»å˜é‡ä¸­è®¡ç®—å¯¹è±¡çš„å±æ€§å
      - å¯¹è±¡æ“ä½œ
        - åˆ é™¤å±æ€§ `delete object.property`
        - æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨ `'key' in object`
        - éå†å¯¹è±¡ `for(let key in object)` å¾ªç¯
      - å¯¹è±¡æ˜¯æ ¹æ®å¼•ç”¨æ¥èµ‹å€¼çš„ï¼Œåœ¨å˜é‡ä¸­å­˜å‚¨ä¸æ˜¯å¯¹è±¡çš„å€¼ï¼Œè€Œæ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œä¹Ÿå°±æ˜¯å†…å­˜åœ°å€ï¼Œæ‰€ä»¥èµ‹å€¼å˜é‡æ—¶åªæ˜¯å¤åˆ¶äº†æŒ‡é’ˆï¼Œè€Œä¸”å¤šä¸ªå¼•ç”¨æ“ä½œéƒ½ä½œç”¨äºåŒä¸€ä¸ªå¯¹è±¡ã€‚å½“ä¸¤ä¸ªå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™ä»–ä»¬ç›¸ç­‰ï¼Œ`objectA === objectB`
      - å¯¹è±¡çš„æ·±åº¦copyéœ€è¦å¤„ç†å¯¹è±¡å±æ€§å€¼æ˜¯å¯¹è±¡çš„æƒ…å†µï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨é€’å½’åˆ¤æ–­è¿›è¡Œéå†copyï¼Œæˆ–è€…ä½¿ç”¨lodashçš„`cloneDeep(object)`,å¯¹äºç®€å•å¯¹è±¡çš„æµ…copyå¯ä»¥ä½¿ç”¨`let clone = Object.assign({}, object)`ç”¨è¦å¤åˆ¶çš„å¯¹è±¡å’Œç©ºå¯¹è±¡merge, è¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥åˆå¹¶å¤šä¸ªå¯¹è±¡ï¼Œkeyç›¸åŒçš„å‰é¢çš„å€¼ä¼šè¢«åé¢çš„è¦†ç›– `Object.assign(dest[, src1, src2, src3...])`ã€‚
      - å¯¹è±¡å±æ€§åæ’åºé—®é¢˜
        - å¦‚æœå¯¹è±¡çš„å±æ€§åæ˜¯ä¸€ä¸ªå¯ä»¥è½¬æ¢æˆæ•´æ•°çš„string numberï¼Œé‚£ä¹ˆåœ¨å¾ªç¯ä¸­éå†è¾“å‡ºå¯¹è±¡keyçš„æ—¶å€™æ˜¯æŒ‰ç…§æ•°å­—ä»å°åˆ°å¤§å¾—é¡ºåºçš„ã€‚
      - å¸¸é‡å¯¹è±¡å¯ä»¥ä¿®æ”¹ï¼Œå› ä¸ºå˜é‡å­˜å‚¨çš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œå¯¹è±¡å†…éƒ¨çš„å€¼å¦‚æœä¿®æ”¹å¹¶ä¸å½±å“ã€‚
        - ä¾‹å­
        ```
        const user = {
            name: "John"
        };
        user.age = 25; // (*)
        alert(user.age); // 25
        ```
      - å±æ€§åå’Œå˜é‡åç›¸åŒæ—¶å¯ä»¥ç®€å†™
        - ä¾‹å­
        ```
        function makeUser(name, age) {
            return {
                name, // ä¸ name: name ç›¸åŒ
                age   // ä¸ age: age ç›¸åŒ
                // ...
            };
        }
        ```
    - Garbage collection
      - ç†è§£åƒåœ¾å›æ”¶çš„å…³é”®æ˜¯ç†è§£ä»€ä¹ˆæ˜¯å¯è¾¾æ€§ï¼Œåªæœ‰ä¸å¯è¾¾çš„å¯¹è±¡æ‰ä¼šè¢«åƒåœ¾å›æ”¶å™¨å¤„ç†
        - å¯è¾¾å€¼æ˜¯é‚£äº›ä»¥æŸç§æ–¹å¼å¯è®¿é—®æˆ–å¯ç”¨çš„å€¼ï¼Œå®ƒä»¬ä¿è¯å­˜å‚¨åœ¨å†…å­˜ä¸­ã€‚
        - åŸºæœ¬å¯è¾¾å€¼ï¼Œä¸èƒ½è¢«é‡Šæ”¾
          - å…¨å±€å˜é‡
          - å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡å’Œå‚æ•°
          - åµŒå¥—è°ƒç”¨æ—¶ï¼Œå½“å‰è°ƒç”¨é“¾ä¸Šæ‰€æœ‰å‡½æ•°çš„å˜é‡å’Œå‚æ•°
        - å¦‚æœä¸€ä¸ªå€¼å¯ä»¥é€šè¿‡å¼•ç”¨æˆ–è€…å¼•ç”¨é“¾ä»æ ¹å€¼è®¿é—®åˆ°ï¼Œé‚£ä¹ˆè®¤ä¸ºè¿™ä¸ªå€¼å¯è¾¾ã€‚
        - å¦‚æœä¸€ä¸ªå¯¹è±¡å¯¹å¤–å¼•ç”¨æˆ–è€…å‡ ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œåªè¦å¯¹è±¡ä¸èƒ½é€šè¿‡å…¨å±€å˜é‡æ ¹å¯è¾¾ï¼Œä»–ä»¬éƒ½æ˜¯å­¤ç«‹æ•°æ®ï¼Œéƒ½ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶
      - åƒåœ¾å›æ”¶çš„ç®—æ³•æ˜¯ mark and sweep æ ‡è®°æ¸…é™¤æ³•ï¼Œæ‰€æœ‰unreachableçš„å¯¹è±¡éƒ½ä¼šè¢«æ¸…é™¤
    - Symbol type
      - å¯¹è±¡çš„keyå€¼åªèƒ½æ˜¯Stringç±»å‹æˆ–è€…Symbolç±»å‹
      - Symbolè¡¨ç¤ºå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå®ƒå…·æœ‰å”¯ä¸€æ€§ï¼Œå½“å®ƒå¹¶ä¸æ˜¯Stringç±»å‹ï¼Œç±»ä¼¼äºä¸€ä¸ªå…¨å±€çš„uuidæŒ‡é’ˆ
        - è¯­æ³•
        ```
        let id = Symbol("id");

        let user = {
            name: "John",
            [id]: 123 // ä¸ä»…ä»…æ˜¯ "idï¼š123"
        };
        ```
      - åº”ç”¨åœºæ™¯
        - éšè—å¯¹è±¡å±æ€§ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªå±äºè‡ªå·±ç‹¬ç«‹åº“çš„å±æ€§ï¼Œè€Œä¸æƒ³ä¸å…¶ä»–åº“å†²çªï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Symbolä½œä¸ºå±æ€§keyï¼Œå®ƒä¸ä¼šå‡ºç°åœ¨for...inå¾ªç¯ä¸­ï¼Œä¹Ÿä¸ä¼šè¢«ç›´æ¥è®¿é—®åˆ°ã€‚
        - Javascriptæœ‰å¾ˆå¤šç³»ç»Ÿå†…ç½®Symbolï¼Œä¾‹å¦‚Symbol.iterator,Symbol.toPrimitiveï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¥æ”¹å˜ä¸€äº›å†…ç½®è¡Œä¸º
      - å…¨å±€Symbol
        - ä¸ºäº†åœ¨å…¨å±€æ³¨å†Œè¡¨é‡Œåˆ›å»ºæˆ–è€…è¯»å–Symbolæˆ‘ä»¬å¯ä»¥ç”¨Symbol.for(key)æ–¹æ³•æŒ‰åç§°è¿”å›ä¸€ä¸ªsymbol
        ```
        // ä»å…¨å±€æ³¨å†Œè¡¨ä¸­è¯»å–
        let id = Symbol.for("id"); // å¦‚æœè¯¥ Symbol ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒ

        // å†æ¬¡è¯»å–
        let idAgain = Symbol.for("id");

        // ç›¸åŒçš„ Symbol
        alert( id === idAgain ); // true
        ```
        - åå‘è°ƒç”¨ï¼Œé€šè¿‡symbolæŸ¥æ‰¾å®ƒçš„name
        ```
        let sym = Symbol.for("name");
        let sym2 = Symbol.for("id");

        // ä» symbol ä¸­è·å– name
        alert( Symbol.keyFor(sym) ); // name
        alert( Symbol.keyFor(sym2) ); // id       
        ```
    - Object mothods, "this"
      - å­˜å‚¨åœ¨å¯¹è±¡ä¸­çš„functionè¢«ç§°ä¸ºæ–¹æ³•ï¼Œå¯¹è±¡æ‰§è¡Œæ–¹æ³•`object.doSomething();`æ–¹æ³•å¯ä»¥å°†å¯¹è±¡å¼•ç”¨ä¸ºthis
      - thisæ˜¯è¿è¡Œæ—¶æ±‚å€¼ï¼Œæ³¨æ„ç»‘å®šthisçš„æŒ‡å‘
        - å‡½æ•°å£°æ˜ä½¿ç”¨çš„thisåªæœ‰ç­‰åˆ°è°ƒç”¨æ—¶æ‰ä¼šæœ‰å€¼ã€‚æˆ‘ä»¬è¦ç†è§£è¿™ä¸€ç‚¹æ‰èƒ½é¿å…thisè°ƒç”¨æ—¶æŒ‡å‘é”™è¯¯çš„å¯¹è±¡ã€‚
        - `object.method()`è¿™æ ·çš„è°ƒç”¨ï¼Œ.è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå‡½æ•°,è€Œæ˜¯ä¸€ä¸ªåŒ…å«æŒ‡å‘å¯¹è±¡å¼•ç”¨thisçš„ç‰¹æ®Šå¼•ç”¨ç±»å‹ï¼Œthisæ€»æ˜¯æŒ‡å‘object,ä¸`func = object.method`è¿™ç§ä¼ é€’å‡½æ•°å¼•ç”¨çš„æ–¹å¼ä¸åŒï¼Œè¿™ä¸ªè¡¨è¾¾å¼åœ¨ä¼ é€’è¿‡ç¨‹ä¼šä¸¢å¤±ç‰¹æ®Šå¼•ç”¨ç±»å‹ï¼Œä»è€Œå¤±å»thisçš„å€¼
      - ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œç®­å¤´å‡½æ•°å†…éƒ¨è®¿é—®çš„éƒ½æ˜¯æ¥è‡ªå¤–éƒ¨çš„this
      ```
        let user = {
            firstName: "Ilya",
            sayHi() {
                let arrow = () => alert(this.firstName);
                arrow();
            }
        };
        user.sayHi(); // Ilya

      ```
    - Object to primitive conversion
      - å¯¹è±¡åˆ°åŸå§‹å€¼çš„è½¬æ¢ï¼Œæ˜¯ç”±å†…ç½®å‡½æ•°å’Œæ“ä½œç¬¦è‡ªåŠ¨è°ƒç”¨çš„ã€‚è¿™äº›å‡½æ•°ä½¿ç”¨ä¸€ä¸ªåŸå§‹å€¼ä½œä¸ºè¿”å›å€¼ã€‚
      ```
        let user = {
            name: "John",
            money: 1000,

            [Symbol.toPrimitive](hint) {
                alert(`hint: ${hint}`);
                return hint == "string" ? `{name: "${this.name}"}` : this.money;
            }
        };

        // è½¬æ¢æ¼”ç¤ºï¼š
        alert(user); // hint: string -> {name: "John"}
        alert(+user); // hint: number -> 1000
        alert(user + 500); // hint: default -> 1500
      ```
      - å®ƒæœ‰ä¸‰ç§ç±»å‹
        - string æ¯”å¦‚alertå’Œå…¶ä»–å­—ç¬¦ä¸²è½¬æ¢
        - number æ¯”å¦‚æ•°å­¦è®¡ç®—
        - default å°‘æ•°æ“ä½œ é€šå¸¸ä¸numberç›¸åŒ
      - é€šå¸¸çš„è½¬æ¢ç®—æ³•
        - è°ƒç”¨`object[Symbol.toPrimitive](hint)`
        - å¦åˆ™å¦‚æœæš—ç¤ºæ˜¯ "string"
            å°è¯• obj.toString() å’Œ obj.valueOf()ï¼Œæ— è®ºå“ªä¸ªå­˜åœ¨ã€‚
        - å¦åˆ™ï¼Œå¦‚æœæš—ç¤º "number" æˆ–è€… "default"
            å°è¯• obj.valueOf() å’Œ obj.toString()ï¼Œæ— è®ºå“ªä¸ªå­˜åœ¨ã€‚
        åœ¨å®è·µä¸­ï¼Œä¸ºäº†è®°å½•æˆ–è°ƒè¯•ç›®çš„ï¼Œä»…å®ç° obj.toString() ä½œä¸ºâ€œå…¨æ•è·"æ–¹æ³•é€šå¸¸å°±å¤Ÿäº†ï¼Œè¿™æ ·æ‰€æœ‰è½¬æ¢éƒ½èƒ½è¿”å›ä¸€ç§â€œäººç±»å¯è¯»â€çš„å¯¹è±¡è¡¨è¾¾å½¢å¼ã€‚
    - Constructor, operator "new"
      - æ„é€ å‡½æ•°å¯ä»¥ç”¨æ¥åˆ›å»ºå¤šä¸ªç±»ä¼¼çš„å¯¹è±¡ï¼ŒJavascriptæä¾›äº†å¾ˆå¤šå†…ç½®å¯¹è±¡çš„æ„é€ å‡½æ•°ä¾‹å¦‚ Date,Set,Mapç­‰
      - æ„é€ å‡½æ•°æœ¬è´¨ä¸Šä¹Ÿæ˜¯æ™®é€šçš„å‡½æ•°ï¼Œä¸è¿‡æˆ‘ä»¬é€šå¸¸æ³¨æ„ä¸¤ç‚¹
        - é¦–å­—æ¯å¤§å†™
        - åªèƒ½ç”¨newæ“ä½œç¬¦æ¥æ‰§è¡Œï¼Œä¸ç„¶å°±æˆäº†æ™®é€šå‡½æ•°äº†
      - newåŠ æ„é€ å‡½æ•°çš„æ“ä½œç¬¦åšäº†ä»€ä¹ˆ
        - åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡
        - æŠŠå‡½æ•°çš„thisä½œç”¨äºæŒ‡å‘è¿™ä¸ªå¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå‡½æ•°
        - æŠŠå¯¹è±¡çš„__proto__æŒ‡å‘å‡½æ•°çš„prototype
        - è¿”å›è¿™ä¸ªå¯¹è±¡
      - å¦‚æœä¸€ä¸ªæ„é€ å‡½æ•°é‡Œreturnäº†ä¸€ä¸ªå¯¹è±¡ï¼Œè¿”å›çš„ä¸æ˜¯thisï¼Œè€Œæ˜¯returnçš„å¯¹è±¡ã€‚
        ```
        function BigUser() {
            this.name = "John";
            return { name: "Godzilla" };  // <-- returns ä¸€ä¸ª object
        }
        alert( new BigUser().name );  // å“‡å“¦ï¼Œå¾—åˆ°äº†å¯¹è±¡ï¼Œname å±æ€§å€¼ä¸º Godzilla ^^
        ```
  - Data types
    - Method of primitives
      - æ•°æ®ç±»å‹
        - åŸºæœ¬ç±»å‹ 6ç§
          - String
          - Boolean
          - Number
          - undefined
          - null
          - Symbol
        - å¯¹è±¡ç±»å‹
          - èƒ½å­˜å‚¨å¤šä¸ªå€¼ä½œä¸ºå±æ€§
          - Object
          - Function
          - Array
          - Date
          - RegExp
          - Map/Set
        - å¯¹è±¡æ¯”åŸºæœ¬ç±»å‹éœ€è¦æ›´å¤šçš„é¢å¤–èµ„æºæ¥æ”¯æŒè¿ä½œï¼Œå› ä¸ºåŸºæœ¬ç±»å‹è™½ç„¶è¯´æœ¬è´¨ä¸Šä¹Ÿæ˜¯å¯¹è±¡ï¼Œä½†æ˜¯ç»è¿‡Javascritå¼•æ“ç‰¹æ®Šä¼˜åŒ–ã€‚
      - åŸºæœ¬ç±»å‹è®¿é—®æ—¶ç‰¹æ®Šè½¬æ¢
        - åŸºæœ¬ç±»å‹ä»ç„¶æ˜¯åŸå§‹æ•°æ®ï¼Œæä¾›å•ä¸ªå€¼ï¼Œå½“è®¿é—®String/Number/Boolean/Symbolæ—¶çš„å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„ä¸´æ—¶åŒ…è£…å¯¹è±¡ï¼Œæä¾›é¢å¤–çš„åŠŸèƒ½ï¼Œè¿è¡Œåé”€æ¯ã€‚
        - ä¸æ¨èä½¿ç”¨new æ„é€ å‡½æ•°çš„æ–¹å¼åˆ›å»ºåŸºæœ¬ç±»å‹ï¼Œä¼šäº§ç”Ÿä¸€äº›é¢å¤–çš„é—®é¢˜ï¼Œæ¯”å¦‚åˆ›å»ºè¿‡ç¨‹ä¸­äº§ç”Ÿç±»å‹è½¬æ¢ã€‚ä¾‹å¦‚`let number = new Number('123'); //string 123 will be converted to a number.`
        - null/undefinedæ²¡æœ‰ä»»ä½•æ–¹æ³•
    - Numbers
      - ç¼©å†™æ¯”è¾ƒå¤§çš„æ•°å­—
        - æ•´æ•°
          - number + e + 0çš„æ•°é‡
            `1 billion = 1000000000 = 1e9 = 1 * 1000 000 000(9ä¸ª0)`
            `1230000 = 1.23e6 = 1.23 * 1000 000(6ä¸ª0)`
        - å°æ•°
          - number + e + '-' + 0çš„æ•°é‡
            `1 ms = 0.001s = 1e-3 = 1 * 0.001(1/1000) 3ä¸ª0`
            `0.00000123 = 1.23e-6 = 1.23 * 0.000001(1/1000000) 6ä¸ª0`
      - 16è¿›åˆ¶ï¼Œ2è¿›åˆ¶å’Œ8è¿›åˆ¶æ•°å­—
        - 0xFF //16è¿›åˆ¶çš„255
        - 0b11111111 //8è¿›åˆ¶çš„255
      - è¿›åˆ¶è½¬æ¢num.toString(base)
        - è¿”å›æŒ‡å®šè¿›åˆ¶baseçš„æ•°å­—numå­—ç¬¦ä¸²ï¼ŒbaseèŒƒå›´æ˜¯2-36
          - 16è¿›åˆ¶ 0-9 A-F
          - 2è¿›åˆ¶ 0æˆ–1
          `alert( 123456..toString(36) ); // 2n9c`
        - è°ƒç”¨æ–¹æ³•çš„ä¸¤ä¸ª.ï¼Œå› ä¸ºjavascriptè¯­æ³•è§£æå™¨ä¼šæŠŠç¬¬ä¸€ä¸ª.å½“æˆå°æ•°çš„ä¸€éƒ¨åˆ†ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´è°ƒç”¨å¤±è´¥
          - ç­‰åŒäº`(123456).toString(36)`
      - å››èˆäº”å…¥
        - Math.floor ä¸‹èˆå…¥ 3.1->3 -1.1->-2
        - Math.ceil ä¸Šèˆå…¥ 3.1->4 -1.1->-1
        - Math.round å››èˆäº”å…¥ 3.1->3 3.6->4  -1.1->-1
        - Math.trunc åˆ é™¤å°æ•°ç‚¹ä¸èˆå…¥ï¼ŒIEä¸æ”¯æŒå¯ä»¥è‡ªå·±ç”¨æ­£åˆ™æ¥å®ç°
        - num.toFixed(å°æ•°çš„ä½æ•°å››èˆäº”å…¥) 
          - `(12.36).toFixed(1)//12.4` 
          - `(12.34).toFixed(1)//12.3`
      - æµ®ç‚¹æ•°è®¡ç®—ç²¾åº¦é—®é¢˜
        - å¯¹äºå°æ•°çš„è®¡ç®—ç»“æœæˆ‘ä»¬è¦ç›¸å½“è°¨æ…ï¼Œå¦åˆ™ç»“æœå¯èƒ½ä¼šå› ä¸ºç²¾åº¦é—®é¢˜å‡ºä¹æˆ‘ä»¬çš„æ„æ–™ã€‚
          `alert( 0.1 + 0.2 == 0.3 ); // false`
        - 0.1 å°±æ˜¯æŠŠ 1 é™¤ä»¥ 10 1/10ï¼Œå³ååˆ†ä¹‹ä¸€ã€‚åœ¨åè¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­ï¼Œè¿™äº›æ•°å­—å¾ˆå®¹æ˜“è¡¨ç¤ºã€‚å°†å®ƒæ¯”ä½œä¸‰åˆ†ä¹‹ä¸€ï¼š1/3ã€‚å®ƒå˜æˆäº†æ— å°½çš„åˆ†æ•° 0.33333(...)æ‰€ä»¥ï¼ŒæŒ‰è¿™ç§ç”¨ 10 åˆ’åˆ†å¯ä»¥ä¿è¯åœ¨åè¿›åˆ¶ç³»ç»Ÿä¸­è¿è¡Œè‰¯å¥½ï¼Œä½†ç”¨ 3 åˆ’åˆ†ä¸æ˜¯ã€‚
        `alert( 0.1.toFixed(20) ); // 0.10000000000000000555`
        - è§£å†³æ–¹æ¡ˆ
          - å°†å°æ•°ç»“æœä½¿ç”¨toFixedè¿›è¡Œå››èˆäº”å…¥
          ```
          let sum = 0.1 + 0.2;
          alert( sum.toFixed(2) ); // 0.30
          ```
          - é€šè¿‡ä¹˜æ³•å…ˆè½¬æ¢ä¸ºæ•´æ•°ï¼Œå†é€šè¿‡é™¤æ³•è¿˜åŸ
          ```
          alert( (0.1 * 10 + 0.2 * 10) / 10 ); // 0.3
          ```
      - æ•°å­—æ£€æµ‹isFinite(number/string) and isNaN(number)
        - isFinite(value) å°†å…¶å‚æ•°è½¬æ¢ä¸ºæ•°å­—ï¼Œå¦‚æœæ˜¯å¸¸è§„æ•°å­—ï¼Œåˆ™è¿”å› trueï¼Œè€Œä¸æ˜¯ NaN / Infinity / -Infinityï¼š ï¼Œå¸¸ç”¨äºæ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä¸€ä¸ªå¸¸è§„æ•°å­—
          ```
            alert( isFinite("15") ); // true
            alert( isFinite("str") ); // false, because a special value: NaN
            alert( isFinite(Infinity) ); // false, because a special value: Infinity
          ```
        - isNaN(value) å°†å…¶å‚æ•°è½¬æ¢ä¸ºæ•°å­—ï¼Œç„¶åæµ‹è¯•å®ƒæ˜¯å¦ä¸º NaNï¼š
          ```
            alert( isNaN(NaN) ); // true
            alert( isNaN("str") ); // true          
          ```
        - æ‰€æœ‰æ•°å­—å‡½æ•°ï¼ˆåŒ…æ‹¬ isFiniteï¼‰ä¸­çš„ç©ºå­—ç¬¦ä¸²æˆ–ç©ºæ ¼å­—ç¬¦ä¸²å‡è¢«è§†ä¸º 0
      - parseInt(string, radix) and parseFloat(string) è½¬æ¢å‡ºæ¥çš„æ˜¯10è¿›åˆ¶æ•´æ•°è¿™é‡Œå¹¶ä¸é€‚ç”¨äºå…¶ä»–è¿›åˆ¶çš„è½¬æ¢
        - parseInt(string, radix) radixæ˜¯è¿›åˆ¶çš„ä½æ•°
          - ä½¿ç”¨åŠ å· + æˆ– Number() çš„æ•°å­—è½¬æ¢æ˜¯ä¸¥æ ¼çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰æ—¶éœ€è¦ä»å­—ç¬¦ä¸²ä¸­æå–ä¸€ä¸ªæ•°å­—å‡ºæ¥ï¼Œè¿™å°±æ˜¯è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨ï¼Œå¦‚æœæ— æ³•è¿”å›æ•°å­—ï¼Œåˆ™ä¼šè¿”å›NaN
          ```
            alert( parseInt('100px') ); // 100
            alert( parseFloat('12.5em') ); // 12.5
          ```
          - parseFloat(string)
            - ç”¨äºæå–ä¸€ä¸ªæœ‰æ•ˆçš„æµ®ç‚¹æ•°
            ```
            alert( parseInt('12.3') ); // 12, only the integer part is returned
            alert( parseFloat('12.3.4') ); // 12.3, the second point stops the reading
            ```
      - å¸¸ç”¨å…¶ä»–æ•°å­¦å‡½æ•°
        - Math.random() è¿”å›ä» 0 åˆ° 1 çš„éšæœºæ•°ï¼ˆä¸åŒ…æ‹¬ 1ï¼‰
          `alert( Math.random() ); // 0.1234567894322`
        - Math.max(a, b, c...) / Math.min(a, b, c...) ä»ä»»æ„æ•°é‡çš„å‚æ•°ä¸­è¿”å›æœ€å¤§/æœ€å°å€¼ã€‚
          `alert( Math.max(3, 5, -10, 0, 1) ); // 5`
        - Math.pow(n, power) è¿”å› n çš„ power æ¬¡å¹‚ï¼Œå³ n power
          `alert( Math.pow(2, 10) ); // 2 çš„ 10 æ¬¡å¹‚ = 1024`
    - Strings
      - åˆ›å»ºå­—ç¬¦ä¸²çš„ä¸‰ç§æ–¹å¼
        - å•å¼•å·
          `let single = 'single-quoted';`
        - åŒå¼•å·
          `let double = "double-quoted";`
        - åå¼•å·ï¼Œæœ€ä¸ºå¼ºå¤§çš„æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åµŒå…¥è¡¨è¾¾å¼å’Œå˜é‡åˆ°å­—ç¬¦å½“ä¸­ï¼Œè€Œä¸”æ”¯æŒå¤šè¡Œå­—ç¬¦ä¸²
          ```
            function sum(a, b) {
                return a + b;
            }

            alert(`1 + 2 = ${sum(1, 2)}.`); // 1 + 2 = 3.          
          ```
      - ç‰¹æ®Šå­—ç¬¦
        - æ¢è¡Œç¬¦`\n`,ä¸‹é¢ä¸¤è¡Œä»£ç æ•ˆæœç›¸åŒ
        ```
            alert( "Hello\nWorld" ); // two lines using a "newline symbol"

            // two lines using a normal newline and backticks
            alert( `Hello
            World` );        
        ```
        - ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰ï¼Œä¾‹å¦‚`'`å’Œ`\`ï¼Œç”±äºJavascriptè¯­æ³•è§£æå¼•æ“å¯¹è¿™äº›ç‰¹æ®Šå­—ç¬¦ä½œä¸ºè¯­æ³•è§£æçš„åˆ¤æ–­æ¡ä»¶ï¼Œä½†æˆ‘ä»¬æƒ³è®©è¿™äº›ç‰¹æ®Šå­—ç¬¦ä½œä¸ºå­—ç¬¦ä¸²ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨`\`å¯¹é½è¿›è¡Œè½¬ä¹‰ã€‚
          - `'` æˆ‘ä»¬å¿…é¡»ç”¨åæ–œæ  \' æ¥è½¬ä¹‰å•å¼•å·ï¼Œå¦åˆ™å°±è¡¨ç¤ºå­—ç¬¦ä¸²ç»“æŸã€‚æˆ–è€…ä½¿ç”¨åå¼•å·ã€‚
            `lert( 'I\'m the Walrus!' ); // I'm the Walrus!`
            `lert( `I'm the Walrus!` ); // I'm the Walrus!`
          - `\` è½¬ä¹‰è½¬ä¹‰å­—ç¬¦è‡ªå·±ï¼Œæ—¢ç„¶è½¬ä¹‰å­—ç¬¦ä¼šå¯¹ç‰¹æ®Šå­—ç¬¦åšå¤„ç†ï¼Œé‚£ä¹ˆæˆ‘ä»¬æƒ³è¾“å‡ºä¸€ä¸ªå­—ç¬¦ä¸²`\`å‘¢
            `alert( `The backslash: \\` ); // The backslash: \`
        - å…¶ä»–ç‰¹æ®Šå­—ç¬¦
          - \t	Tab
          - \r	Carriage return
          - \b	Backspace
          - \uNNNN	16 è¿›åˆ¶çš„ NNNN çš„unicode ç¬¦å·ï¼Œä¾‹å¦‚ \u00A9â€”â€” æ˜¯ç‰ˆæƒç¬¦å·çš„ unicode Â©ã€‚å®ƒå¿…é¡»æ˜¯ 4 ä¸ª16 è¿›åˆ¶æ•°å­—ã€‚
          - \u{NNNNNNNN}	ä¸€äº›ç½•è§å­—ç¬¦ä½¿ç”¨ä¸¤ä¸ª unicode ç¬¦å·è¿›è¡Œç¼–ç ï¼Œæœ€å¤šå ç”¨ 4 ä¸ªå­—èŠ‚ã€‚è¿™ä¸ªé•¿çš„ unicode éœ€è¦å®ƒå‘¨å›´çš„æ‹¬å·ã€‚
          ```
            alert( "\u00A9" ); // Â©
            alert( "\u{20331}" ); // ä½«, a rare chinese hieroglyph (long unicode)
            alert( "\u{1F60D}" ); // ğŸ˜, a smiling face symbol (another long unicode)          
          ```
      - å­—ç¬¦ä¸²é•¿åº¦
        - length å­—ç¬¦ä¸²é•¿åº¦å±æ€§
          `alert( `My\n`.length ); //æ³¨æ„ \n æ˜¯ä¸€ä¸ªå•ç‹¬çš„â€œç‰¹æ®Šâ€å­—ç¬¦ï¼Œæ‰€ä»¥é•¿åº¦ç¡®å®æ˜¯ 3`
      - è®¿é—®å­—ç¬¦
        - å¯ä»¥ä½¿ç”¨æ–¹æ‹¬å· [pos] æˆ–è€…è°ƒç”¨ str.charAt(pos) æ–¹æ³•ã€‚ç¬¬ä¸€ä¸ªå­—ç¬¦ä»é›¶ä½ç½®å¼€å§‹,å¦‚æœæ²¡æœ‰æ‰¾åˆ°å­—ç¬¦ï¼Œ[] è¿”å› undefinedï¼Œè€Œ charAt è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼š
          ```
            let str = `Hello`;

            // the first character
            alert( str[0] ); // H
            alert( str.charAt(0) ); // H

            // the last character
            alert( str[str.length - 1] ); // o

            alert( str[1000] ); // undefined
            alert( str.charAt(1000) ); // '' (an empty string)            
          ```
        - for..of éå†å­—ç¬¦
          ```
            for (let char of "Hello") {
                alert(char); // H,e,l,l,o (char becomes "H", then "e", then "l" etc)
            }
          ```                 
      - å­—ç¬¦ä¸²é‡Œçš„å­—ç¬¦ä¸èƒ½é€šè¿‡ç´¢å¼•ä¿®æ”¹ï¼Œåªèƒ½é€šè¿‡èµ‹å€¼åˆ°æ–°çš„å­—ç¬¦ä¸²æ›¿æ¢
        ```
        let str = 'Hi';

        str[0] = 'h'; // error
        alert( str[0] ); // æ— æ³•è¿è¡Œ        
        ```
        - é€šå¸¸çš„è§£å†³æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶åˆ†é…ç»™ str è€Œä¸æ˜¯ä»¥å‰çš„å­—ç¬¦ä¸²
          ```
            let str = 'Hi';
            str = 'h' + str[1];  // å­—ç¬¦ä¸²æ›¿æ¢
            alert( str ); // h
          ```
      - å­—ç¬¦ä¸²æ–¹æ³•
        - æ”¹å˜å¤§å°å†™
          - str.toUpperCase() å¤§å†™
          - str.toLowerCase() å°å†™
            ```
            alert( 'Interface'.toUpperCase() ); // INTERFACE
            alert( 'Interface'.toLowerCase() ); // interface            
            ```
        - æŸ¥æ‰¾å­—ç¬¦ä¸²
          - str.indexOf(searchStr [,startPos])
            - å®ƒä»ç»™å®šä½ç½® pos å¼€å§‹ï¼Œåœ¨ str ä¸­æŸ¥æ‰¾ substrï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å› -1ï¼Œå¦åˆ™è¿”å›åŒ¹é…æˆåŠŸçš„ä½ç½®ã€‚
            ```
                let str = 'Widget with id';

                alert( str.indexOf('Widget') ); // 0ï¼Œå› ä¸º 'Widget' ä¸€å¼€å§‹å°±è¢«æ‰¾åˆ°
                alert( str.indexOf('widget') ); // -1ï¼Œæ²¡æœ‰æ‰¾åˆ°ï¼Œæ£€ç´¢æ˜¯å¤§å°å†™æ•æ„Ÿçš„

                alert( str.indexOf("id") ); // 1ï¼Œ"id" åœ¨ä½ç½® 1 å¤„ï¼ˆ...idget å’Œ idï¼‰           
            ```
            - åœ¨ä¸€ä¸ªå¾ªç¯ä¸­æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨éƒ½å‘ç”Ÿåœ¨ä¸Šä¸€æ¬¡åŒ¹é…ä½ç½®ä¹‹å
              ```
                let str = 'As sly as a fox, as strong as an ox';
                let target = 'as'; // è®©æˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹
                let searchPos = 0;
                while(true){
                    let result = str.indexOf(target, searchPos);
                    if(reuslt === -1){
                        break;
                    }
                    alert(`Found ${target} at ${result}`);
                    searchPos = result + 1;
                }
              ```
            - æ³¨æ„æŸ¥æ‰¾å­—ç¬¦ä¸²æ—¶åˆ¤æ–­æ¡ä»¶ï¼Œè¦ä¸-1å¯¹æ¯”ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨ifçš„æ¡ä»¶é‡Œè°ƒç”¨ã€‚
              ```
                let str = "Widget with id";

                if (str.indexOf("Widget") != -1) {
                    alert("We found it"); // ç°åœ¨è¿è¡Œäº†ï¼
                }              
              ```
              - ç®€å†™if (~str.indexOf(...)) è¯»ä½œ â€œif foundâ€ï¼Œåˆ©ç”¨äº†åªæœ‰å½“ n == -1 æ—¶ï¼Œ~n æ‰ä¸ºé›¶çš„ç‰¹æ€§ã€‚
                ```
                let str = "Widget";

                if (~str.indexOf("Widget")) {
                    alert( 'Found it!' ); // works
                }                
                ```
          - str.includes(searchStr, pos)
            - strä¸­æ˜¯å¦åŒ…å«searchStrè¿”å›ç»“æœtrue/falseï¼Œæˆ‘ä»¬åªæ˜¯éœ€è¦æµ‹è¯•åŒ¹é…ä¸éœ€è¦æŸ¥æ‰¾ä½ç½®æ—¶ä½¿ç”¨å®ƒã€‚ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æŒ‡å®šå¼€å§‹æœç´¢çš„ä½ç½®ï¼ŒæœªæŒ‡å®šä»0å¼€å§‹æœç´¢ã€‚
            ```
            alert( "Widget with id".includes("Widget") ); // true
            alert( "Hello".includes("Bye") ); // false            
            ```
          - str.startsWith(searchStr) åˆ¤æ–­å­—ç¬¦ä¸²stræ˜¯å¦ä»¥searchStrå¼€å¤´
          - str.endsWidth(searchStr) åˆ¤æ–­å­—ç¬¦ä¸²stræ˜¯å¦ä»¥searchStrç»“å°¾
            ```
            alert( "Widget".startsWith("Wid") ); // true, "Widget" ä»¥ "Wid" å¼€å§‹
            alert( "Widget".endsWith("get") );   // true, "Widget" ä»¥ "get" ç»“æŸ     
            ```
        - æˆªå–å­—ç¬¦ä¸²
          - str.slice(start [,end]) å¸¸ç”¨æ–¹æ³•
            - è¿”å›ä» start åˆ°ï¼ˆä½†ä¸åŒ…æ‹¬ï¼‰end çš„å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚
            ```
            let str = "stringify";
            alert( str.slice(0, 5) ); // 'strin', ä» 0 åˆ° 5 çš„å­å­—ç¬¦ä¸²ï¼ˆä¸åŒ…æ‹¬ 5ï¼‰
            alert( str.slice(0, 1) ); // 's', ä» 0 åˆ° 1ï¼Œä½†ä¸åŒ…æ‹¬ 1ï¼Œæ‰€ä»¥åªæœ‰åœ¨ 0 çš„å­—ç¬¦    
            ```
            - å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œslice è¿è¡Œåˆ°å­—ç¬¦ä¸²æœ«å°¾
            ```
            let str = "stringify";
            alert( str.slice(2) ); // ä»ç¬¬äºŒä¸ªä½ç½®ç›´åˆ°ç»“æŸ           
            ```
            - start/end ä¹Ÿæœ‰å¯èƒ½æ˜¯è´Ÿå€¼ã€‚å®ƒä»¬çš„æ„æ€æ˜¯ä½ç½®ä»å­—ç¬¦ä¸²ç»“å°¾è®¡ç®—
            ```
            let str = "stringify";

            // ä»å³è¾¹çš„ç¬¬å››ä¸ªä½ç½®å¼€å§‹ï¼Œåœ¨å³è¾¹çš„ç¬¬ä¸€ä¸ªä½ç½®ç»“æŸ
            alert( str.slice(-4, -1) ); //           
            ```
          - str.substring(start [, end])
            - è¿”å› start å’Œ end ä¹‹é—´çš„å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚è¿™ä¸ slice å‡ ä¹ç›¸åŒï¼Œä½†å®ƒå…è®¸ startå¤§äº endã€‚
            ```
            let str = "stringify";

            // è¿™äº›å¯¹äºå­ä¸²æ˜¯ç›¸åŒçš„
            alert( str.substring(2, 6) ); // "ring"
            alert( str.substring(6, 2) ); // "ring"            
            ```
          - str.sub(start, length)
            - ä» start å¼€å§‹è¿”å›ç»™å®š length çš„å­—ç¬¦ä¸²éƒ¨åˆ†ã€‚ä¸ä»¥å‰çš„æ–¹æ³•ç›¸æ¯”ï¼Œè¿™ä¸ªå…è®¸æˆ‘ä»¬æŒ‡å®š length è€Œä¸æ˜¯ç»“æŸä½ç½®
            ```
            let str = "stringify";
            alert( str.substr(2, 4) ); // ç¯ï¼Œä»ç¬¬äºŒä½è·å¾— 4 ä¸ªå­—ç¬¦            
            ```
      - æ¯”è¾ƒå­—ç¬¦ä¸²
        - æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½ä½¿ç”¨ UTF-16 ç¼–ç ã€‚å³ï¼šæ¯ä¸ªå­—ç¬¦éƒ½æœ‰ç›¸åº”çš„æ•°å­—ä»£ç ã€‚æœ‰ç‰¹æ®Šçš„æ–¹æ³•å¯ä»¥è·å–ä»£ç çš„å­—ç¬¦å¹¶è¿”å›ã€‚`str.codePointAt(pos)`
        `alert( 'a' > 'Z' ); // true`
        ```
            // ä¸åŒçš„å­—æ¯æœ‰ä¸åŒçš„ä»£ç 
            alert( "z".codePointAt(0) ); // 122
            alert( "Z".codePointAt(0) ); // 90
        ```
        - é€šè¿‡æ•°å­— code åˆ›å»ºå­—ç¬¦ `String.fromCodePoint(code)`,ç°åœ¨æˆ‘ä»¬çœ‹ä¸€ä¸‹ä»£ç  65..220 çš„å­—ç¬¦ï¼ˆæ‹‰ä¸å­—æ¯å’Œä¸€äº›é¢å¤–çš„å­—ç¬¦ï¼‰ï¼Œæ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼š
          ```
            let str = '';

            for (let i = 65; i <= 220; i++) {
                str += String.fromCodePoint(i);
            }
            alert( str );
            // ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~Â€ÂÂ‚ÂƒÂ„
            // Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿Ã€ÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃÃÃÃ‘Ã’Ã“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ›Ãœ          
          ```

        - æ­£ç¡®çš„æ¯”è¾ƒæ–¹æ³•`str.localeCompare(str2)`
          `alert( 'Ã–sterreich'.localeCompare('Zealand') ); // -1`

      - Unicode
        - å¤§éƒ¨åˆ† symbol éƒ½æœ‰ä¸€ä¸ª 2 å­—èŠ‚çš„ä»£ç ã€‚å¤§å¤šæ•°æ¬§æ´²è¯­è¨€ï¼Œæ•°å­—ç”šè‡³å¤§å¤šæ•°è±¡å½¢æ–‡å­—ä¸­çš„å­—æ¯éƒ½æœ‰ 2 å­—èŠ‚çš„è¡¨ç¤ºå½¢å¼ã€‚ä½† 2 å­—èŠ‚åªå…è®¸ 65536 ä¸ªç»„åˆï¼Œè¿™å¯¹äºæ¯ä¸ªå¯èƒ½çš„ç¬¦å·éƒ½æ˜¯ä¸å¤Ÿçš„ã€‚æ‰€ä»¥ç¨€æœ‰çš„ç¬¦å·è¢«ç§°ä¸ºâ€œä»£ç†å¯¹â€çš„ä¸€å¯¹ 2 å­—èŠ‚ç¬¦å·ç¼–ç ã€‚è¿™äº›ç¬¦å·çš„é•¿åº¦æ˜¯ 2
        ```
            alert( 'ğ’³'.length ); // 2, MATHEMATICAL SCRIPT CAPITAL X
            alert( 'ğŸ˜‚'.length ); // 2, FACE WITH TEARS OF JOY
            alert( 'ğ©·¶'.length ); // 2, a rare chinese hieroglyph        
        ```
    - Arrays
      - æ•°ç»„æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ï¼Œé€‚ç”¨äºå­˜å‚¨å’Œç®¡ç†æœ‰åºçš„æ•°æ®é¡¹ã€‚
      - åˆ›å»ºæ•°ç»„çš„æ–¹æ³•,å°½é‡ä¸è¦ä½¿ç”¨æ„é€ å‡½æ•°çš„æ–¹æ³•åˆ›å»ºæ•°ç»„ï¼Œä¼šäº§ç”ŸæœªçŸ¥é—®é¢˜
        `let arr = [item1, items, ...]`
      - lengthå±æ€§æ˜¯æ•°ç»„çš„é•¿åº¦ï¼Œå®ƒæ˜¯æ•°ç»„æœ€åä¸€é¡¹çš„æ•°å­—ç´¢å¼•å€¼åŠ 1ï¼Œå¦‚æœæˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹lengthï¼Œæ•°ç»„å°±ä¼šè¢«æˆªæ–­ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹æ€§æ¸…ç©ºæ•°ç»„ï¼Œarr.length = 0;
      - æ•°ç»„çš„æ–¹æ³•
        - æ•°ç»„æœ«ç«¯æ–¹æ³•
          - arr.push(item1, item2, ...)æ·»åŠ å…ƒç´ åˆ°æ•°ç»„çš„æœ«ç«¯ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦
          - arr.pop()åˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è¿”å›å®ƒ
          ```
            let fruits = ["Apple", "Orange"];
            fruits.push("Pear");
            alert( fruits ); // Apple, Orange, Pear

            let fruits = ["Apple", "Orange", "Pear"];
            alert( fruits.pop() ); // ç§»é™¤ "Pear" ç„¶å alert æ˜¾ç¤ºå‡ºæ¥
            alert( fruits ); // Apple, Orange
          ```
        - æ•°ç»„å‰ç«¯æ–¹æ³•
          - arr.unshift(item1, item2, ...)æ·»åŠ å…ƒç´ çš„æ•°ç»„çš„å‰ç«¯ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦
          - arr.shift()åˆ é™¤æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¹¶è¿”å›å®ƒ
            ```
            let fruits = ["Orange", "Pear"];
            fruits.unshift('Apple');
            alert( fruits ); // Apple, Orange, Pear

            let fruits = ["Apple", "Orange", "Pear"];
            alert( fruits.shift() ); // ç§»é™¤ Apple ç„¶å alert æ˜¾ç¤ºå‡ºæ¥
            alert( fruits ); // Orange, Pear
            ```
        - éå†æ•°ç»„
          - for æœ€ä¼ ç»Ÿçš„ç´¢å¼•å¾ªç¯
            ```
            let arr = ["Apple", "Orange", "Pear"];

            for (let i = 0; i < arr.length; i++) {
                alert( arr[i] );
            }            
            ```
          - for...of å¯è¿­ä»£å¯¹è±¡å¾ªç¯
            ```
            let fruits = ["Apple", "Orange", "Plum"];

            // è¿­ä»£æ•°ç»„å…ƒç´ 
            for (let fruit of fruits) {
                alert( fruit );
            }            
            ```
          - å¦‚æœéœ€è¦ç´¢å¼•å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿçš„forå¾ªç¯æˆ–è€…æ–°çš„arr.forEach()æ–¹æ³•ï¼Œä½†æ˜¯ä¸è¦ä½¿ç”¨for...inå¾ªç¯ï¼Œå› ä¸ºfor...inå¾ªç¯ä¼šè¿­ä»£æ‰€æœ‰å±æ€§ï¼Œä¸ä»…ä»…æ˜¯ç´¢å¼•å±æ€§ï¼Œè€Œä¸”é€Ÿåº¦ä¹Ÿæ…¢å¾ˆå¤šï¼Œä¾‹å¦‚ç±»æ•°ç»„å¯¹è±¡arrayLikeå°±æœ‰å¾ˆå¤šæˆ‘ä»¬ä¸éœ€è¦çš„å±æ€§ã€‚
      - æ•°ç»„æŒ‰å¼•ç”¨å¤åˆ¶ï¼Œæ•°ç»„æ˜¯ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡ã€‚ä½¿ç”¨æ–¹æ‹¬å·æ¥è®¿é—®å±æ€§ arr[indexNumber] å®é™…ä¸Šæ˜¯æ¥è‡ªäºå¯¹è±¡çš„è¯­æ³•ã€‚è¿™ä¸ªæ•°å­—è¢«ç”¨ä½œé”®å€¼ã€‚ä»–ä»¬æ‰©å±•äº†å¯¹è±¡ï¼Œæä¾›äº†ç‰¹æ®Šçš„æ–¹æ³•æ¥å¤„ç†æœ‰åºçš„æ•°æ®é›†åˆï¼Œè¿˜æ·»åŠ äº† length å±æ€§ã€‚ä½†æ˜¯æ ¸å¿ƒè¿˜æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚
      - æ€§èƒ½é—®é¢˜
        - åœ¨æœ«ç«¯æ“ä½œæ•°æ®push/popæ€§èƒ½è¦ä¼˜äºåœ¨æ•°ç»„å‰ç«¯æ“ä½œæ•°æ®unshift/shiftï¼Œå› ä¸ºä¸éœ€è¦å› ä¸ºå¢åŠ å…ƒç´ è€Œé‡æ’æ•´ä¸ªæ•°ç»„çš„ç´¢å¼•
      - å¤šç»´æ•°ç»„ï¼Œåœ¨æ•°ç»„ä¸­å­˜å‚¨æ•°ç»„ï¼Œä»¥å¤šç»´æ•°ç»„çš„æ–¹æ³•å­˜å‚¨çŸ©é˜µã€‚
        ```
            let matrix = [
                [1, 2, 3],
                [4, 5, 6],
                [7, 8, 9]
            ];

            alert( matrix[1][1] ); // æœ€ä¸­é—´çš„é‚£ä¸ªæ•°        
        ```
      - toStringæ–¹æ³•
        - æ•°ç»„çš„toStringæ–¹æ³•ä¼šè¿”å›ä»¥é€—å·éš”å¼€çš„å…ƒç´ åˆ—è¡¨ã€‚ç”±äºå®ƒåªå®ç°äº†è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥å½“éšå¼è½¬æ¢çš„æ—¶å€™å›ç›´æ¥è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚
        ```
            let arr = [1, 2, 3];

            alert( arr ); // 1,2,3
            alert( String(arr) === '1,2,3' ); // true        
        ```
        - å…³äº'+'æ“ä½œç¬¦è§¦å‘éšå¼è½¬æ¢çš„é—®é¢˜ï¼Œå½“ "+" æ“ä½œç¬¦æŠŠä¸€äº›é¡¹åŠ åˆ°å­—ç¬¦ä¸²åé¢æ—¶ï¼ŒåŠ å·åé¢çš„é¡¹ä¹Ÿä¼šè¢«è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ç›¸åŠ è§¦å‘äº†åé¢æ•°å­—çš„éšå¼è½¬æ¢ã€‚
          ```
          alert( [1] + 1 ); // "11"  [1].toString() + 1
          alert( "1" + 1 ); // "11"
          ```
        
    - Array methods
      - ä¿®æ”¹åŸæ•°ç»„æ•°æ®
        - æ·»åŠ å…ƒç´ 
          - arr.push(...items); æ·»åŠ å…ƒç´ åˆ°æ•°ç»„ç»“å°¾ è¿”å›æ•°ç»„é•¿åº¦
          - arr.unshift(...items); æ·»åŠ å…ƒç´ åˆ°æ•°ç»„å¼€å¤´ è¿”å›æ•°ç»„é•¿åº¦
          - arr.splice(pos, 0, ...items); æ·»åŠ å…ƒç´ åˆ°æ•°ç»„æŒ‡å®šä½ç½®ï¼Œç”±äºæ²¡æœ‰åˆ é™¤å…ƒç´ ï¼Œæ‰€ä»¥è¿”å›[]ç©ºæ•°ç»„

        - åˆ é™¤å…ƒç´ 
          - arr.pop(); åˆ é™¤æ•°ç»„ç»“å°¾çš„å…ƒç´ ï¼Œå¹¶è¿”å›è¢«åˆ é™¤çš„å…ƒç´ 
          - arr.shift(); åˆ é™¤æ•°ç»„å¼€å¤´çš„å…ƒç´ ï¼Œå¹¶è¿”å›è¢«åˆ é™¤çš„å…ƒç´ 
          - arr.splice(pos, deleteCount, ...items); åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´  è¿”å›è¢«åˆ é™¤çš„å…ƒç´ çš„æ•°ç»„[deleteItem, ...]

        - æ’åºå…ƒç´ 
          - arr.sort((a, b) => {return ... 1/0/-1;}) æ ¹æ®æ¯”è¾ƒå‡½æ•°çš„ç»“æœå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œæ¯”å¦‚æƒ³è®©aå’Œbä¸­å€¼æ¯”è¾ƒå¤§çš„æ’åœ¨åé¢ é‚£ä¹ˆ `a>b return 1; a=b return0; a<b return -1;`ï¼Œæ’åºç®—æ³•ä¼šæ ¹æ®æ¯”è¾ƒå‡½æ•°å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚
          - arr.reverse() é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåº

      - ä¸ä¿®æ”¹åŸæ•°ç»„
        - å¤åˆ¶æ•°ç»„å…ƒç´ 
          - arr.slice(start, end) ä»startåˆ°endä½†ä¸åŒ…æ‹¬endè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚è¿™ä¸ªæ–¹æ³•å’Œstr.sliceå¾ˆåƒ
          - arr.concat(...items) å°†æ•°ç»„å’Œå…¶ä»–æ•°ç»„å…ƒç´ ç»„æˆæ–°æ•°ç»„å¹¶è¿”å›ï¼Œ**å¦‚æœå‚æ•°æ˜¯å¤šç»´æ•°ç»„å°†ä¼šè¢«å±•å¼€**ã€‚
        - è®¡ç®—ç”Ÿæˆæ–°æ•°ç»„å¹¶è¿”å›
          - arr.map((item, index, array) => { return ...; }); å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨å‡½æ•°å¹¶è¿”å›ç»“æœæ•°ç»„ã€‚ 
        - ç´¯åŠ è®¡ç®—å¹¶è¿”å›ç»“æœ
          - arr.reduce/reduceRight((acc/previousValue, currentValue, index, arr) => { return ...;}, initial); è¿­ä»£æ¯ä¸ªæ•°ç»„å…ƒç´ å¹¶å°†è®¡ç®—ç»“æœè¿”å›
        - å­—ç¬¦ä¸²å’Œæ•°ç»„ç›¸äº’è½¬åŒ–
          - str.split(seperateStr) å­—ç¬¦ä¸²è½¬æ•°ç»„ï¼Œé€šè¿‡æŒ‡å®šçš„seperateStråˆ†éš”ç¬¦åˆ†å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„å¹¶è¿”å›
          - arr.join(seperateStr) æ•°ç»„è½¬å­—ç¬¦ä¸²ï¼Œé€šè¿‡æŒ‡å®šçš„seperateStråˆ†éš”å­—ç¬¦ä¸²åˆå¹¶æ•°ç»„ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›

      - æŸ¥è¯¢æ•°ç»„å…ƒç´ ï¼Œè¿™äº›æ–¹æ³•å¾ˆå®¹æ˜“ææ··æ·†ï¼Œ
        - å‚æ•°ä¸ºè¦æŸ¥æ‰¾çš„å…ƒç´ å’Œå¼€å§‹çš„ä½ç½®ï¼Œå¸¸ç”¨çš„å°±æ˜¯indexOfï¼Œincludesè¿”å›çš„true/falseåº”ç”¨å¤ªçª„
          - arr.indexOf/lastIndexOf(item, pos) ä»æŒ‡å®šä½ç½®posæŸ¥æ‰¾itemå¦‚æœæ‰¾åˆ°å°±è¿”å›ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›-1, lastIndexOfç›¸åŒåªä¸è¿‡æ˜¯ä»å°¾éƒ¨å¼€å§‹æŸ¥è¯¢, `return Number;`
          - arr.includes(item, fromPos) ä»æŒ‡å®šç´¢å¼•å¼€å§‹fromPosæŸ¥è¯¢item,å¦‚æœæ‰¾åˆ°åˆ™è¿”å›trueï¼Œå¦åˆ™è¿”å›false, `return Boolean`
        - å‚æ•°ä¸ºè¿”å›å€¼true/falseå‡½æ•°è¡¨è¾¾å¼ï¼Œ**findåªæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰è¿”å›çš„æ˜¯undefinded, filteræŸ¥æ‰¾çš„æ˜¯æ‰€æœ‰ç¬¦åˆçš„å…ƒç´ ï¼Œæ²¡æœ‰è¿”å›çš„æ˜¯ç©ºæ•°ç»„[]**
          - arr.find(function(item, index, array){ if(condition){return true/false} }) åœ¨æ•°ç»„ä¸­æ ¹æ®æ¡ä»¶å‡½æ•°è¿”å›å€¼æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œå¦‚æœè¿”å›å€¼ä¸ºtrueå°±è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„itemåˆ™åœæ­¢ï¼Œå¦‚æœæ²¡æ‰¾åˆ°è¿”å›undefined, `return Object/undefined`
          - arr.filter(function(item, index, array){ if(condition){return true/false} }) åœ¨æ•°ç»„ä¸­æ ¹æ®æ¡ä»¶å‡½æ•°è¿”å›å€¼æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œå¦‚æœè¿”å›å€¼ä¸ºtrueå°±è¿”å›çš„æ‰€æœ‰æ•°ç»„å…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¿”å›ç©ºæ•°ç»„ï¼Œ`return Array`
          - arr.findIndex(function(item, index, array){ if(condition){return true/false} }); å’Œfindç›¸ä¼¼ï¼Œåªä¸è¿‡è¿”å›çš„æ˜¯å…ƒç´ çš„ç´¢å¼•è€Œä¸æ˜¯å…ƒç´ æœ¬èº«, æŸ¥æ‰¾çš„æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…çš„ç´¢å¼•  `return Number`

      - è¿­ä»£
        - arr.forEach((itemValue, index, array) => { ... }); å¯¹æ•°ç»„æ¯ä¸ªå…ƒç´ æ‰§è¡Œå‡½æ•°ï¼Œä¸ä¿®æ”¹å…ƒç´ ï¼Œä¹Ÿä¸è¿”å›ç»“æœï¼Œåªæ˜¯ç”¨æ¥éå†æ•°ç»„ï¼Œè¿™é‡Œçš„itemæœ‰ä¸ªå¤§å‘ï¼Œå®ƒå¹¶ä¸ä»£ç æ•°ç»„çš„é¡¹å¼•ç”¨ï¼Œè€Œåªæ˜¯æ•°ç»„é¡¹çš„å€¼ï¼Œè¦åœ¨è¿™é‡Œä¿®æ”¹åŸæ•°ç»„è¿˜è¦ä½¿ç”¨`array[index] = newValue;`è·å–å¼•ç”¨æ¥ä¿®æ”¹åŸæ•°ç»„é¡¹çš„å€¼ã€‚è€Œä¸”ä¸èƒ½ä½¿ç”¨`break`æ¥ç»ˆæ­¢è·³å‡ºå¾ªç¯ï¼Œæ‰€ä»¥ç”¨é€”éå¸¸æœ‰é™ï¼Œåªèƒ½ç”¨æ¥éå†æ•°æ®ã€‚

      - å…¶ä»–
        - Array.isArray(obj) åˆ¤æ–­å¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªæ•°ç»„ è¿”å›true/false

    - Iterables
      - å¯è¿­ä»£å¯¹è±¡ï¼Œå¯ä»¥åœ¨for...ofå¾ªç¯ä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚æ•°ç»„å°±æ˜¯å¯è¿­ä»£å¯¹è±¡ä¹‹ä¸€ï¼Œå­—ç¬¦ä¸²ä¹Ÿæ˜¯å¯è¿­ä»£çš„ã€‚å¾ˆå¤šå†…å»ºçš„æ–¹æ³•å’Œæ“ä½œéƒ½ä¾èµ–äºå®ƒã€‚
      - Symbol.iterator
        - å¦‚æœæƒ³æŠŠä¸€ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œéœ€è¦ä¸ºå¯¹è±¡æ·»åŠ ä¸€ä¸ªSymbol.iteratorçš„æ–¹æ³•ã€‚
        - for...ofæ–¹æ³•ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å°±ä¼šæŠ¥é”™
        - æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªnextæ–¹æ³•çš„å¯¹è±¡ï¼Œç”¨äºfor...ofå¾ªç¯è°ƒç”¨è·å–ä¸‹ä¸€ä¸ªæ•°å€¼
        - iterator.next()è¿”å›å€¼å¿…é¡»æ˜¯`{ done: Boolean, value: any}`, å½“done==trueçš„æ—¶å€™è¿­ä»£ç»“æŸã€‚
      - å¯è¿­ä»£å¯¹è±¡å’Œç±»æ•°ç»„å¯¹è±¡çš„åŒºåˆ«
        - Array-likes æœ‰ç´¢å¼•å±æ€§å’Œlengthå±æ€§çš„å¯¹è±¡æˆä¸ºç±»æ•°ç»„å¯¹è±¡ï¼Œè¿™ç§å¯¹è±¡ä¹Ÿè®¸æœ‰å…¶ä»–å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯æ²¡æœ‰æ•°ç»„çš„å†…å»ºæ–¹æ³•ã€‚ä¾‹å¦‚DOMå¯¹è±¡`HTMLCollection`å’Œ`NodeList`å¯¹è±¡éƒ½æ˜¯ç±»æ•°ç»„å¯¹è±¡ï¼Œä»–ä»¬éƒ½æœ‰lengthå±æ€§ï¼Œå¸¦æœ‰æ•°ç»„ç´¢å¼•çš„æ¯ä¸€é¡¹å­˜å‚¨çš„æ˜¯DOMèŠ‚ç‚¹ã€‚
          ```
            let arrayLike = {
                0: "Hello",
                1: "World",
                length: 2
            };

            let arr = Array.from(arrayLike); // (*) ç±»æ•°ç»„å¯¹è±¡è½¬æ•°ç»„
            alert(arr.pop()); // Worldï¼ˆpop æ–¹æ³•ç”Ÿæ•ˆï¼‰          
          ```
        - Iteratoræ˜¯æœ‰ Symbol.iteratoræ–¹æ³•çš„å¯¹è±¡ã€‚
        - ä»–ä»¬éƒ½æ²¡æœ‰æ•°ç»„å¯¹è±¡çš„æ–¹æ³•ï¼Œä½†æ˜¯ä»–ä»¬éƒ½å¯ä»¥é€šè¿‡æ–¹æ³•è½¬æ¢æˆæ•°ç»„
      - Array.from(obj[, mapFn, thisArg]) 
        - æŠŠarray-likeså¯¹è±¡æˆ–è€…iteratorå¯¹è±¡è½¬æ¢æˆæ•°ç»„å¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨æ•°ç»„çš„æ–¹æ³•äº†ã€‚
      - å­—ç¬¦ä¸²è¿­ä»£
        - æ•°ç»„å’Œå­—ç¬¦ä¸²æ˜¯åº”ç”¨æœ€å¹¿æ³›çš„å†…å»ºå¯è¿­ä»£å¯¹è±¡
        ```
        for (let char of "test") {
            alert( char ); // tï¼Œç„¶å eï¼Œç„¶å sï¼Œç„¶å t
        }
        ```
    - Map and Set
      - Map é”®å€¼å¯¹é›†åˆï¼Œä¸Objectæœ€å¤§çš„åŒºåˆ«åœ¨äºå®ƒä»»æ„ç±»å‹çš„keyï¼ŒObjectåªæ”¯æŒstringä½œä¸ºkeyï¼Œè€Œä¸”Mapæ”¯æŒé“¾å¼è°ƒç”¨
        - åˆ›å»ºMap
          - `new Map()`
        - æ–¹æ³•
          - new Map() â€“ åˆ›å»º mapã€‚
          - map.set(key, value) â€“ æ ¹æ®é”®ï¼ˆkeyï¼‰å­˜å‚¨å€¼ï¼ˆvalueï¼‰ã€‚
          - map.get(key) â€“ æ ¹æ®é”®è¿”å›å€¼ï¼Œå¦‚æœ map ä¸­è¯¥é”®ä¸å­˜åœ¨ï¼Œè¿”å› undefinedã€‚
          - map.has(key) â€“ å¦‚æœé”®å­˜åœ¨ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› falseã€‚
          - map.delete(key) â€“ ç§»é™¤è¯¥é”®çš„å€¼ã€‚map.clear() â€“ æ¸…ç©º map
          - map.size â€“ è¿”å›å½“å‰å…ƒç´ ä¸ªæ•°ã€‚

        - Object to Map
          - `new Map(keyValueArr)`æŠŠå¯¹è±¡è½¬æ¢æˆé”®å€¼å¯¹æ•°ç»„ä½œä¸ºmapçš„æ„é€ å‡½æ•°çš„å‚æ•°ã€‚
            ```
            // [key, value] é”®å€¼å¯¹æ•°ç»„
            let map = new Map([
                ['1',  'str1'],
                [1,    'num1'],
                [true, 'bool1']
            ]);           
            ```
          - `new Map(Object.entries(object))`; æ™®é€šå¯¹è±¡è½¬Mapå¯¹è±¡
            ```
            let map = new Map(Object.entries({
                name: "John",
                age: 30
            })); //Object.entries è¿”å›äº†é”®å€¼å¯¹æ•°ç»„ï¼š[ ["name","John"], ["age", 30] ]ã€‚è¿™æ­£æ˜¯ Map éœ€è¦çš„ã€‚
            ```

        - éå†Map
          - map.keys() â€“ è¿”å›é”®çš„è¿­ä»£å™¨ï¼Œ
          - map.values() â€“ è¿”å›å€¼çš„è¿­ä»£å™¨ï¼Œ
          - map.entries() â€“ è¿”å› [key, value] è¿­ä»£å™¨å…¥å£ï¼Œfor..of å¾ªç¯ä¼šé»˜è®¤ä½¿ç”¨å®ƒã€‚
            ```
                let recipeMap = new Map([
                    ['cucumber', 500],
                    ['tomatoes', 350],
                    ['onion',    50]
                ]);

                // è¿­ä»£é”®ï¼ˆvegetablesï¼‰
                for (let vegetable of recipeMap.keys()) {
                    alert(vegetable); // cucumber, tomatoes, onion
                }

                // è¿­ä»£å€¼ï¼ˆamountsï¼‰
                for (let amount of recipeMap.values()) {
                    alert(amount); // 500, 350, 50
                }

                // è¿­ä»£é”®å€¼å¯¹ [key, value]
                for (let [key, value] of recipeMap) { // å’Œ recipeMap.entries() ä¸€æ ·ï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ•°ç»„å˜é‡èµ‹å€¼è§£æ„
                    alert(key, value); // cucumber,500ï¼ˆç­‰ç­‰ï¼‰
                }            
            ```
          - map.forEach() å†…ç½®è¿­ä»£æ–¹æ³•å’Œarrayçš„forEachå¾ˆåƒ
            ```
            recipeMap.forEach( (value, key, map) => {
                alert(`${key}: ${value}`); // cucumber: 500 ç­‰ç­‰
            });          
            ```

        - ä¸Objectçš„åŒºåˆ«
          - å¯¹è±¡å¯ä»¥ä½œä¸ºkeyï¼ŒObjectçš„keyåªèƒ½æ˜¯string
          - è¿­ä»£é¡ºåºæ˜¯æ’å…¥çš„é¡ºåºï¼Œä¸ä¼šå†è¿­ä»£è¿‡ç¨‹ä¸­å› ä¸ºæ•´æ•°keyè€Œå‡ºç°æ’åºçš„é—®é¢˜
          - è‡ªå¸¦å¾ˆå¤šæ–¹ä¾¿å¿«æ·çš„æ–¹æ³•æ¯”å¦‚map.size å…ƒç´ çš„ä¸ªæ•°

      - Set åŒ…å«ä¸é‡å¤å€¼çš„é›†åˆï¼Œå¸¸ç”¨äºä¿ç•™ä¸é‡å¤çš„å€¼çš„æœ‰åºåºåˆ—ã€‚
        - åˆ›å»ºSet
          - `new Set()`

        - Set Methods
          - set.add(value) â€“ æ·»åŠ å€¼ï¼Œè¿”å› set è‡ªèº«ã€‚
          - set.delete(value) â€“ åˆ é™¤å€¼ï¼Œå¦‚æœè¯¥ value åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™å­˜åœ¨åˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› falseã€‚
          - set.has(value) â€“ å¦‚æœ set ä¸­å­˜åœ¨è¯¥å€¼åˆ™è¿”å› true ï¼Œå¦åˆ™è¿”å› falseã€‚
          - set.clear() â€“ æ¸…ç©º setã€‚
          - set.size â€“ å…ƒç´ ä¸ªæ•°

        - Array to Set
          - `new Set(array)` æŠŠarrayä½œä¸ºsetçš„æ„é€ å‡½æ•°çš„å‚æ•°æ¥åˆ›å»ºsetå¯¹è±¡;
            ```
            let set = new Set(["oranges", "apples", "bananas"]);
            for (let value of set) alert(value);            
            ```

        - Setè¿­ä»£
          - ä½¿ç”¨for...ofæˆ–è€…set.forEachæ¥è¿­ä»£æŸ¥çœ‹set
          ```
            let set = new Set(["oranges", "apples", "bananas"]);

            for (let value of set) alert(value);

            // å’Œ Array.forEach ç›¸åŒï¼š
            set.forEach((value, valueAgain, set) => {
                alert(value);
            });          
          ```
          - set.keys() â€“ è¿”å› set ä¸­å€¼çš„è¿­ä»£å¯¹è±¡ï¼Œ
          - set.values() â€“ å’Œ set.keys ä¸€æ ·ï¼Œä¸ºäº†å…¼å®¹ Mapï¼Œ
          - set.entries() â€“ è¿”å›å½¢å¦‚ [value, value] çš„è¿­ä»£å¯¹è±¡ï¼Œä¸ºäº†å…¼å®¹ Map è€Œå­˜åœ¨

        - ä¸Arrayçš„åŒºåˆ«ï¼Œsetä¸å…è®¸å…ƒç´ é‡æ–°æ’åºï¼Œä¿æŒæ’å…¥çš„é¡ºåºã€‚

    - WeakMap and WeakSet
      - WeakMapå’ŒWeakSetå¯¹è±¡æœ€é‡è¦çš„ç‰¹æ€§å°±æ˜¯ä»–ä»¬é€‚åˆå­˜å‚¨å¼•ç”¨ç±»å‹çš„å€¼ä½œä¸ºkeyï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾å†…å­˜ï¼Œä¸€æ—¦å¼•ç”¨å¯¹è±¡è¢«ç§»é™¤ï¼Œå‚¨å­˜åœ¨ä»–ä»¬å½“ä¸­çš„å¯¹è±¡å¼•ç”¨ä¹Ÿä¼šè¢«è‡ªåŠ¨æ¸…é™¤ã€‚
      - WeakMapå’ŒWeakSetå¹¶ä¸æ”¯æŒè¿­ä»£æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•è·å–ä»–ä»¬çš„æ‰€æœ‰é”®å€¼ã€‚
      - WeakMapæ”¯æŒçš„æ–¹æ³•
        - weakMap.get(key)
        - weakMap.set(key, value)
        - weakMap.delete(key, value)
        - weakMap.has(key)
      - WeakSetæ”¯æŒçš„æ–¹æ³•
        - weakSet.add(value);
        - weakSet.has(value);
        - weakSet.delete(value);

    - Object.keys, values, entries
      - æ³¨æ„ä¸Map/Setçš„keys/values/entriesæ–¹æ³•åŒºåˆ«ï¼ŒMap/Setè¿”å›çš„æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡Array.fromè½¬æ¢ä¸ºæ•°ç»„ï¼Œè€ŒObjectçš„æ–¹æ³•è¿”å›çš„ç›´æ¥å°±æ˜¯**æ•°ç»„ï¼Œä¸éœ€è¦è½¬æ¢**ã€‚
      - Object.keys(obj) â€”â€” è¿”å›ä¸€ä¸ªåŒ…å«è¯¥å¯¹è±¡å…¨éƒ¨çš„é”®çš„æ•°ç»„ã€‚
      - Object.values(obj) â€”â€” è¿”å›ä¸€ä¸ªåŒ…å«è¯¥å¯¹è±¡å…¨éƒ¨çš„å€¼çš„æ•°ç»„ã€‚
      - Object.entries(obj) â€”â€” è¿”å›ä¸€ä¸ªåŒ…å«è¯¥å¯¹è±¡å…¨éƒ¨ [key, value] é”®å€¼å¯¹çš„æ•°ç»„ã€‚

    - Destructuring assignment
      - èµ‹å€¼è§£æ„æœ¬è´¨ä¸Šå°±æ˜¯è®©æˆ‘ä»¬å¿«é€ŸæŠŠä¸åŒæ•°æ®ç±»å‹çš„å€¼èµ‹å€¼åˆ°å˜é‡ä¸­ï¼Œå®ƒè®©æˆ‘ä»¬å°†æ•°ç»„æˆ–è€…å¯¹è±¡æ‹†åŒ…ï¼Œå­˜æ”¾åˆ°ä¸€ç³»åˆ—æ•°æ®ç»“æ„ç›¸åŒçš„å˜é‡ä¸­ã€‚é¿å…é‡å¤å£°æ˜å’Œèµ‹å€¼ï¼Œå½“ç„¶ä¸åªæ˜¯å¿«æ·é‚£ä¹ˆç®€å•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨èµ‹å€¼è§£æ„å®Œæˆä¸€äº›éœ€æ±‚ï¼Œæ¯”å¦‚å˜é‡æ•°å€¼äº¤æ¢ã€‚
      - æ•°ç»„è§£æ„
        - æ•°ç»„è§£æ„åˆ°å˜é‡ä¸­
          ```
            // æœ‰ä¸€ä¸ªå­˜æ”¾äº†åå­—å’Œå§“æ°çš„æ•°ç»„
            let arr = ["Ilya", "Kantor"]

            // è§£æ„èµ‹å€¼
            let [firstName, surname] = arr;
            // ç²¾ç®€å†™æ³•
            //let firstName = arr[0];
            //let surname = arr[1];

            alert(firstName); // Ilya
            alert(surname);  // Kantor          
          ```

        - å­—ç¬¦ä¸²è§£æ„åˆ°å˜é‡ä¸­
          ```
          let [firstName, surname] = "Ilya Kantor".split(' ');
          ```

        - å³ä¾§ä»»æ„å¯è¿­ä»£å¯¹è±¡
          ```
          let [a, b, c] = "abc"; // ["a", "b", "c"]
          let [one, two, three] = new Set([1, 2, 3]);
          ```

        - å¿½ç•¥å…ƒç´ 
          ```
          // ä¸éœ€è¦ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå…ƒç´ 
            let [, , title] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];

            alert( title ); // Consul
          ```

        - èµ‹å€¼ç»™å·¦ä¾§ä»»æ„ç±»å‹
          ```
            let user = {};
            [user.name, user.surname] = "Ilya Kantor".split(' ');
            alert(user.name); // Ilya
          ```

        - Object.entries(object)å¾ªç¯ï¼Œä½¿ç”¨èµ‹å€¼è§£æ„æ¥éå†entriesè¿”å›çš„å¯¹è±¡é”®å€¼å¯¹
          ```
            let user = {
                name: "John",
                age: 30
            };

            // å¾ªç¯éå†é”®-å€¼å¯¹
            for (let [key, value] of Object.entries(user)) {
                alert(`${key}:${value}`); // name:John, then age:30
            }          
          ```

        - å‰©ä½™æ“ä½œç¬¦`...`
          - æœé›†å‰©ä½™å…ƒç´ ï¼Œå‰©ä½™å…ƒç´ ä¼šæ”¾å…¥åˆ°æ•°ç»„å˜é‡ä¸­
          ```
            let [name1, name2, ...rest] = ["Julius", "Caesar", "Consul", "of the Roman Republic"];

            alert(name1); // Julius
            alert(name2); // Caesar

            alert(rest[0]); // Consul
            alert(rest[1]); // of the Roman Republic
            alert(rest.length); // 2          
          ```

        - é»˜è®¤å€¼ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨`=`æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼ï¼Œå½“èµ‹å€¼è§£æ„å³ä¾§æ˜ å°„ä¸åˆ°å€¼çš„æ—¶å€™å›ä½¿ç”¨é»˜è®¤å€¼ï¼Œè¿™ä¸ªé»˜è®¤å€¼å¯ä»¥æ˜¯å¤æ‚çš„è¡¨è¾¾å¼ç”šè‡³å‡½æ•°è°ƒç”¨
          ```
            //æœªèµ‹å€¼çš„å˜é‡è¢«å½“ä½œ undifined
            let [firstName, surname] = [];
            alert(firstName); // undefined ä¸ä¼šæŠ¥é”™ 

            // é»˜è®¤å€¼
            let [name = "Guest", surname = "Anonymous"] = ["Julius"];

            alert(name);    // Julius (æ¥è‡ªæ•°ç»„çš„å€¼)
            alert(surname); // Anonymous (é»˜è®¤å€¼è¢«ä½¿ç”¨äº†)

            // åªä¼šæç¤ºè¾“å…¥å§“æ°
            let [name = prompt('name?'), surname = prompt('surname?')] = ["Julius"];

            alert(name);    // Julius (æ¥è‡ªæ•°ç»„)
            alert(surname); // ä½ è¾“å…¥çš„å€¼           
          ```

      - å¯¹è±¡è§£æ„
        - æ³¨æ„å¯¹è±¡èµ‹å€¼è§£æ„çš„æ—¶å€™å·¦ä¾§å˜é‡åè¦ä¸å³ä¾§å¯¹è±¡çš„keyç›¸åŒ
        - `let {key1, key2} = {key1: value1, key2: value2, ...}` 
          - ä¾‹å­
          ```
            // æ”¹å˜ let {...} ä¸­å±æ€§çš„é¡ºåºï¼Œå¯¹ç»“æœæ²¡æœ‰å½±å“ï¼Œåªè¦ä¿è¯å˜é‡åå’Œå¯¹è±¡keyå¯¹åº”å°±å¯ä»¥äº†
            let {height, width, title} = { title: "Menu", height: 200, width: 100 }
          ```
        - æ˜ å°„åˆ°æ–°çš„å˜é‡å
          - ä¾‹å­
          ```
            let options = {
                title: "Menu",
                width: 100,
                height: 200
            };

            // { åŸå±æ€§ï¼šç›®æ ‡å˜é‡ }ï¼Œç›®æ ‡çš„å˜é‡åçš„å€¼å°±ä¼šç­‰äºèµ‹å€¼è§£æ„å¯¹è±¡ä¸­å¯¹åº”çš„keyçš„å€¼
            let {width: w, height: h, title} = options;

            // width -> w
            // height -> h
            // title -> title

            alert(title);  // Menu
            alert(w);      // 100
            alert(h);      // 200    
          ```

        - æ˜ å°„ç»“åˆé»˜è®¤å€¼ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥ä½œä¸ºç±»æˆ–è€…å‡½æ•°çš„å‚æ•°åˆå§‹åŒ–ï¼Œå¦‚æœèµ‹å€¼è§£æ„å³ä¾§å¯¹è±¡æœªæ‰¾åˆ°å¯¹åº”çš„keyï¼Œåˆ™ä½¿ç”¨=å³ä¾§çš„é»˜è®¤å€¼
          - ä¾‹å­
          ```
            let options = {
                title: "Menu"
            };

            let {width: w = 100, height: h = 200, title} = options;

            alert(title);  // Menu
            alert(w);      // 100
            alert(h);      // 200       
          ```

      - åµŒå¥—è§£æ„ï¼Œæ”¯æŒå¯¹è±¡åµŒå¥—è§£æ„ï¼Œå¯¹è±¡ä¸­ä¸å­˜åœ¨çš„å±æ€§ä¼šä½¿ç”¨é»˜è®¤å€¼
        - ä¾‹å­
        ```
        let options = {
            size: {
                width: 100,
                height: 200
            },
            items: ["Cake", "Donut"],
            extra: true    // ä¸€äº›ä¸ä¼šè¢«è§£æ„çš„é¢å¤–å±æ€§
        };

        // ä¸ºäº†æ¸…æ™°èµ·è§ï¼Œè§£æ„èµ‹å€¼è¯­å¥è¢«å†™æˆå¤šè¡Œ
        let {
            size: { // æŠŠ size èµ‹å€¼åˆ°è¿™é‡Œ
                width,
                height
            },
            items: [item1, item2], // æŠŠ items èµ‹å€¼åˆ°è¿™é‡Œ
            title = "Menu" // åœ¨å¯¹è±¡ä¸­ä¸å­˜åœ¨çš„å±æ€§ï¼ˆä¼šä½¿ç”¨é»˜è®¤å€¼ï¼‰
        } = options;

        alert(title);  // Menu
        alert(width);  // 100
        alert(height); // 200
        alert(item1);  // Cake
        alert(item2);  // Donut        
        ```
      - æ™ºèƒ½å‡½æ•°å‚æ•°,æˆ‘ä»¬å¯ä»¥åˆ©ç”¨èµ‹å€¼è§£æ„çš„ç‰¹æ€§çµæ´»çš„ç»™å‡½æ•°ä¼ å…¥å‚æ•°ï¼Œè€Œä¸ç”¨åœ¨æ„å‚æ•°é¡ºåº
        ```
        // æ¸…æ™°èµ·è§ï¼Œç²¾ç®€äº†éƒ¨åˆ†å‚æ•°ï¼Œé¦–å…ˆé»˜è®¤å€¼æŒ‡å‘äº†ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå› ä¸ºå‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åè¿›å…¥å¯¹è±¡å†…éƒ¨çš„èµ‹å€¼è§£æ„ï¼Œç”±äºç©ºå¯¹è±¡æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„keyï¼Œæ‰€ä»¥ä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚
        function showMenu({ title = "Menu", width = 100, height = 200 } = {}) {
            alert( `${title} ${width} ${height}` );
        }

        showMenu(); // Menu 100 200
        ```

    - Date and time
      - åˆ›å»ºæ—¶é—´å’Œæ—¥æœŸçš„æ–¹æ³•
        - new Date() åˆ›å»ºä¸€ä¸ªè¡¨ç¤ºå½“å‰æ—¥æœŸå’Œæ—¶é—´çš„å¯¹è±¡
        - new Date(milliseconds) ä»1970-01-01 00:00:00 UTC+0å¼€å§‹æ‰€ç»å†çš„æ¯«ç§’æ•°ms(1s = 1000ms)
          `new Date(1000) //1970-01-01 00:00:01 UTC+0`
        - new Date(dateString) æ—¶é—´å­—ç¬¦ä¸²å‚æ•°ï¼Œå‚è§Date.parse(str)ç®—æ³•è§£æ
          `new Date('2019-07-31')`
        - new Date(year, month [date, hours, minutes, seconds, ms])
        ```
        let date = new Date(2011, 0, 1, 2, 3, 4, 567);
        alert( date ); // 1.01.2011, 02:03:04.567        
        ```
      - è·å–æ—¥æœŸå’Œæ—¶é—´çš„å€¼
        - date.getFullYear() ç»“æœæ˜¯4ä½æ•°å­—
        - date.getMonth() ç»“æœæ˜¯ **0-11** æ³¨æ„ä½¿ç”¨æ—¶çš„è½¬æ¢
        - date.getDate() ç»“æœæ˜¯ **1-31**ï¼Œæ³¨æ„è¿™ä¸ªä¸æ˜¯0å¼€å§‹ï¼Œ**0ä»£è¡¨ä¸Šä¸€ä¸ªæœˆçš„æœ€åä¸€å¤©äº†**
        - date.getHours()
        - date.getMinutes()
        - date.getSeconds()
        - date.getMilliseconds()
        - date.getDay() ç»“æœæ˜¯**0-6** å¯¹åº”æ˜ŸæœŸå¤©åˆ°æ˜ŸæœŸå…­ è¦æ ¹æ®æƒ…å†µåšè½¬æ¢

        - date.getUTC***() è¿”å›åŸºäºUTC+0çš„æ—¶é—´
        - date.getTime() ä» 1970-1-1 00:00:00 UTC+0 å¼€å§‹çš„æ¯«ç§’æ•°
        - date.getTimezoneOffset() è¿”å›æ—¶åŒºåç§»æ•°ï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½ï¼Œå¦‚æœä½ åœ¨æ—¶åŒº UTC+3ï¼Œè¾“å‡º -180

      - è®¾ç½®æ—¶é—´å’Œæ—¥æœŸçš„æ–¹æ³•
        - date.setFullYear(year, [,month ,date]);
        - date.setMonth(month [, date]);
        - date.setDate(date);
        - date.setHours(hour [, min, sec, ms]);
        - date.setMinutes(min [, sec, ms]);
        - date.setSeconds(sec [, ms]);
        - date.setMilliseconds(ms);
        
        - date.setUTC***
        - date.setTime(milliseconds);

      - è‡ªåŠ¨æ ¡å‡†
        - è¶…å‡ºèŒƒå›´çš„æ—¥æœŸä¼šè¢«è‡ªåŠ¨æ ¡å‡†ä¸ºæ­£ç¡®å€¼ï¼Œä¾‹å¦‚è´Ÿå€¼
        - è·å–ä¸Šä¸ªæœˆçš„æœ€åä¸€å¤©æ˜¯å‡ å· `date.setDate(0);`

      - æ—¥æœŸå·®å€¼è®¡ç®—
        - æ—¥æœŸå¯ä»¥ç›¸å‡ï¼Œå®ƒä»¬ç›¸å‡çš„ç»“æœæ˜¯ä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œåœ¨dateå¯¹è±¡ä¸Šè°ƒç”¨è¿ç®—ç¬¦ä¼šè§¦å‘dateå¯¹è±¡çš„getTime()æ–¹æ³•è¿”å›ä» 1970-1-1 00:00:00 UTC+0 å¼€å§‹çš„æ¯«ç§’æ•°
        `The loop took ${end - start} ms`

      - Date.now();
        - è¿”å›å½“å‰æ—¶é—´æˆ³çš„æ¯«ç§’æ•°

      - Date.parse(dateString);
        - å­—ç¬¦ä¸²çš„æ ¼å¼æ˜¯ï¼šYYYY-MM-DDTHH:mm:ss.sssZ
          - YYYY-MM-DD â€”â€” æ—¥æœŸï¼šå¹´-æœˆ-æ—¥ã€‚
          - å­—ç¬¦ä¸² "T" æ˜¯ä¸€ä¸ªåˆ†éš”ç¬¦ã€‚
          - HH:mm:ss.sss â€”â€” æ—¶é—´ï¼šå°æ—¶ï¼Œåˆ†é’Ÿï¼Œç§’ï¼Œæ¯«ç§’ã€‚
          - å¯é€‰å­—ç¬¦ 'Z' ä»£è¡¨æ—¶åŒºã€‚å•ä¸ªå­—ç¬¦ Z ä»£è¡¨ UTC+0ã€‚

      - æ€§èƒ½é—®é¢˜
        - Date.now()ç›¸å½“äº new Date().getTime()ï¼Œä½†å®ƒä¸ä¼šåœ¨ä¸­é—´åˆ›å»ºä¸€ä¸ª Date å¯¹è±¡ã€‚å› æ­¤å®ƒæ›´å¿«ï¼Œè€Œä¸”ä¸ä¼šå¯¹åƒåœ¾å¤„ç†é€ æˆé¢å¤–çš„å‹åŠ›ã€‚
  
    - JSON methods, toJSON
      - Javascript Object Notation 
        - è¡¨ç¤ºå€¼å’Œå¯¹è±¡çš„é€šç”¨æ ¼å¼ï¼Œæœ€åˆä¸ºJavascriptè€Œç¼–å†™ï¼ŒæœåŠ¡å™¨å¾ˆå¤šå…¶ä»–è¯­è¨€ä¹Ÿæ”¯æŒå®ƒï¼Œæ‰€ä»¥ä½¿ç”¨JSONæ ¼å¼è¿›è¡Œæ•°æ®äº¤æ¢éå¸¸å®¹æ˜“
        - JSONæ”¯æŒçš„æ•°æ®ç±»å‹
          - Object `{"name" : "Jason"}`
          - Arrays `[1, 3, 5]`
          - Primitives
            - strings `"Jason"`
            - numbers `123`
            - boolean `true/false`
            - null `null`

        - JSONå¿½ç•¥çš„æ•°æ®ç±»å‹ï¼Œä¸ºäº†è·¨è¯­è¨€æ•°æ®è§„èŒƒã€‚
            - æ³¨æ„å€¼ä¸ºundefinedå°†è¢«å¿½ç•¥
            - Functionï¼Œå…¶ä»–è¯­è¨€ä¸æ”¯æŒJavascripitçš„function
            - Symbolicå±æ€§

        - JSONä¸æ”¯æŒå¾ªç¯å¼•ç”¨ï¼Œåé¢æˆ‘å°†ä¼šè®²åˆ°å¦‚æœåˆ©ç”¨replacerè§£å†³å¾ªç¯å¼•ç”¨çš„é—®é¢˜
  
      - JSON.stringify(target[, replacer[, space]])
        - å°†å¯¹è±¡è½¬æ¢æˆJSONå­—ç¬¦ä¸²
          - target è¦ç¼–ç çš„å¯¹è±¡
          - replacer è¦ç¼–ç çš„å±æ€§ç»„['attribute1', 'attribute2']æˆ–è€…æ›¿æ¢å‡½æ•°function(key, value)
          - space ç¼–ç æ—¶ç”Ÿæˆçš„å­—ç¬¦ä¸²çš„ç¼©è¿›å€¼ï¼Œè¿™ä¸ªé€šå¸¸ç”¨äºè°ƒè¯•æ—¶console.logæ— æ³•å°†å¯¹è±¡å±•å¼€çš„é—®é¢˜ï¼Œé€šè¿‡`JSON.stringify(obj, null, 4);`æŠŠå¯¹è±¡æ‰“å°è¾“å‡ºåˆ°consoleæ§åˆ¶å°
        - æ³¨æ„JSONç¼–ç å¯¹è±¡ä¸å¯¹è±¡å­—é¢é‡çš„é‡è¦åŒºåˆ«
          - å­—ç¬¦ä¸²ä½¿ç”¨åŒå¼•å·ï¼ŒJSONä¸­æ²¡æœ‰å•å¼•å·å’Œåå¼•å·ã€‚'jason'ä¼šè¢«è½¬æ¢æˆ"jason"
          - å¯¹è±¡çš„å±æ€§åä¹Ÿæ˜¯åŒå¼•å·ï¼Œè¿™ä¸å¯¹è±¡çš„å±æ€§åæœ‰å¾ˆå¤§ä¸åŒï¼Œæ‰€ä»¥`age:30`ä¼šè¢«è½¬æ¢æˆ`"age":30`
          - JSONä¸æ”¯æŒä»»ä½•æ³¨é‡Šï¼ŒJSONæ˜¯ä¸ºäº†å¯é å’Œå¿«é€Ÿè§£æè€Œè®¾è®¡
        - replacerä¾‹å­ï¼Œæ³¨æ„replaceræ˜¯è¿›è¡Œé¢„å¤„ç†ï¼Œå¤„ç†è¿‡çš„ç»“æœè¦returnå›å»ï¼Œä»¥ä¾¿åé¢çš„ç¨‹åºé€’å½’ç»“æœè½¬ä¸ºJSONå¯¹è±¡
          - ç¼–ç ç‰¹å®šçš„å±æ€§ï¼Œè·³è¿‡å¾ªç¯å¼•ç”¨çš„å±æ€§
          ```
            let room = {
                number: 23
            };

            let meetup = {
                title: "Conference",
                participants: [{name: "John"}, {name: "Alice"}],
                place: room // meetup references room
            };

            room.occupiedBy = meetup; // room references meetup

            alert( JSON.stringify(meetup, ['title', 'participants', 'place', 'name', 'number']) );
            /*
            {
                "title":"Conference",
                "participants":[{"name":"John"},{"name":"Alice"}],
                "place":{"number":23}
            }
            */
          ```
          - ä½¿ç”¨ä¸€ä¸ªå‡½æ•°ä½œä¸º replacerã€‚è¯¥å‡½æ•°å°†è°ƒç”¨æ¯ä¸ª (key,value) å¯¹ï¼Œå¹¶ä¸”è¿”å› â€œreplacementâ€ å€¼ï¼Œå®ƒå°†è¢«ç”¨æ¥ä»£æ›¿åŸæ¥çš„å€¼ã€‚
          ```
            let room = {
                number: 23
            };

            let meetup = {
                title: "Conference",
                participants: [{name: "John"}, {name: "Alice"}],
                place: room // meetup references room
            };

            room.occupiedBy = meetup; // room references meetup

            alert( JSON.stringify(meetup, function replacer(key, value) {
                alert(`${key}: ${value}`); // to see what replacer gets
                return (key == 'occupiedBy') ? undefined : value;
            }));

            /* key:value pairs that come to replacer:
            :             [object Object]
            title:        Conference
            participants: [object Object],[object Object]
            0:            [object Object]
            name:         John
            1:            [object Object]
            name:         Alice
            place:        [object Object]
            number:       23
            */

          ```
        - object.toJSON()
          - å¦‚æœä¸€ä¸ªå¯¹è±¡æœ‰`toJSON`è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆJSON.stringify(object)çš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•è¿›è¡Œè½¬æ¢
          - ä¾‹å­
          ```
            let room = {
                number: 23,
                toJSON() {
                    return this.number;
                }
            };

            let meetup = {
                title: "Conference",
                room
            };

            alert( JSON.stringify(room) ); // 23

            alert( JSON.stringify(meetup) );
            /*
            {
                "title":"Conference",
                "room": 23
            }
            */          
          ```

      - JSON.parse(JSONString, [, replacer])
        - è§£ç JSONå­—ç¬¦ä¸²ï¼Œè½¬æ¢æˆJavascirptå¯¹è±¡
          - JSONStringè¦è§£æçš„JSONå­—ç¬¦ä¸²å¯¹è±¡
          - replacer é¢„å¤„ç†æ›¿æ¢å‡½æ•° function(key, value)
        - è¿™é‡Œè¦æ³¨æ„è¿”å›å€¼é‡Œçš„ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚è¿”å›çš„dateä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸²è½¬æ¢è€Œæˆçš„stringï¼Œä¸èƒ½åœ¨ç»“æœé‡Œç›´æ¥è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•
        - ä¾‹å­ï¼ŒdateStringé¢„å¤„ç†
        ```
        let str = '{"title":"Conference","date":"2017-11-30T12:00:00.000Z"}';

        let meetup = JSON.parse(str, function(key, value) {
            if (key == 'date') return new Date(value);
            return value;
        });

        alert( meetup.date.getDate() ); // now works!        
        ```

  - Advanced working with functions
    - Recursion and stack
      - å½“ä¸€ä¸ªå‡½æ•°è°ƒç”¨è‡ªèº«æ—¶ï¼Œå°±ç§°å…¶ä¸ºé€’å½’ã€‚é€’å½’åŸºç¡€æ˜¯å‡½æ•°å‚æ•°ä½¿å¾—ä»»åŠ¡å¾ˆç®€å•ï¼Œä¸éœ€è¦å…¶å®ƒæ›´è¿›ä¸€æ­¥è°ƒç”¨ã€‚
      - é€’å½’æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å¼ï¼Œå½“ä¸€ä¸ªä»»åŠ¡å¯ä»¥è¢«åˆ†å‰²æˆå¾ˆå¤šç›¸ä¼¼çš„ç®€å•é‡å¤ä»»åŠ¡ï¼Œé€šè¿‡æ¡ä»¶åˆ¤æ–­æ˜¯å»æ‰§è¡Œç®€å•ä»»åŠ¡ï¼Œæˆ–è€…ç»§ç»­æ‰§è¡Œé€’å½’ã€‚é€’å½’ç”¨äºå¤„ç†ç‰¹å®šç±»å‹çš„æ•°æ®ç»“æ„ï¼Œé€šå¸¸æ˜¯ç”¨äºæ•°æ®ç»“æ„ç±»ä¼¼çš„å¯¹è±¡çš„éå†ã€‚å®ƒæœ‰ç€æ¯”å¾ªç¯æ›´å¼ºçš„é€‚åº”æ€§ã€‚ä½†æ˜¯å› ä¸ºå…¶æœ‰å †æ ˆé™åˆ¶ï¼Œæˆ‘ä»¬è¦æ ¹æ®å®é™…åœºæ™¯éœ€æ±‚çµæ´»åº”ç”¨ã€‚å¦å¤–åœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œæ¯”å¦‚ä¸€äº›æ•°å­¦è®¡ç®—ï¼Œé€’å½’å¯èƒ½ä¼šæ‰§è¡Œå¾ˆå¤šé‡å¤çš„è¿ç®—ï¼Œæˆ‘ä»¬è¦å¯¹æ­¤è¿›è¡Œä¼˜åŒ–ä»¥æå‡æ€§èƒ½ã€‚
      - ä½¿ç”¨é€’å½’æœ€é‡è¦çš„å°±æ˜¯æŠŠä»»åŠ¡é€»è¾‘ç†æ¸…ï¼ŒæŠŠæœ€ç®€å•çš„åŸºç¡€ä»»åŠ¡æ‹†åˆ†å‡ºæ¥ï¼Œé€šè¿‡æ¡ä»¶åˆ¤æ–­æ˜¯æ‰§è¡Œç®€å•ä»»åŠ¡ï¼Œè¿˜æ˜¯æ‰§è¡Œé€’å½’ï¼Œè®°å¾—é€’å½’æ—¶è¿”å›å€¼ä¸Šä¸€ä¸ªé€’å½’ã€‚ç”¨é€»è¾‘å›¾å»åˆ†æé€šå¸¸æ›´åŠ é€å½»ã€‚
        ```
        function pow(x, n) {
            if (n == 1) {
                return x;
            } else {
                return x * pow(x, n - 1);
            }
        }

        alert( pow(2, 3) ); // 8            
        ```
      - æ‰§è¡Œå †æ ˆ
        - ä¸€ä¸ªå‡½æ•°è¿è¡Œçš„ä¿¡æ¯è¢«å­˜å‚¨åœ¨å®ƒçš„æ‰§è¡Œä¸Šä¸‹æ–‡é‡Œï¼Œæ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªå†…éƒ¨æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶çš„ç»†èŠ‚ï¼šå½“å‰å·¥ä½œæµåœ¨å“ªé‡Œï¼Œå½“å‰çš„å˜é‡ï¼Œthis çš„å€¼ï¼ˆè¿™é‡Œæˆ‘ä»¬ä¸ä½¿ç”¨å®ƒï¼‰ï¼Œä»¥åŠå…¶å®ƒä¸€äº›å†…éƒ¨ç»†èŠ‚ã€‚
        - æ¯ä¸ªå‡½æ•°è°ƒç”¨éƒ½æœ‰ä¸å…¶ç›¸å…³è”çš„æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å½“ä¸€ä¸ªå‡½æ•°æœ‰åµŒå¥—è°ƒç”¨æ—¶ï¼Œä¸‹é¢çš„äº‹æƒ…ä¼šå‘ç”Ÿï¼š
          - å½“å‰å‡½æ•°è¢«æš‚åœï¼›
          - ä¸å®ƒå…³è”çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«ä¸€ä¸ªå«åšæ‰§è¡Œä¸Šä¸‹æ–‡å †æ ˆçš„ç‰¹æ®Šæ•°æ®ç»“æ„ä¿å­˜ï¼›
          - æ‰§è¡ŒåµŒå¥—è°ƒç”¨ï¼›
          - åµŒå¥—è°ƒç”¨ç»“æŸåï¼Œä¹‹å‰çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä»å †æ ˆä¸­æ¢å¤ï¼Œå¤–éƒ¨å‡½æ•°ä»åœæ­¢çš„åœ°æ–¹ç»§ç»­æ‰§è¡Œã€‚
          - é€’å½’è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œè°ƒç”¨ç›¸åŒçš„å‡½æ•°ï¼Œæ‰€æœ‰çš„å‡½æ•°å¤„ç†è¿‡ç¨‹åœ¨æ•°æ®ç»“æ„å±‚é¢è¡¨ç°
            - å½“å‰ä¸Šä¸‹æ–‡è¢«ã€Œè®°å½•ã€åœ¨å †æ ˆçš„é¡¶éƒ¨ï¼›
            - ä¸ºå­è°ƒç”¨åˆ›å»ºæ–°ä¸Šä¸‹æ–‡ï¼›
            - å½“å­è°ƒç”¨ç»“æŸå â€”â€” å‰ä¸€ä¸Šä¸‹æ–‡ä»å †æ ˆå¼¹å‡ºï¼Œç»§ç»­æ‰§è¡Œã€‚
      - æ€§èƒ½
        - ä»»ä½•é€’å½’éƒ½å¯ä»¥ç”¨å¾ªç¯æ¥é‡å†™ã€‚å¾ªç¯å˜ä½“ä¸€èˆ¬æ›´åŠ æœ‰æ•ˆ
        - ä½†æœ‰æ—¶é‡å†™å¾ˆéš¾ï¼Œå°¤å…¶æ˜¯å‡½æ•°æ ¹æ®æ¡ä»¶ä½¿ç”¨ä¸åŒçš„å­è°ƒç”¨ï¼Œç„¶ååˆå¹¶å®ƒä»¬çš„ç»“æœï¼Œæˆ–è€…åˆ†æ”¯æ¯”è¾ƒå¤æ‚ã€‚è€Œä¸”æœ‰äº›ä¼˜åŒ–å¯èƒ½æ²¡æœ‰å¿…è¦ï¼Œå®Œå…¨ä¸å€¼å¾—ã€‚é€’å½’èƒ½æä¾›æ›´ç®€æ´çš„ä»£ç ï¼Œå®¹æ˜“ç†è§£å’Œç»´æŠ¤ã€‚ä¼˜åŒ–å¹¶ä¸æ˜¯å¤„å¤„éœ€è¦ï¼Œå¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¥½ä»£ç ï¼Œè¿™å°±æ˜¯å®ƒè¢«ä½¿ç”¨çš„åŸå› ã€‚

      - é€’å½’éå†
        - é€’å½’å¦ä¸€ä¸ªé‡è¦åº”ç”¨å°±æ˜¯é€’å½’éå†
          - é¦–å…ˆåˆ†æå¥½æ•°æ®ç»“æ„ï¼Œæ˜ç¡®æœ€ç®€å•çš„åŸºç¡€ä»»åŠ¡ï¼Œæ¡ä»¶æ˜¯ä»€ä¹ˆ
          - å¯¹äºéœ€è¦è°ƒç”¨é€’å½’çš„å¤æ‚å¯¹è±¡æ‹†åˆ†ï¼Œæƒ³åŠæ³•ç”¨Nä¸ªå­é€’å½’æ‹†åˆ†æˆä¸ºåŸºç¡€ä»»åŠ¡

      - é“¾è¡¨
        - æˆ‘ä»¬è¦å­˜å‚¨ä¸€ä¸ªæœ‰åºçš„å¯¹è±¡åˆ—è¡¨ï¼Œç”¨æ•°ç»„æœ‰ä¸ªé—®é¢˜ã€‚ã€Œåˆ é™¤å…ƒç´ ã€å’Œã€Œæ’å…¥å…ƒç´ ã€æ“ä½œä»£ä»·éå¸¸å¤§ã€‚ä¾‹å¦‚ï¼Œarr.unshift(obj) æ“ä½œå¿…é¡»å¯¹æ‰€æœ‰å…ƒç´ é‡æ–°ç¼–å·ä»¥ä¾¿ä¸ºæ–°çš„å…ƒç´  obj è…¾å‡ºç©ºé—´ï¼Œè€Œä¸”å¦‚æœæ•°ç»„å¾ˆå¤§ï¼Œä¼šå¾ˆè€—æ—¶ã€‚arr.shift() åŒç†ã€‚
        - å¦‚æœæˆ‘ä»¬çœŸçš„éœ€è¦å¿«é€Ÿæ’å…¥ã€åˆ é™¤çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å¦ä¸€ç§å«åšé“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚å½“ç„¶ï¼Œé“¾è¡¨ä¸æ€»æ˜¯ä¼˜äºæ•°ç»„ã€‚ä¸ç„¶å¤§å®¶éƒ½å»ä½¿ç”¨é“¾è¡¨äº†ã€‚ä¸»è¦çš„ä¸è¶³å°±æ˜¯æˆ‘ä»¬æ— æ³•è½»æ˜“é€šè¿‡å®ƒçš„ç¼–å·è·å–å…ƒç´ ã€‚åœ¨æ•°ç»„ä¸­å´å¾ˆå®¹æ˜“ï¼šarr[n] æ˜¯ä¸€ä¸ªç›´æ¥å¼•ç”¨ã€‚è€Œåœ¨åˆ—è¡¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä»èµ·ç‚¹å…ƒç´ é¡ºç€ next æ‰¾ N æ¬¡æ‰èƒ½è·å–åˆ°ç¬¬ N ä¸ªå…ƒç´ ã€‚
          - é“¾è¡¨å…ƒç´ æ˜¯ä¸€ä¸ªè¢«é€’å½’å®šä¹‰çš„å¯¹è±¡ï¼Œå®ƒæœ‰
            - value
            - next å±æ€§å¼•ç”¨ä¸‹ä¸€ä¸ªé“¾è¡¨å…ƒç´ æˆ–è€…ä»£è¡¨æœ«å°¾çš„ null
            ```
            let list = {
                value: 1,
                next: {
                    value: 2,
                    next: {
                    value: 3,
                    next: {
                        value: 4,
                        next: null
                    }
                    }
                }
            };            
            ```
          - æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•ä½ç½®æ’å…¥æˆ–ç§»é™¤å…ƒç´ 
           ```
            let list = { value: 1 };
            list.next = { value: 2 };
            list.next.next = { value: 3 };
            list.next.next.next = { value: 4 };

            // å°†æ–°å€¼æ·»åŠ åˆ°åˆ—è¡¨å¤´éƒ¨
            list = { value: "new item", next: list };           
           ```
         - ç§»é™¤ä¸­é—´çš„ä¸€ä¸ªå€¼ï¼Œä¿®æ”¹å‰ä¸€ä¸ªå…ƒç´ çš„ next
           ```
           list.next = list.next.next;
           ```

    - Rest parameter and spread operator
      - å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­é‡åˆ° "..." æ—¶ï¼Œå®ƒä¸æ˜¯ Rest å‚æ•°å°±æ˜¯ Spread æ“ä½œç¬¦ã€‚
      - æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ–¹æ³•åŒºåˆ†äºŒè€…ï¼š
        - è‹¥ ... å‡ºç°åœ¨å‡½æ•°çš„å‚æ•°åˆ—è¡¨ï¼Œé‚£å®ƒè¡¨ç¤ºçš„å°±æ˜¯ Rest å‚æ•°ï¼Œå®ƒä¼šæŠŠå‡½æ•°å¤šä½™çš„å®å‚æ”¶é›†åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚
        ```
        function sumAll(...args) { // æ•°ç»„å˜é‡åä¸º args
            let sum = 0;
            for (let arg of args) sum += arg;
            return sum;
        }

        alert( sumAll(1) ); // 1
        alert( sumAll(1, 2) ); // 3
        alert( sumAll(1, 2, 3) ); // 6        
        ```
        - è‹¥ ... å‡ºç°åœ¨å‡½æ•°è°ƒç”¨æˆ–ç±»ä¼¼çš„è¡¨è¾¾å¼ä¸­ï¼Œé‚£å®ƒå°±æ˜¯ Spread æ“ä½œç¬¦ï¼Œå®ƒä¼šæŠŠä¸€ä¸ªæ•°ç»„å±•å¼€ä¸ºé€—å·åˆ†éš”çš„å…ƒç´ åˆ—è¡¨ã€‚
        ```
        let arr = [3, 5, 1];
        alert( Math.max(...arr) ); // 5ï¼ˆSpread æ“ä½œç¬¦æŠŠæ•°ç»„è½¬ä¸ºå‚æ•°åˆ—è¡¨ï¼‰
        ```

      - ä½¿ç”¨åœºæ™¯ï¼š
        - Rest å‚æ•°ç”¨äºåˆ›å»ºå¯æ¥æ”¶ä»»æ„ä¸ªå‚æ•°çš„å‡½æ•°ã€‚
        - Spread æ“ä½œç¬¦å¯ä»¥åœ¨å‡½æ•°è°ƒç”¨ä¼ å‚æ—¶ï¼ŒæŠŠå«æœ‰å‚æ•°çš„æ•°ç»„å±•å¼€ä¸ºå‡½æ•°éœ€è¦çš„å‚æ•°åˆ—è¡¨å½¢å¼ã€‚
        - è¿™ä¸¤ä¸ªæ“ä½œç¬¦çš„å‡ºç°æ–¹ä¾¿äº†æˆ‘ä»¬åœ¨å‚æ•°æ•°ç»„å’Œå‚æ•°åˆ—è¡¨é—´æ¥å›è½¬æ¢ã€‚
        - â€œæ—§å¼â€çš„ argumentsï¼ˆç±»æ•°ç»„å¯¹è±¡ï¼‰ä¹Ÿä¾ç„¶èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è·å–å‡½æ•°è°ƒç”¨æ—¶çš„æ‰€æœ‰å‚æ•°ã€‚

      - Array.from(arrayLikeObject/iteratorObject)å’Œ[...iteratorObject]çš„åŒºåˆ«
        - Array.from åŒæ—¶é€‚ç”¨äºç±»æ•°ç»„å¯¹è±¡å’Œå¯éå†å¯¹è±¡ã€‚
        - Spread æ“ä½œç¬¦åªèƒ½æ“ä½œå¯éå†å¯¹è±¡ã€‚
        - å› æ­¤ï¼Œè‹¥å¸Œæœ›æŠŠä¸€äº›â€œä¸œè¥¿â€è½¬ä¸ºæ•°ç»„ï¼Œä½¿ç”¨ Array.from å°†æ›´ä¸ºé€šç”¨

    - Closure
      - è¯æ³•ç¯å¢ƒ(ä½œç”¨åŸŸscope)ï¼Œæ¯ä¸ªè¿è¡Œçš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªLexical Environmentçš„å…³è”å¯¹è±¡
        - Environment RecordæŠŠæ‰€æœ‰å±€éƒ¨å˜é‡ä½œä¸ºå…¶å±æ€§çš„å¯¹è±¡ï¼Œæ“ä½œå˜é‡å®é™…ä¸Šæ“ä½œçš„æ˜¯è¯¥å¯¹è±¡çš„å±æ€§
        - å¤–éƒ¨ç¯å¢ƒï¼ŒåµŒå¥—å½“å‰ä»£ç ä¹‹å¤–çš„ç¯å¢ƒ
      - å‡½æ•°å£°æ˜
        - å‡½æ•°å£°æ˜å¹¶ä¸åƒå˜é‡å£°æ˜é‚£æ ·ï¼Œä»£ç è¿è¡Œåˆ°ä»–ä»¬æ—¶ï¼Œå®ƒä»¬å¹¶ä¸ä¼šç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨è¯æ³•ç¯å¢ƒåˆ›å»ºå®Œæˆä¹‹åå†æ‰§è¡Œã€‚
        - å½“å‡½æ•°è¿è¡Œæ—¶ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°è¯æ³•ç¯å¢ƒ the function Lexical Environmentï¼Œè¿™ä¸ªè¯æ³•ç¯å¢ƒå¯¹è±¡ç”¨äºå­˜å‚¨è°ƒç”¨çš„å±€éƒ¨å˜é‡å’Œå‚æ•°ã€‚
        - å½“ä»£ç è¯•å›¾è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ï¼Œå®ƒé¦–å…ˆä¼šåœ¨è¯æ³•ç¯å¢ƒå†…éƒ¨æœç´¢ï¼Œç„¶åæ˜¯å¤–éƒ¨ç¯å¢ƒï¼Œç›´åˆ°Lexical Environmenté“¾çš„æœ«å°¾ã€‚
        - å‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°Lexical Environmentï¼Œå¦‚æœè¢«å¤šæ¬¡è°ƒç”¨ï¼Œæ¯æ¬¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ‹¥æœ‰æŒ‡å®šå±€éƒ¨å˜é‡å’Œå‚æ•°çš„Lexical Environment
      - åµŒå¥—å‡½æ•°
        - åœ¨å‡½æ•°ä¸­åˆ›å»ºå‡½æ•°ï¼Œå¯ä»¥åœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªä¸´æ—¶å‡½æ•°ç”¨äºè®¡ç®—ï¼Œä¹Ÿå¯ä»¥è¿”å›ä¸€ä¸ªå‡½æ•°ç»™å¤–éƒ¨è°ƒç”¨ã€‚è¿˜å¯ä»¥ç”¨æ„é€ å‡½æ•°è¿”å›ä¸€ä¸ªæ–°å¯¹è±¡ï¼ŒæŠŠå‡½æ•°ä½œä¸ºå¯¹è±¡çš„å±æ€§ã€‚
        - All functions â€œon birthâ€ receive a hidden property [[Environment]] with a reference to the Lexical Environment of their creation.
        - åµŒå¥—å‡½æ•°ä¹‹æ‰€ä»¥èƒ½è®¿é—®å¤–å±‚å‡½æ•°é‡Œçš„å˜é‡ï¼Œå°±æ˜¯å› ä¸ºå‡½æ•°åˆ›å»ºæ—¶ï¼Œå‡½æ•°è‡ªåŠ¨åˆ›å»ºçš„[[Environment]]çš„å±æ€§è®°å½•äº†åˆ›å»ºæ—¶çš„è¯æ³•ç¯å¢ƒï¼Œæ‰€ä»¥é€šè¿‡å¼•ç”¨å¯ä»¥è®¿é—®å¤–å±‚åµŒå¥—å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚å‡å¦‚æ‰¾ä¸åˆ°ï¼Œä¼šé€šè¿‡å¤–éƒ¨ç¯å¢ƒå¼•ç”¨é€çº§æŸ¥æ‰¾ç›´åˆ°å…¨å±€çš„null.
        - ä¸€æ¬¡è°ƒç”¨ â€”â€” ä¸€ä¸ªè¯æ³•ç¯å¢ƒ
          - è¯·è®°ä½ï¼Œæ¯æ¬¡å‡½æ•°è¿è¡Œä¼šéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°è¯æ³•ç¯å¢ƒã€‚å¦‚æœä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨å¤šæ¬¡ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨ä¹Ÿéƒ½ä¼šæ­¤åˆ›å»ºä¸€ä¸ªæ‹¥æœ‰æŒ‡å®šå±€éƒ¨å˜é‡å’Œå‚æ•°çš„è¯æ³•ç¯å¢ƒ
        - è¯æ³•ç¯å¢ƒæ˜¯ä¸€ä¸ªè§„èŒƒå¯¹è±¡ã€‚æˆ‘ä»¬ä¸èƒ½åœ¨ä»£ç ä¸­è·å–æˆ–ç›´æ¥æ“ä½œè¯¥å¯¹è±¡ã€‚ä½† JavaScript å¼•æ“åŒæ ·å¯ä»¥ä¼˜åŒ–å®ƒï¼Œæ¯”å¦‚æ¸…é™¤æœªè¢«ä½¿ç”¨çš„å˜é‡ä»¥èŠ‚çœå†…å­˜å’Œæ‰§è¡Œå…¶ä»–å†…éƒ¨æŠ€å·§ç­‰ï¼Œä½†æ˜¾æ€§è¡Œä¸ºåº”è¯¥æ˜¯å’Œä¸Šè¿°çš„æ— å·®ã€‚
      - é—­åŒ…
        - é—­åŒ…æœ¬è´¨ä¸Šå°±æ˜¯å‡½æ•°èƒ½å¤Ÿè®¿é—®å¤–éƒ¨å˜é‡ï¼Œå› ä¸ºå‡½æ•°åˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»º[[Environment]]å¯¹è±¡æ¥è®¿é—®åˆ›å»ºæ—¶è¯æ³•ç¯å¢ƒã€‚
      - ä»£ç å—ï¼Œå¾ªç¯å’ŒIIFEç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼
        - å½“ä»£ç å—ä¸­åŒ…å«å—çº§å±€éƒ¨å˜é‡å¹¶è¿è¡Œæ—¶ï¼Œä¼šåˆ›å»ºè¯æ³•ç¯å¢ƒã€‚
        - å¯¹äºå¾ªç¯è€Œè¨€ï¼Œæ¯æ¬¡è¿­ä»£éƒ½æœ‰ç‹¬ç«‹çš„è¯æ³•ç¯å¢ƒã€‚å¦‚æœåœ¨ for å¾ªç¯ä¸­å£°æ˜å˜é‡ï¼Œé‚£ä¹ˆå®ƒåœ¨è¯æ³•ç¯å¢ƒä¸­æ˜¯å±€éƒ¨çš„ï¼š
          ```
            for (let i = 0; i < 10; i++) {//æ³¨æ„è¿™é‡Œå£°æ˜içš„æ–¹å¼æ˜¯letè€Œä¸æ˜¯varï¼Œæ‰€ä»¥å¤–éƒ¨æ‰ä¼šæ— æ³•è®¿é—®åˆ°
                // æ¯æ¬¡å¾ªç¯éƒ½æœ‰å…¶è‡ªèº«çš„è¯æ³•ç¯å¢ƒ
                // {i: value}
            }

            alert(i); // é”™è¯¯ï¼Œæ²¡æœ‰è¯¥å˜é‡          
          ```         
        - ç«‹å³è°ƒç”¨å‡½æ•°IIFE,ä»£ç æ‹¥æœ‰è‡ªå·±çš„ç§æœ‰å˜é‡å¹¶ç«‹å³æ‰§è¡Œã€‚
         ```
            // åˆ›å»º IIFE çš„æ–¹æ³•

            (function() {
                alert("Brackets around the function");
            })();

            (function() {
                alert("Brackets around the whole thing");
            }());

            !function() {
                alert("Bitwise NOT operator starts the expression");
            }();

            +function() {
                alert("Unary plus starts the expression");
            }();         
         ```
          
      - åƒåœ¾å›æ”¶
        - å¦‚æœæœ‰ä¸€ä¸ªåµŒå¥—å‡½æ•°åœ¨ f ç»“æŸåä»å¯è¾¾ï¼Œé‚£ä¹ˆå®ƒçš„ [[Environment]] å¼•ç”¨ä¼šç»§ç»­ä¿æŒç€å¤–éƒ¨è¯æ³•ç¯å¢ƒå­˜åœ¨,è¯æ³•ç¯å¢ƒå¯¹è±¡åœ¨å˜æˆä¸å¯è¾¾æ—¶ä¼šè¢«æ¸…ç†ï¼šå½“æ²¡æœ‰åµŒå¥—å‡½æ•°å¼•ç”¨ï¼ˆå®ƒï¼‰æ—¶ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­ï¼Œåœ¨ g å˜å¾—ä¸å¯è¾¾åï¼Œvalue åŒæ ·ä¼šè¢«ä»å†…å­˜ä¸­æ¸…é™¤ï¼›
          ```
            function f() {
                let value = 123;
                function g() { alert(value); }
                return g;
            }

            let g = f(); // g æ˜¯å¯è¾¾çš„ï¼Œå¹¶ä¸”å°†å…¶å¤–éƒ¨è¯æ³•ç¯å¢ƒä¿æŒåœ¨å†…å­˜ä¸­     
            g = null; // ...åœ¨å†…å­˜ä¸­è¢«æ¸…ç†     
          ```
    - The old 'var'
      - let and constæœ‰è‡ªå·±çš„å—çº§ä½œç”¨åŸŸï¼Œä¸ä¼šäº§ç”Ÿä¸€äº›æ€ªå¼‚é—®é¢˜ã€‚
      - æ—§æ—¶é—ç•™çš„varæœ‰å¾ˆå¤šå‘ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹ä»¥ä¾¿åœ¨æ—§ä»£ç ä¸­å‡ºç°æ€ªå¼‚è¡Œä¸ºæ—¶å¾—åˆ°ä¿®å¤ã€‚
        - â€œvarâ€ æ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå®ƒåœ¨ifå—å†…ï¼Œforå¾ªç¯å—å†…éƒ½æ˜¯å¯¹å¤–éƒ¨å¯è§çš„ã€‚è™½ç„¶åœ¨å‡½æ•°ä½“ä¸ä¼šå‘å¤–æå‡ã€‚
        ```
        if (true) {
            var test = true; // ç”¨ "var" è€Œä¸æ˜¯ "let"
        }

        alert(test); // trueï¼Œå˜é‡åœ¨ if ç»“æŸåä»å­˜åœ¨        
        ```
        - var å˜é‡ä¼šåœ¨å‡½æ•°å¼€å¤´è¢«å®šä¹‰ï¼Œä¸å®ƒåœ¨ä»£ç é‡Œå®šä¹‰çš„ä½ç½®æ— å…³ï¼ˆè¿™é‡Œä¸è€ƒè™‘å®šä¹‰åœ¨åµŒå¥—å‡½æ•°é‡Œçš„åœºæ™¯ï¼‰ã€‚è¿™ä¸ªç°è±¡ä¹Ÿå«å˜é‡æå‡ã€‚ä½†æ˜¯èµ‹å€¼ä¸ä¼šã€‚
        ```
        function sayHi() {
            var phrase; // å£°æ˜åœ¨å¼€å¤´å·¥ä½œâ€¦â€¦
            alert(phrase); // undefined
            phrase = "Hello"; // ...èµ‹å€¼ â€” å½“æ‰§è¡Œåˆ°è¿™é‡Œæ—¶ã€‚
        }

        sayHi();        
        ```
    - Global object
      - åœ¨æµè§ˆå™¨ç¯å¢ƒï¼Œå…¨å±€å˜é‡æ˜¯windowï¼Œåœ¨nodejsç¯å¢ƒï¼Œå…¨å±€å˜é‡æ˜¯global
      - ç”±äºå†å²åŸå› ï¼Œwindowä¸ä»…æ˜¯å…¨å±€å¯¹è±¡ï¼Œè¿˜æä¾›è®¿é—®æµè§ˆå™¨å™¨çª—å£å±æ€§çš„åŠŸèƒ½ï¼Œä¾‹å¦‚`window.innerHeight; //æµè§ˆå™¨çª—å£é«˜åº¦`
      - åªæœ‰ä¼ ç»Ÿçš„`var`å£°æ˜çš„å˜é‡ä¼šæˆä¸ºå…¨å±€å¯¹è±¡windowçš„å±æ€§ï¼Œç°ä»£`let/const`åˆ›å»ºçš„å˜é‡å¹¶ä¸ä¼šåœ¨windowåˆ›å»ºå±æ€§ã€‚
      - æ‰€æœ‰scriptæ ‡ç­¾é‡Œçš„è„šæœ¬å…±äº«ä¸€ä¸ªå…¨å±€ä½œç”¨åŸŸ
      - å…¨å±€å˜é‡çš„ä½œç”¨ï¼Œæˆ‘ä»¬é€šè¿‡å°†ä¸€äº›éœ€è¦å…¨å±€å…±äº«çš„å˜é‡å­˜å‚¨åœ¨å…¨å±€å¯¹è±¡ä¸­ï¼Œä»¥ä¾¿ä»–ä»¬åœ¨å…¶ä»–scriptæ ‡ç­¾ä¸­è®¿é—®ï¼Œå¯ä»¥é€šè¿‡æ£€æµ‹å…¨å±€å¯¹è±¡éªŒè¯æµè§ˆå™¨æ˜¯å¦æ”¯æŒæ–°ç‰¹æ€§ã€‚
        - æ£€æµ‹æ˜¯å¦æ”¯æŒPromise
        ```
            if (!window.Promise) {
                alert("Your browser is really old!");
            }   
        ```
        - åˆ›å»ºpolyfills,å…¼å®¹æ—§æµè§ˆå™¨è®©ä»–ä»¬æ”¯æŒç°ä»£æ–°ç‰¹æ€§
        ```
        if (!window.Promise) {
            window.Promise = ... // è‡ªå®šä¹‰å®ç°ç°ä»£è¯­è¨€ç‰¹æ€§
        }        
        ```
    - Function object, NFE
      - Javascripté‡Œï¼Œå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬ä¸ä»…å¯ä»¥è°ƒç”¨ä»–ä»¬ï¼Œä¹Ÿå¯ä»¥æŠŠä»–ä»¬å½“åšå¯¹è±¡æ·»åŠ åˆ é™¤å±æ€§ã€‚ä¾‹å¦‚å¾ˆå¤šJavaScriptåº“éƒ½ä½¿ç”¨è¿™æ ·æ–¹å¼åˆ›å»ºï¼Œä¾‹å¦‚lodashï¼Œåˆ›å»ºäº†ä¸€ä¸ª_å‡½æ•°ï¼Œç„¶åæ·»åŠ äº†_.add, _.keyByç­‰å±æ€§ï¼Œå‡å°‘äº†å‘½åå†²çªçš„å¯èƒ½æ€§ã€‚
      - Functionçš„å±æ€§
        - func.name å‡½æ•°å, æ³¨æ„åŒ¿åå‡½æ•°çš„nameå€¼ä¸ºç©º
          ```
            let sayHi = function() {
                alert("Hi");
            }

            alert(sayHi.name); // sayHiï¼ˆç”Ÿæ•ˆäº†!ï¼‰
          ```
        - func.length å‡½æ•°ä¼ å…¥å‚æ•°çš„ä¸ªæ•°ï¼Œå¯ä»¥ç”¨æ¥æ ¹æ®å‚æ•°ä¸ªæ•°å®ç°å‡½æ•°é‡è½½
          ```
            function f1(a) {}
            function f2(a, b) {}
            function many(a, b, ...more) {}

            alert(f1.length); // 1
            alert(f2.length); // 2
            alert(many.length); // 2
          ```
        - è‡ªå®šä¹‰å±æ€§
          - æˆ‘ä»¬å¯ä»¥ä¸ºå‡½æ•°æ·»åŠ è‡ªå®šä¹‰çš„å±æ€§func.customPropertyï¼Œæ³¨æ„åŒºåˆ«ä¸é—­åŒ…çš„å‡½æ•°åˆ›å»ºç¯å¢ƒå­˜å‚¨çš„å±€éƒ¨å˜é‡çš„åŒºåˆ«ï¼Œä»–ä»¬ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œä¹Ÿéœ€è¦æ³¨æ„ä¸æ„é€ å‡½æ•°çš„å±æ€§åŒºåˆ«ï¼Œæ„é€ å‡½æ•°çš„this.propertyå±æ€§æ˜¯å­˜å‚¨åœ¨å®ä¾‹ä¸Šçš„ï¼Œä¸èƒ½ç›´æ¥é€šè¿‡æ„é€ å‡½æ•°è®¿é—®ã€‚
          - ä¸‹é¢çš„ä¾‹å­ï¼Œcountè¢«ç›´æ¥å‚¨å­˜åœ¨å‡½æ•°é‡Œï¼Œè€Œä¸æ˜¯å®ƒçš„åˆ›å»ºæ—¶å¤–éƒ¨çš„è¯æ³•ç¯å¢ƒã€‚è¿™æ ·ä¸é—­åŒ…ç›¸æ¯”åšæœ€å¤§çš„åŒºåˆ«å°±æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å‡½æ•°è®¿é—®åˆ°å®ƒï¼Œå‡å¦‚ä½¿ç”¨é—­åŒ…å¤–éƒ¨çš„ä»£ç æ˜¯æ— æ³•è®¿é—®åˆ°å®ƒçš„ã€‚
          ```
            function makeCounter() {
                // ä¸å†ç”¨ï¼š
                // let count = 0

                function counter() {
                    return counter.count++;
                };

                counter.count = 0;

                return counter;
            }

            let counter = makeCounter();
            alert( counter() ); // 0
            alert( counter() ); // 1         
          ```
      - å‘½åå‡½æ•°è¡¨è¾¾å¼ Named Function Expression
        - å¸¦æœ‰åå­—çš„å‡½æ•°è¡¨è¾¾å¼ï¼Œå¯ä»¥åœ¨å‡½æ•°ä½“å†…éƒ¨é€šè¿‡å‡½æ•°åè®¿é—®å‡½æ•°è‡ªèº«å¼•ç”¨ã€‚å‡å¦‚å‡½æ•°åŸå˜é‡å¯èƒ½ä¼šè¢«å¤–éƒ¨ä¿®æ”¹ï¼Œä¸ºäº†ä¿æŒæ­£ç¡®çš„è°ƒç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•åˆ›å»ºå‡½æ•°ã€‚
          - å®ƒå…è®¸åœ¨å‡½æ•°å†…éƒ¨å¼•ç”¨è‡ªå·±ã€‚
          - å®ƒåœ¨å‡½æ•°å¤–æ˜¯ä¸å¯è§çš„ã€‚
          ```
            let sayHi = function func(who) {
                if (who) {
                    alert(`Hello, ${who}`);
                } else {
                    func("Guest"); // ç°åœ¨ä¸€åˆ‡æ­£å¸¸
                }
            };

            let welcome = sayHi;
            sayHi = null;

            welcome(); // Hello, Guestï¼ˆåµŒå¥—è°ƒç”¨æœ‰æ•ˆï¼‰          
          ```
    - The 'new Function' syntax
      - é€šè¿‡å­—ç¬¦ä¸²æ¥åˆ›å»ºå‡½æ•°ï¼Œä¼ å…¥çš„æ‰€æœ‰å‚æ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå®ƒçš„åº”ç”¨åœºæ™¯éå¸¸ç‰¹æ®Šï¼Œæ¯”å¦‚éœ€è¦ä»æœåŠ¡ç«¯è·å–ä»£ç æˆ–è€…åŠ¨æ€åœ°æŒ‰æ¨¡æ¿ç¼–è¯‘å‡½æ•°çš„æ—¶å€™æ‰ä¼šä½¿ç”¨ã€‚
        ```
        let func = new Function ([arg1[, arg2[, ...argN]],] functionBody)        
        ```
        - ä¾‹å­
          ```
          let sum = new Function('a', 'b', 'return a + b');
          alert( sum(1, 2) ); // 3        
          ```
        - é—­åŒ…
          - å‡½æ•°ä¼šä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§ [[Environment]] æ¥è®°å½•å‡½æ•°åˆ›å»ºæ—¶çš„ç¯å¢ƒï¼Œå®ƒå…·ä½“æŒ‡å‘äº†å‡½æ•°åˆ›å»ºæ—¶çš„è¯æ³•ç¯å¢ƒã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨ new Function åˆ›å»ºå‡½æ•°ï¼Œå‡½æ•°çš„ [[Environment]] å¹¶ä¸æŒ‡å‘å½“å‰çš„è¯æ³•ç¯å¢ƒï¼Œè€Œæ˜¯æŒ‡å‘å…¨å±€ç¯å¢ƒã€‚
          - ä¾‹å­
          ```
            function getFunc() {
                let value = "test";
                let func = new Function('alert(value)');
                return func;
            }

            getFunc()(); // errorï¼švalue æœªå®šä¹‰

            function getFunc() {
                let value = "test";
                let func = function() { alert(value); };
                return func;
            }

            getFunc()(); // "test"ï¼Œå˜é‡å€¼å–è‡ª getFunc çš„è¯æ³•ç¯å¢ƒ
          ```

    - Scheduling: setTimeout and setInterval
      - windows.setTimeout/window.clearSetTimeout å»¶è¿Ÿè°ƒåº¦
        - let timerId = setTimeout(func|code, delay[, arg1, arg2...])
          - funæƒ³è¦æ‰§è¡Œçš„å‡½æ•°å¼•ç”¨åï¼Œæˆ–è€…æ˜¯åŒ¿åå‡½æ•°åµŒå¥—(ç®­å¤´å‡½æ•°)
          - code å‡½æ•°å­—ç¬¦ä¸²ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œåªæ˜¯ä¸ºäº†å…¼å®¹ä»¥å‰çš„ç‰¹æ€§
          - delay æ‰§è¡Œå‰çš„å»¶æ—¶ å•ä½æ¯«ç§’ 1s = 1000ms
          - arg1, arg2...è¦ä¼ å…¥è¢«æ‰§è¡Œå‡½æ•°çš„å‚æ•°
        - ä¾‹å­
          - å¸¦å‚æ•°
          ```
            function sayHi(phrase, who) {
                alert( phrase + ', ' + who );
            }

            setTimeout(sayHi, 1000, "Hello", "John"); // Hello, John          
          ```
          - åŒ¿åå‡½æ•°
          ```
            setTimeout(() => alert('Hello'), 1000);          
          ```
        - å–æ¶ˆè°ƒåº¦,å‚æ•°æ˜¯setTimeoutè¿”å›çš„time id
          ```
            let timerId = setTimeout(...);
            clearTimeout(timerId);          
          ```

      - window.setInterval/window.clearInterval è®©å‡½æ•°åœ¨ä¸€å®šæ—¶é—´é—´éš”å‘¨æœŸæ€§æ‰§è¡Œ
        - let timerId = setInterval(func|code, delay[, arg1, arg2...])
          - å‚æ•°ä¸setTimeoutç›¸åŒ
          - ä¾‹å­
            ```
            // æ¯ 2 ç§’é‡å¤ä¸€æ¬¡
            let timerId = setInterval(() => alert('tick'), 2000);

            // 5 ç§’ä¹‹ååœæ­¢
            setTimeout(() => { clearInterval(timerId); alert('stop'); }, 5000);
            ```

      - å¼¹çª—ä¼šè®© Chrome/Opera/Safari å†…çš„æ—¶é’Ÿåœæ­¢
          - åœ¨ä¼—å¤šæµè§ˆå™¨ä¸­ï¼ŒIE å’Œ Firefox åœ¨æ˜¾ç¤º alert/confirm/prompt æ—¶ï¼Œå†…éƒ¨çš„å®šæ—¶å™¨ä»æ—§ä¼šç»§ç»­æ»´ç­”ï¼Œä½†æ˜¯åœ¨ Chromeã€Opera å’Œ Safari ä¸­ï¼Œå†…éƒ¨çš„å®šæ—¶å™¨ä¼šæš‚åœ/å†»ç»“ã€‚

      - é€’å½’ç‰ˆsetTimeoutå®ç°å¯æ§çš„å‘¨æœŸè°ƒç”¨,è€Œä¸”æ—¶é—´ç²¾åº¦ä¸Šæ¯”setIntervalè¦å‡†ç¡®å¤šï¼Œå› ä¸ºsetIntervalè°ƒç”¨çš„å‘¨æœŸé—´éš”è¿˜è¦è¢«å‡½æ•°æ‰§è¡Œæ¶ˆè€—æ‰ä¸€éƒ¨åˆ†ï¼Œå‡å¦‚æ¶ˆè€—æ—¶é—´è¶…è¿‡äº†æ—¶é—´é—´éš”å‘¨æœŸï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡è°ƒç”¨ä¼šç«‹åˆ»æ‰§è¡Œã€‚è€ŒsetTimeoutåˆ™ä¸ä¼šï¼Œå®ƒæ˜¯åœ¨ä¸Šä¸€æ¬¡è°ƒç”¨éƒ½æ‰§è¡Œå®Œæˆä¹‹åæ‰å¼€å§‹ä¸‹ä¸€æ¬¡è°ƒåº¦çš„ã€‚
        - ä¾‹å­
          ```
            /** è¿™æ˜¯ä¸€ç§ï¼š
            let timerId = setInterval(() => alert('tick'), 2000);
            */

            let timerId = setTimeout(function tick() {
                alert('tick');
                timerId = setTimeout(tick, 2000); // (*) setTimeoutåœ¨è¿™æ¬¡å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œç«‹åˆ»å®‰æ’äº†ä¸‹ä¸€æ¬¡è°ƒç”¨
            }, 2000);          
          ```
        - æ ¹æ®æœåŠ¡å™¨è´Ÿè½½é™ä½è¯·æ±‚é¢‘ç‡
          ```
            let delay = 5000;

            let timerId = setTimeout(function request() {
                ...send request...

                if (request failed due to server overload) {
                    // ä¸‹ä¸€æ¬¡æ‰§è¡Œçš„é—´éš”æ˜¯å½“å‰çš„ 2 å€
                    delay *= 2;
                }

                timerId = setTimeout(request, delay);

            }, delay);         
          ``` 
      - åƒåœ¾å›æ”¶
        - å½“ä¸€ä¸ªå‡½æ•°ä¼ å…¥ setInterval/setTimeout æ—¶ï¼Œå†…éƒ¨ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªå¼•ç”¨ï¼Œä¿å­˜åœ¨è°ƒåº¦å™¨ä¸­ã€‚è¿™æ ·ï¼Œå³ä½¿è¿™ä¸ªå‡½æ•°æ²¡æœ‰è¢«å¼•ç”¨ï¼Œä¹Ÿèƒ½é˜²æ­¢åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰å°†å…¶å›æ”¶ã€‚å¯¹äº setIntervalï¼Œä¼ å…¥çš„å‡½æ•°ä¹Ÿæ˜¯å­˜åœ¨äºå†…å­˜ä¸­ï¼Œç›´åˆ° clearInterval è¢«è°ƒç”¨ã€‚è¿™é‡Œè¿˜è¦æåˆ°ä¸€ä¸ªå‰¯ä½œç”¨ã€‚å¦‚æœå‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å˜é‡ï¼ˆè¯‘è€…æ³¨ï¼šé—­åŒ…ï¼‰ï¼Œé‚£ä¹ˆåªè¦è¿™ä¸ªå‡½æ•°è¿˜å­˜æ´»ç€ï¼Œå¤–éƒ¨å˜é‡ä¹Ÿä¼šéšä¹‹å­˜æ´»ï¼Œè¿™æ ·å°±å¯èƒ½ä¼šå ç”¨å¤šäºæ–¹æ³•è‡ªèº«æ‰€éœ€è¦çš„å†…å­˜ã€‚æ‰€ä»¥ï¼Œå¦‚æœæŸä¸ªå‡½æ•°ä¸éœ€è¦å†è¢«è°ƒåº¦ï¼Œå³ä½¿æ˜¯ä¸ªå¾ˆå°çš„å‡½æ•°ï¼Œæœ€å¥½ä¹Ÿå°†å…¶å–æ¶ˆã€‚

      - ä½¿ç”¨setTimeout(...,0)åˆ†å‰²é«˜è´Ÿè½½ä»»åŠ¡ï¼Œä¸è®©è„šæœ¬æ‰§è¡Œè¿›å…¥æŒ‚èµ·çŠ¶æ€ï¼Œç»™æµè§ˆå™¨æ—¶é—´å“åº”å¹¶æ¸²æŸ“ç•Œé¢ã€‚
        - å…³é”®ç‚¹åœ¨äºæ‹†åˆ†ä»»åŠ¡ï¼Œç„¶åé€šè¿‡æ¡ä»¶åˆ¤æ–­æ˜¯å¦ç»§ç»­æ‰§è¡ŒsetTimeouté€’å½’ï¼Œä¹Ÿå°±æ˜¯ä»»åŠ¡æ˜¯å¦æ‰§è¡Œå®Œæˆã€‚
          ```
            <div id="progress"></div>

            <script>
            let i = 0;

            function count() {

                // æ¯æ¬¡åªå®Œæˆä¸€éƒ¨åˆ† (*)
                do {
                    i++;
                    progress.innerHTML = i;
                } while (i % 1e3 != 0);

                if (i < 1e9) {
                    setTimeout(count, 0);
                }

            }

            count();
            </script>          
          ```
          ```
            let i = 0;

            let start = Date.now();

            function count() {

                // ç°åœ¨å°†è°ƒåº¦æ”¾åœ¨å¼€å¤´ï¼Œæ¡ä»¶å…ˆå‡å»do...whileå¾ªç¯ç¬¬ä¸€æ¬¡è°ƒç”¨çš„1000æ¬¡ç´¯åŠ 
                if (i < 1e9 - 1e6) { //åªæœ‰åˆ¤æ–­ä»»åŠ¡æœªå®Œæˆæ‰æ‰§è¡Œé€’å½’ï¼Œè¿™ä¹Ÿæ˜¯setTimeoutæ¯”è¾ƒä¼˜é›…çš„åœ°æ–¹ï¼Œæ‰§è¡Œå¯æ§
                    setTimeout(count, 0); // å®‰æ’ä¸‹ä¸€æ¬¡è°ƒç”¨,å½“å½“å‰ä»£ç å—æ‰§è¡Œå®Œæˆä¹‹åï¼Œåœ¨ä¸‹ä¸€æ¬¡eventLoopå¼€å§‹è°ƒç”¨ã€‚
                }

                do {
                    i++;
                } while (i % 1e6 != 0);

                if (i == 1e9) { å·²ç»å®Œæˆçš„æ¡ä»¶ï¼Œè¾“å‡ºç»“æœ
                    alert("Done in " + (Date.now() - start) + 'ms');
                }

            }

            count();          
          ```

    - Decorators and forwarding, call/apply
      - è£…é¥°å™¨
        - æ”¹å˜å‡½æ•°è¡Œä¸ºçš„åŒ…è£…å™¨ï¼Œä¸»è¦å·¥ä½œç”±åŸå‡½æ•°æ‰§è¡Œï¼Œä½†æ˜¯é¢å¤–ä¸ºå‡½æ•°å¢å¼ºäº†ä¸€äº›ç‰¹æ€§ã€‚é€šè¿‡é—­åŒ…æˆ–è€…å‡½æ•°çš„å±æ€§å­˜å‚¨æ•°æ®ã€‚å¹¶æ²¡æœ‰æ”¹å˜åŸå‡½æ•°çš„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºå‡½æ•°æ·»åŠ å¤šä¸ªè£…é¥°å™¨ï¼Œä¹Ÿå¯ä»¥ä¸ºå¤šä¸ªå‡½æ•°æ·»åŠ ç›¸åŒçš„è£…é¥°å™¨ï¼Œä»–ä»¬ä¹‹é—´ä¸ä¼šäº’ç›¸å½±å“ã€‚è€Œä¸”ä¹Ÿä¸ä¼šä¿®æ”¹åŸå‡½æ•°ã€‚
        - ä¸€ä¸ªç»“æœç¨³å®šçš„CPUé«˜è´Ÿè½½è¿ç®—å‡½æ•°ï¼Œä¸ºå…¶æ·»åŠ ä¸€ä¸ªç¼“å­˜ç»“æœè£…é¥°å™¨æé«˜å…¶æ€§èƒ½ã€‚
        ```
        function cachingDecorator(func) {
            let cache = new Map();
            return function (...args) { //wrapper
                let key = hash(args); //args = [].join.call(arguments);
                if (cache.has(key)) {
                    return cache.get(key);
                }
                let result = func.apply(this, args); //bind original method to context
                cache.set(key, result);
                return result;
            }
        }

        function hash(args) {
            return args.join(''); //æ•£åˆ—å‡½æ•°ä»å¤šä¸ªå€¼åˆ›å»ºä¸€ä¸ªå€¼
        }        
        ```
      - ä¿®æ”¹å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡context
        - é€šè¿‡ä½¿ç”¨æ–¹æ³•`func.apply(context, args)` or `func.call(context, ...args)`ï¼Œcallæ–¹æ³•ä¸­ä½¿ç”¨spreadè¿ç®—ç¬¦å°†æ•°ç»„å±•å¼€ä¸ºå‚æ•°åˆ—è¡¨
        ```
        function say(phrase) {
            alert(this.name + ': ' + phrase);
        }

        let user = { name: "John" };

        // user becomes this, and "Hello" becomes the first argument
        say.call( user, "Hello" ); // John: Hello       
        ```
        - func.call(context, arg1, arg2, ...) ä¼ å…¥çš„å‚æ•°ä¸ºå¯è¿­ä»£åˆ—è¡¨
        - func.apply(context, [...args]) ä¼ å…¥çš„å‚æ•°ä¸ºæ•°ç»„
          - æ¯”å¦‚`Math.max(num1, num2, ...);`æ¥æ”¶çš„å‚æ•°æ˜¯æ•°å­—å‚æ•°åˆ—è¡¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨func.applyæ”¯æŒå‚æ•°ä¸ºæ•°ç»„çš„ç‰¹æ€§æŠŠæ­¤æ–¹æ³•åº”ç”¨äºæ•°ç»„å¹¶è¿”å›æ•°ç»„çš„æœ€å¤§é¡¹ï¼Œ
          `Math.max.apply(null, array);`ï¼Œè®°å¾—è¿™é‡Œçš„ä½œç”¨åŸŸæ˜¯globalæˆ–è€…nullï¼Œå› ä¸ºå‚æ•°è¦è½¬æ¢æˆæ•°ç»„
        - è¿™é‡Œçš„contextè™½ç„¶æ„ä¹‰ä¸Šæ˜¯ä½œç”¨åŸŸï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨çš„å¯¹è±¡ä¸Šä¸‹æ–‡ã€‚
      - å‘¼å«è½¬ç§»
        ```
        let wrapper = function() {
            return anotherFunction.apply(this, arguments);
        };        
        ```
        è¿™å«åš å‘¼å«è½¬ç§»ã€‚wrapper ä¼ é€’å®ƒè·å¾—çš„æ‰€æœ‰å†…å®¹ï¼šä¸Šä¸‹æ–‡ this å’Œ anotherFunction çš„å‚æ•°å¹¶è¿”å›å…¶ç»“æœã€‚å½“å¤–éƒ¨ä»£ç è°ƒç”¨è¿™æ ·çš„ wrapper æ—¶ï¼Œå®ƒä¸åŸå§‹å‡½æ•°çš„è°ƒç”¨æ— æ³•åŒºåˆ†ã€‚
      - **æ–¹æ³•å€Ÿç”¨**,å½“æˆ‘ä»¬ä»ä¸€ä¸ªå¯¹è±¡ä¸­è·å–ä¸€ä¸ªæ–¹æ³•å¹¶åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­â€œè°ƒç”¨â€å®ƒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†ä¸€ä¸ªæ–¹æ³•å€Ÿç”¨çš„ä¾‹å­
        ```
        function hash() {
            alert( [].join.call(arguments) ); // 1,2 æ³¨æ„è¿™é‡Œçš„argumentsæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„ç±»æ•°ç»„å¯¹è±¡ï¼ŒæŠŠargumentså¯¹è±¡ä½œä¸ºå¯¹è±¡ä¼ å…¥äº†æ•°ç»„çš„å®ä¾‹æ–¹æ³•joinï¼Œå¹¶ä¸æ˜¯å‚æ•°ï¼Œè¿™é‡Œéœ€è¦ç†è§£é€å½»ï¼Œå¦å¤–[]è¿”å›çš„æ˜¯æ•°ç»„çš„å®ä¾‹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Array.prototype.joinä½œä¸ºæ›¿ä»£ï¼Œç›®çš„éƒ½æ˜¯è·å–æ•°ç»„çš„joinæ–¹æ³•ï¼ŒåŸæœ‰çš„åªèƒ½åœ¨æ•°ç»„å®ä¾‹ä¸Šè°ƒç”¨çš„æ–¹æ³•joinç°åœ¨é€šè¿‡callæ–¹æ³•ä¼ å…¥å…¶ä»–å¯¹è±¡ä½œä¸ºå‚æ•°å¹¶è¿”å›æ­£ç¡®çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Javascriptå†…éƒ¨çš„ä»»ä½•å†…ç½®æ–¹æ³•ä½œç”¨äºä»»ä½•å¯¹è±¡ä¸Šï¼Œè¿™æ ·çš„ç‰¹æ€§æä¸ºå¼ºå¤§å’Œçµæ´»ã€‚
        }

        hash(1, 2);        
        ```
      - å¸¸ç”¨Decorators
        - å»¶æ—¶è£…é¥°å™¨
        ```
        let delay = function (func, ms) {
            return function (...args) {
                let saveThis =
                    this; //ç”±äºsetTimeoutè°ƒç”¨å°†thisæŒ‡å‘window or globalï¼Œæˆ‘ä»¬éœ€è¦éœ€è¦åœ¨åŒ…è£…å™¨å‡½æ•°ä¸­ç»‘å®šä½œç”¨åŸŸï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨äº†saveThisæ¥ä¿å­˜æ­£ç¡®çš„ä½œç”¨åŸŸå¹¶å°†å…¶ä¼ å…¥setTimeoutåŒ¿åå‡½æ•°ä¸­
                setTimeout(function () {
                    return func.apply(saveThis, args);
                }, ms);
            }

            //Other solution
            return function () {
                setTimeout(() => f.apply(this, arguments),
                    ms
                    ); //ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thiså’Œarguments, æ‰€ä»¥f.applyçš„thiså’Œargumetnséƒ½æ˜¯ä»åŒ…è£…å™¨ä¸­çš„åŒ¿åå‡½æ•°ä¹Ÿå°±æ˜¯è¿”å›ç»™å˜é‡çš„å‡½æ•°çš„ä½œç”¨åŸŸè·å–çš„ï¼Œåˆ©ç”¨ç®­å¤´å‡½æ•°çš„ç‰¹æ€§è§£å†³äº†setTimeoutçš„å…¨å±€ä½œç”¨åŸŸçš„é—®é¢˜ã€‚
            };

        }        
        ```
        - **å›ºå®šé¢‘ç‡æ‰§è¡Œå‡½æ•°è£…é¥°å™¨ debounce**
          å®ä¾‹åº”ç”¨äºDOMæ‹–æ‹½ï¼Œé€‚åˆåšå¤§é‡é‡å¤å‡½æ•°æ‰§è¡ŒæŒ‰æ—¶é—´å¹³å‡åˆ†é…è§¦å‘ã€‚
          ```
            //è¿™ä¸ªæ–¹æ³•å¯ä»¥é™åˆ¶æŸä¸ªå‡½æ•°æ‰§è¡Œçš„é¢‘ç‡ï¼Œåªæœ‰åœ¨æŒ‡å®šæ—¶é—´é—´éš”æ‰å¯ä»¥è°ƒç”¨æˆåŠŸï¼Œå…¶ä½™æ—¶é—´é—´éš”å†…çš„è°ƒç”¨éƒ½å°†è¢«å¿½ç•¥ã€‚
            let debounce = function (func, ms) {
                //ä½¿ç”¨Dateå¯¹è±¡å®ç°ï¼Œalertä¼šæš‚åœsetTimeoutçš„è®¡æ—¶å™¨ï¼Œä½†æ˜¯ä¸ä¼šå½±å“Dateå¯¹è±¡çš„è®¡æ—¶ï¼Œæ‰€ä»¥ä¸‹é¢å‡å¦‚è°ƒç”¨äº†alertæ–¹æ³•ï¼ŒDateçš„è®¡æ—¶ä»ç„¶ç»§ç»­ï¼Œæ‰€ä»¥å¹¶ä¸æ˜¯bugï¼Œè€Œæ˜¯ä¸è¦ä½¿ç”¨é˜»æ–­ç”¨æˆ·äº¤äº’çš„æ–¹æ³•å°±å¯ä»¥äº†ã€‚
                // let debounced = function (...args) {
                //     if (debounced.previousCall === undefined) {
                //         debounced.previousCall = Date.now();
                //         return func.apply(this, args);
                //     } else {
                //         console.log(Date.now() - debounced.previousCall);
                //         if (Date.now() - debounced.previousCall >= ms) {
                //             debounced.previousCall = Date.now();
                //             return func.apply(this, args);
                //         }
                //     }
                // }
                // return debounced;

                //å¦ä¸€ç§å®ç°, ä½¿ç”¨é—­åŒ…å†…çš„å±€éƒ¨å˜é‡ï¼Œé€šè¿‡è°ƒç”¨å‡½æ•°æ—¶åˆ›å»ºçš„è¯æ³•ç¯å¢ƒéš”ç¦»è®¿é—®ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºç‹¬ç«‹çš„è¯æ³•ç¯å¢ƒç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡ã€‚è¿™ä¸ªå±€éƒ¨å˜é‡åªèƒ½é€šè¿‡è¿”å›çš„å‡½æ•°è®¿é—®ã€‚
                let isInCooldown = false; //Is in the cooldown period or not
                let debouncedSetTimeout = function (...args) {
                    if (isInCooldown) {
                        return;
                    }
                    func.apply(this, args);
                    isInCooldown = true;
                    setTimeout(() => isInCooldown = false, ms);
                }
                return debouncedSetTimeout;
            }         
          ```

        - **èŠ‚æµè£…é¥°å™¨ throttle**
          ç»™è¡¨å•æäº¤æŒ‰é’®æ·»åŠ é˜²æŠ–ï¼Œé¿å…å¤šæ¬¡æäº¤ã€‚è¾“å…¥æ¡†AJAXéªŒè¯æˆ–è€…è‡ªåŠ¨è¡¥å…¨ï¼Œç”¨é˜²æŠ–é™åˆ¶è¯·æ±‚é¢‘ç‡ï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥è¿‡å¿«äº§ç”Ÿè¿‡å¤šè¯·æ±‚ï¼Œé¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨åŠ è½½æ•°æ®ã€‚æ€»çš„æ¥è¯´ï¼Œé€‚åˆå¤šæ¬¡é‡å¤å‡½æ•°è°ƒç”¨åªå“åº”ä¸€æ¬¡ã€‚
          
          ```
                        
            let throttle = function (func, ms) {
                let isThrottled = false;
                let saveThis, saveArgruments;
                let wrapper = function () {
                    if (isThrottled) {
                        saveThis = this;
                        saveArgruments = arguments;
                        return;
                    }

                    func.apply(this, arguments);
                    isThrottled = true;
                    setTimeout(() => {
                        isThrottled = false;
                        if (saveArgruments) {
                            wrapper.apply(saveThis,
                            saveArgruments); // è¿™é‡Œä¸æ˜¯åªæ˜¯è°ƒç”¨äº†funcè¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡æ‰§è¡Œä¸€æ¬¡wrapperè¿›å…¥å†·å´çŠ¶æ€ï¼Œå¹¶ä¸”è®¾ç½®è¶…æ—¶ä»¥é‡ç½®å®ƒ
                            saveArgruments = saveThis = null;
                        }
                    }, ms);
                }
                return wrapper;
            }        
          ```
    - Function binding
      - å‡½æ•°å˜é‡å¼•ç”¨å¯¹è±¡çš„æ–¹æ³•å¯¼è‡´thisä¸Šä¸‹æ–‡ä¸¢å¤±ï¼Œè¿™æ ·çš„ç°è±¡ç»å¸¸åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‘ç”Ÿï¼Œä¾‹å¦‚setTimeouté‡Œï¼Œæˆ–è€…dom.addEventListenerï¼Œå› ä¸ºä¼ é€’çš„å‚æ•°æ˜¯å‡½æ•°çš„å¼•ç”¨(å‡½æ•°å˜é‡å)ï¼Œå¯¼è‡´thisæŒ‡å‘äº†é”™è¯¯çš„å¯¹è±¡ã€‚
      ```
        let user = {
            firstName: "John",
            sayHi() {
                alert(`Hello, ${this.firstName}!`);
            }
        };

        setTimeout(user.sayHi, 1000); // Hello, undefined!  
        //ä¸Šé¢çš„ä»£ç ç›¸å½“äº
        //let f = user.sayHi;
        //setTimeout(f, 1000); // userä¸Šä¸‹æ–‡ä¸¢å¤±    
      ```
      - è§£å†³thisä¸¢å¤±çš„æ–¹æ¡ˆ
        - åŒ¿åå‡½æ•°åŒ…è£…å±‚ï¼Œå°†æœ¬æ¥åº”è¯¥ä¼ é€’å‡½æ•°åçš„å‚æ•°æ›¿æ¢æˆåŒ¿åå‡½æ•°è¿”å›ï¼Œå¹¶åœ¨å‡½æ•°å†…éƒ¨è°ƒç”¨å¸¦æœ‰ä½œç”¨åŸŸçš„context.method()ä»è€Œç»‘å®šä½œç”¨åŸŸï¼Œè¿™ä¸ªæ–¹æ³•çš„å¼Šç«¯æ˜¯ï¼Œç»‘å®šä¹‹åå‡å¦‚ç»‘å®šå¯¹è±¡æœ‰æ”¹å˜ä¼šæŒ‡å‘æ”¹å˜çš„å€¼
          ```
            let user = {
                firstName: "John",
                sayHi() {
                    alert(`Hello, ${this.firstName}!`);
                }
            };

            setTimeout(function() {
                user.sayHi(); // Hello, John!
            }, 1000); 
            //setTimeout(() => user.sayHi(), 1000); // Hello, John!         
          ```
        - å¼ºåˆ¶ç»‘å®šæ–¹æ³•ä¸ºä½œç”¨åŸŸcontextå¹¶æ”¹å˜æ–¹æ³•å¼•ç”¨ä¸ºç»‘å®šçš„æ–¹æ³•
          - `let boundFunc = func.bind(context);`
            ```
            let user = {
                firstName: "John",
                sayHi() {
                    alert(`Hello, ${this.firstName}!`);
                }
            };

            let sayHi = user.sayHi.bind(user); // (*)

            sayHi(); // Hello, John!

            setTimeout(sayHi, 1000); // Hello, John!          
            ```
          - bindAll
            ```
            for (let key in user) {
                if (typeof user[key] == 'function') {
                    user[key] = user[key].bind(user);
                }
            }
            ```
    - Arrow functions revisited
      - ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œå®ƒè·å–çš„thisæ¥è‡ªå¤–å±‚å‡½æ•°
        ```
        let group = {
            title: "Our Group",
            students: ["John", "Pete", "Alice"],

            showList() {
                this.students.forEach(
                    student => alert(this.title + ': ' + student) //(*) thisè·å–è‡ªå¤–å±‚å‡½æ•°ï¼Œæ‰€ä»¥èƒ½è·å–æ­£ç¡®çš„çš„å¯¹è±¡group
                );
            }
        };

        group.showList();        
        ```
      - æ™®é€šåŒ¿åå‡½æ•°çš„thisæ˜¯undefined
        ```
        let group = {
            title: "Our Group",
            students: ["John", "Pete", "Alice"],

            showList() {
                this.students.forEach(function(student) {
                    // Error: Cannot read property 'title' of undefined this=undefined
                    alert(this.title + ': ' + student);
                });
            }
        };

        group.showList();
        ```
      - ç®­å¤´å‡½æ•°æ²¡æœ‰argumentsï¼Œå®ƒçš„argumentsæ¥å­å¤–å±‚å‡½æ•°
      - ç®­å¤´å‡½æ•°æ²¡æœ‰thisï¼Œæ‰€ä»¥ä¸èƒ½ä½œä¸ºæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œæ— æ³•é€šè¿‡newè°ƒç”¨åˆ›å»ºå¯¹è±¡
      - Arrow functions VS bind
        - func.bind(this) åˆ›å»ºè¯¥å‡½æ•°çš„ â€œç»‘å®šç‰ˆæœ¬â€
        - ç®­å¤´å‡½æ•° => ä¸ä¼šåˆ›å»ºä»»ä½•ç»‘å®šã€‚è¯¥å‡½æ•°æ ¹æœ¬æ²¡æœ‰ thisã€‚åœ¨å¤–éƒ¨ä¸Šä¸‹æ–‡ä¸­ï¼Œthis çš„æŸ¥æ‰¾ä¸æ™®é€šå˜é‡æœç´¢å®Œå…¨ç›¸åŒã€‚
      - æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç®­å¤´å‡½æ•°çš„è¿™ä¸ªç‰¹æ€§ï¼Œè½¬å‘è°ƒç”¨
        ```
        function defer(f, ms) {
            return function() {
                setTimeout(() => f.apply(this, arguments), ms) //(*)æˆ‘ä»¬ä¸å¿…åˆ›å»ºé¢å¤–çš„argumentså’Œç»‘å®šthisçš„å±€éƒ¨å˜é‡ï¼Œç®­å¤´å‡½æ•°ä¼šç›´æ¥ä»å¤–å±‚å‡½æ•°è·å–
            };
        }

        function sayHi(who) {
            alert('Hello, ' + who);
        }

        let sayHiDeferred = defer(sayHi, 2000);
        sayHiDeferred("John"); // 2 ç§’åæ‰“å° Hello, John       

        //ä¸ä½¿ç”¨ç®­å¤´å‡½æ•°çš„æ–¹æ³•
        function defer(f, ms) {
            return function(...args) { //(*)åŒ¿åå‡½æ•°é¢å¤–åˆ›å»ºçš„argså˜é‡ç”¨äºè·å–å‡½æ•°å‚æ•°
                let ctx = this; //(*)åŒ¿åå‡½æ•°é¢å¤–åˆ›å»ºçš„å˜é‡ctxç”¨äºç»‘å®šä½œç”¨åŸŸ
                setTimeout(function() {
                    return f.apply(ctx, args);
                }, ms);
            };
        }         
        ```
    - æŸ¯é‡ŒåŒ–å’Œåå‡½æ•°
      - bindä¸ä»…å¯ä»¥ç»‘å®šä½œç”¨åŸŸï¼Œè¿˜å¯ä»¥ç»‘å®šå›ºå®šå‚æ•°ï¼Œæ„å»ºåå‡½æ•°ï¼Œé€‚ç”¨äºåˆ›å»ºé‡å¤è°ƒç”¨å›ºå®šå‚æ•°çš„å‡½æ•°
        - å½“æˆ‘ä»¬ç¡®å®šä¸€ä¸ªå‡½æ•°çš„ä¸€äº›å‚æ•°æ—¶ï¼Œé€šè¿‡å‡½æ•°è¿”å›çš„å›ºå®šå‚æ•°å‡½æ•°è¢«ç§°ä¸ºåå‡½æ•°ã€‚
        - å½“æˆ‘ä»¬ä¸æƒ³ä¸€éåˆä¸€éé‡å¤ç›¸åŒçš„å‚æ•°æ—¶ï¼Œåå‡½æ•°å¾ˆæ–¹ä¾¿ã€‚æ¯”å¦‚æˆ‘ä»¬æœ‰å‡½æ•° send(from, to)ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬çš„ä»»åŠ¡ä¸­ from å§‹ç»ˆæ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªåå‡½æ•°ç„¶åå¯¹å®ƒè¿›è¡Œæ“ä½œã€‚
        - `let bound = func.bind(context, arg1, arg2, ...);`
        - ä¾‹å­,é€šè¿‡ä¸€ä¸ªä¹˜æ³•å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°double
          ```
          let mul = function(a, b){
              return a * b;
          }
          let double = mul.bind(null, 2); //bindçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯contextï¼Œæˆ‘ä»¬å¿…é¡»è¦ä¼ å…¥ä¸€ä¸ªå€¼ï¼Œæˆ‘ä»¬ä¸æƒ³åœ¨è¿™é‡Œä½¿ç”¨thisï¼Œé‚£ä¹ˆä¼ å…¥ä¸€ä¸ªnullå°±å¯ä»¥äº†
          console.log(double(3)); // 6
          console.log(double(4)); // 8
          console.log(double(5)); // 10
          ```
          
      - æ— ä¸Šä¸‹æ–‡ä½¿ç”¨åå‡½æ•°
        - æ„å»ºä¸€ä¸ªåªç»‘å®šå‚æ•°çš„åå‡½æ•°
        ```
        function partial(func, ...argsBound) {
            return function(...args) { // (*)
                return func.call(this, ...argsBound, ...args);
            }
        }    

        // ç”¨æ³•ï¼š
        let user = {
            firstName: "John",
            say(time, phrase) {
                alert(`[${time}] ${this.firstName}: ${phrase}!`);
            }
        };

        // æ·»åŠ ä¸€ä¸ªåå‡½æ•°æ–¹æ³•ï¼Œç°åœ¨ say è¿™ä¸ªå‡½æ•°å¯ä»¥ä½œä¸ºç¬¬ä¸€ä¸ªå‡½æ•°
        user.sayNow = partial(user.say, new Date().getHours() + ':' + new Date().getMinutes());

        user.sayNow("Hello");
        // ç»“æœå°±åƒè¿™æ ·ï¼š
        // [10:00] John: Hello!      
        ```
        partial(func[, arg1, arg2...]) è°ƒç”¨çš„ç»“æœæ˜¯ä¸€ä¸ªåŸºäº func çš„å°è£…å‡½æ•°ï¼Œä»¥åŠï¼š
        - å’Œå®ƒä¼ å…¥çš„å‡½æ•°ä¸€è‡´çš„ this (å¯¹äº user.sayNow è°ƒç”¨æ˜¯ user)
        - ç„¶åä¼ å…¥ ...argsBound â€”â€” æ¥è‡ªåå‡½æ•°è°ƒç”¨ä¼ å…¥çš„å‚æ•°ï¼ˆ"10:00"ï¼‰
        - ç„¶åä¼ å…¥ ...args â€”â€” ä¼ å…¥å°è£…å‡½æ•°çš„å‚æ•°ï¼ˆHelloï¼‰  

      - å‡½æ•°æŸ¯é‡ŒåŒ–
        - Currying æ˜¯ä¸€é¡¹å°†ä¸€ä¸ªè°ƒç”¨å½¢å¼ä¸º f(a, b, c) çš„å‡½æ•°è½¬åŒ–ä¸ºè°ƒç”¨å½¢å¼ä¸º f(a)(b)(c) çš„æŠ€æœ¯
        - å½“æˆ‘ä»¬æƒ³è¦ç®€å•åå‡½æ•°çš„æ—¶å€™ï¼ŒæŸ¯é‡ŒåŒ–å¾ˆæ£’ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ logging ä¾‹å­ä¸­æ‰€çœ‹åˆ°çš„é‚£æ ·ï¼šé€šç”¨å‡½æ•° log(date, importance, message) åœ¨æŸ¯é‡ŒåŒ–ä¹‹åï¼Œå½“æˆ‘ä»¬åœ¨è°ƒç”¨å®ƒçš„æ—¶å€™ä¼ å…¥ä¸€ä¸ªå‚æ•°å¦‚ log(date) è¿”å›åå‡½æ•°todayLog æˆ–è€…ä¸¤ä¸ªå‚æ•° log(date, importance) è¿”å›åå‡½æ•°todayDebug çš„æ—¶å€™ï¼Œè¿”å›äº†åå‡½æ•°ã€‚
        - å‡½æ•°æŸ¯é‡ŒåŒ–ç»“åˆåå‡½æ•°ï¼Œæ–¹ä¾¿çš„ç”Ÿæˆå›ºå®šå‚æ•°çš„åå‡½æ•°ï¼Œå¹¶ä¸”ä¸å½±å“åŸå‡½æ•°
          - å‡½æ•°æŸ¯é‡ŒåŒ–åˆ›å»ºä¸€ä¸ªå¸¸ç”¨çš„logå‡½æ•°
            ```
            function log(date, importance, message) {
                alert(`[${date.getHours()}:${date.getMinutes()}] [${importance}] ${message}`);
            }
            log = _.curry(log); //æŸ¯é‡ŒåŒ– lodashåº“çš„æ–¹æ³•
            log(new Date(), "DEBUG", "some debug") //æ“ä½œä¹‹å log ä¾ç„¶æ­£å¸¸è¿è¡Œ
            log(new Date())("DEBUG")("some debug"); // log(a)(b)(c) æŸ¯é‡ŒåŒ–æ ¼å¼è°ƒç”¨

            // todayLog ä¼šæ˜¯ä¸€ä¸ªé¦–ä¸ªå‚æ•°ç¡®å®šçš„åå‡½æ•°, è®©æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªè·å–ä»Šå¤©çš„æ—¥å¿—çš„ç®€æ˜“å‡½æ•°
            let todayLog = log(new Date());
            // ä½¿ç”¨å®ƒ
            todayLog("INFO", "message"); // [HH:mm] INFO message

            //æä¾›ä»Šå¤©çš„è°ƒè¯•ä¿¡æ¯çš„ç®€ä¾¿å‡½æ•°
            let todayDebug = todayLog("DEBUG");
            todayDebug("message"); // [HH:mm] DEBUG message
            ```

        - é«˜çº§æŸ¯é‡ŒåŒ–çš„å®ç°ï¼Œé€šè¿‡åˆ¤æ–­æŸ¯é‡ŒåŒ–å‡½æ•°è°ƒç”¨çš„å‚æ•°æ˜¯å¦å°äºåŸå‡½æ•°çš„å‚æ•°ï¼Œå†³å®šè°ƒç”¨åŸå‡½æ•°è¿˜æ˜¯è¿”å›åå‡½æ•°
          ```
            function curry(func) {
                //åˆ›å»ºä¸€ä¸ªå‡½æ•°åŒ…è£…å™¨ï¼Œè¿™é‡Œåªæ˜¯è¿”å›æŸ¯é‡ŒåŒ–çš„é€’å½’å‡½æ•°
                return function curried(...args) {
                    if (args.length >= func.length) { 
                        //å½“å‡½æ•°è¢«æŸ¯é‡ŒåŒ–ä¹‹åï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸¤ç§ä¸åŒçš„æƒ…å†µå»æ‰§è¡Œä¸åŒçš„æ“ä½œï¼Œä¸»è¦æ˜¯é€šè¿‡æŸ¯é‡ŒåŒ–ä¹‹åå‡½æ•°è°ƒç”¨çš„å‚æ•°è¿›è¡Œåˆ¤æ–­ï¼Œå½“å‚æ•°å’ŒåŸå‡½æ•°å‚æ•°ç›¸åŒæˆ–è€…æ›´é•¿çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æŠŠä½œç”¨åŸŸå’Œå‚æ•°ä¼ å…¥åŸå‡½æ•°è°ƒç”¨ã€‚å¹¶å°†ç»“æœè¿”å›ã€‚
                        return func.apply(this, args);
                    } else { 
                        //å½“æŸ¯é‡ŒåŒ–å‡½æ•°å‚æ•°å°äºåŸå‡½æ•°å‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦ç”Ÿæˆä¸€ä¸ªåå‡½æ•°ï¼Œå¹¶è¿”å›ä½†æ˜¯ä¸æ˜¯é©¬ä¸Šè°ƒç”¨
                        return function(...args2) {
                            return curried.apply(this, args.concat(args2)); //é€’å½’è¿”å›åˆå¹¶å‚æ•°çš„åå‡½æ•°ç›´åˆ°æŸ¯é‡ŒåŒ–å‡½æ•°çš„å‚æ•°é•¿åº¦ç­‰äºåŸå‡½æ•°å‚æ•°é•¿åº¦ï¼Œç›´æ¥è°ƒç”¨åŸå‡½æ•°
                        }
                    }
                };

            }

            function sum(a, b, c) {
                return a + b + c;
            }

            let curriedSum = curry(sum);

            // ä¾ç„¶å¯ä»¥è¢«æ­£å¸¸è°ƒç”¨
            alert( curriedSum(1, 2, 3) ); // 6

            // å¾—åˆ° curried(1) çš„åå‡½æ•°ï¼Œç„¶åç”¨å¦å¤–ä¸¤ä¸ªå‚æ•°è°ƒç”¨å®ƒ
            alert( curriedSum(1)(2,3) ); // 6

            // å®Œå…¨æŸ¯é‡ŒåŒ–å½¢å¼
            alert( curriedSum(1)(2)(3) ); // 6          
          ```
          å½“æˆ‘ä»¬è¿è¡Œå®ƒçš„æ—¶å€™ï¼Œæœ‰ä¸¤ç§ç»“æœï¼š
            - ç«‹åˆ»æ‰§è¡Œï¼šå½“ä¼ å…¥çš„ args çš„é•¿åº¦å’Œåˆå§‹å‡½æ•°ä¸­æ‰€å®šä¹‰çš„ï¼ˆfunc.lengthï¼‰ç›¸åŒæˆ–è€…æ›´é•¿ï¼Œé‚£ä¹ˆç›´æ¥å°†å®ƒä¼ å…¥éœ€è¦æ‰§è¡Œçš„å‡½æ•°ã€‚
            - å¾—åˆ°ä¸€ä¸ªåå‡½æ•°ï¼šå½“ä¼ å…¥çš„ args çš„é•¿åº¦å°äºåˆå§‹å‡½æ•°ä¸­æ‰€å®šä¹‰çš„ï¼ˆfunc.lengthï¼‰ï¼Œfunc æš‚æ—¶ä¸è¢«è°ƒç”¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼Œè¿”å›å¦å¤–ä¸€å±‚å°è£… passï¼Œå…¶ä¸­ï¼Œå°†ä¹‹å‰ä¼ å…¥çš„å‚æ•°åˆå¹¶æ–°ä¼ å…¥çš„å‚æ•°ä¸€èµ·åº”ç”¨äº curried å‡½æ•°ã€‚è™½ç„¶å†æ¬¡è°ƒç”¨ã€‚æˆ‘ä»¬è¦ä¹ˆå¾—åˆ°ä¸€ä¸ªæ–°çš„åå‡½æ•°ï¼ˆå¦‚æœå‚æ•°æ•°é‡ä¸å¤Ÿï¼‰ï¼Œè¦ä¹ˆï¼Œæœ€ç»ˆå¾—åˆ°ç»“æœã€‚
          ä¸¾ä¸ªä¾‹å­ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ç”¨ä¾‹ sum(a, b, c) ä¸­å‘ç”Ÿäº†ä»€ä¹ˆã€‚ä¸‰ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆ sum.lenght = 3ã€‚æ‰§è¡Œ curried(1)(2)(3)
            - é¦–å…ˆè°ƒç”¨ curried(1) å°† 1 ä¿å­˜åœ¨è¯æ³•ç¯å¢ƒä¸­ï¼Œç„¶åè¿”å›ä¸€å±‚å°è£… passã€‚
            - å°è£…å‡½æ•° pass è¢«è°ƒç”¨ï¼Œå‚æ•°ä¸º (2)ï¼šå®ƒä¼šè·å–ä¹‹å‰çš„å‚æ•° (1)ï¼Œå°†å®ƒä¸ (2) åˆå¹¶ï¼Œä¸€èµ·è°ƒç”¨ curried(1, 2)ã€‚
            - ç”±äºå‚æ•°æ•°é‡ä¾ç„¶å°‘äº 3ï¼Œcurry å‡½æ•°ä¾ç„¶è¿”å› passã€‚
            - pass å†æ¬¡è¢«è°ƒç”¨ï¼Œå‚æ•°ä¸º (3), åœ¨æ¥ä¸‹å»çš„è°ƒç”¨ä¸­ pass(3) è·å–ä¹‹å‰çš„å‚æ•° (1, 2) å¹¶å°† 3 ä¸ä¹‹åˆå¹¶ï¼Œæ‰§è¡Œè°ƒç”¨ curried(1, 2, 3) â€”â€” æœ€ç»ˆæœ‰ 3 ä¸ªå‚æ•°ï¼Œå®ƒä»¬è¢«ä¼ å…¥æœ€åŸå§‹çš„å‡½æ•°ä¸­ã€‚

  - Object properties configuration
    - Property flags and decriptors
      - æ•°æ®å±æ€§ï¼Œæˆ‘ä»¬å¹³æ—¶åˆ›å»ºå±æ€§çš„æ—¶å€™é»˜è®¤éƒ½æ˜¯æ•°æ®å±æ€§ã€‚
      - `let descriptor = Object.getOwnPropertyDescriptor(obj, propertyName)`
        - obj è¦è·å–æè¿°ç¬¦çš„å¯¹è±¡
        - propertyName å±æ€§çš„åç§°
        - è¿”å›å€¼æ˜¯ä¸€ä¸ªå±æ€§æè¿°ç¬¦å¯¹è±¡
          - å±æ€§æè¿°ç¬¦çš„å±æ€§
            - value å±æ€§çš„å€¼
            - writable å±æ€§å€¼æ˜¯å¦å¯ä»¥ä¿®æ”¹ï¼Œé»˜è®¤æ˜¯true.
            - enumerable å±æ€§æ˜¯å¦å¯ä»¥åœ¨for...inå¾ªç¯ä¸­åˆ—å‡ºï¼Œé»˜è®¤å€¼æ˜¯true.
            - configurable å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯true.
          - é€šå¸¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå±æ€§çš„æ—¶å€™ï¼Œæè¿°ç¬¦çš„å€¼éƒ½æ˜¯true
      - `Object.defineProperty(obj, propertyName, descriptor)`
        - obj è¦åˆ›å»ºæè¿°ç¬¦çš„å¯¹è±¡
        - propertyName è¦åˆ›å»ºæè¿°ç¬¦çš„åç§°
        - descriptor è¦åº”ç”¨çš„æè¿°å¯¹è±¡
          - value å±æ€§çš„å€¼
          - writable å±æ€§å€¼æ˜¯å¦å¯ä»¥ä¿®æ”¹ï¼Œé»˜è®¤æ˜¯true.
          - enumerable å±æ€§æ˜¯å¦å¯ä»¥åœ¨for...inå¾ªç¯ä¸­åˆ—å‡ºï¼Œé»˜è®¤å€¼æ˜¯true.
          - configurable å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯true.
      - åˆ›å»ºåªè¯»çš„å¯¹è±¡å±æ€§
        - wriable: falseçš„æ—¶å€™ï¼Œå¯¹è±¡çš„å±æ€§åªè¯»
        - ä¾‹å­
          ```
            let user = {
                name: "John"
            };

            Object.defineProperty(user, "name", {
                writable: false
            });

            user.name = "Pete"; // é”™è¯¯ï¼šä¸èƒ½è®¾ç½®åªè¯»å±æ€§'name'...          
          ```
      - å¯¹è±¡å±æ€§ä¸å¯æšä¸¾
        - enumerable: falseçš„æ—¶å€™ï¼Œå®ƒä¸ä¼šå‡ºç°åœ¨for...inå¾ªç¯ä¸­
        - ä¾‹å­
          ```
            let user = {
                name: "John",
                toString() {
                    return this.name;
                }
            };

            Object.defineProperty(user, "toString", {
                enumerable: false
            });

            // ç°åœ¨ toString æ¶ˆå¤±äº†ï¼š
            for (let key in user) alert(key); // name          
          ```
      - å¯¹è±¡å±æ€§ä¸å¯é…ç½®
        - configurable: falseçš„æ—¶å€™ï¼Œå®šä¹‰å‡ºçš„ä¸€ä¸ªä¸å¯é…ç½®çš„å±æ€§ä¸èƒ½è¢« defineProperty åˆ é™¤æˆ–ä¿®æ”¹
        - ä¾‹å­ åªè¯»çš„PI
          ```
            let descriptor = Object.getOwnPropertyDescriptor(Math, 'PI');

            alert( JSON.stringify(descriptor, null, 2 ) );
            /*
            {
                "value": 3.141592653589793,
                "writable": false,
                "enumerable": false,
                "configurable": false
            }
            */          
          ```
      - ä¸€æ¬¡å®šä¹‰å¯¹è±¡å¤šä¸ªå±æ€§ `Object.defineProperties(obj, descriptors)`
        - ä¾‹å­
          ```
            Object.defineProperties(user, {
                name: { value: "John", writable: false },
                surname: { value: "Smith", writable: false },
                // ...
            });          
          ```
      - ä¸€ä¸ªè·å–å¯¹è±¡æ‰€æœ‰çš„å±æ€§æè¿°ç¬¦ `Object.getOwnPropertyDescriptors(obj)`
        - ç”¨äºå®Œæ•´åœ°å…‹éš†å¯¹è±¡æ‰€æœ‰å±æ€§çš„ä¾‹å­
          ```
          let clone = Object.defineProperties({}, Object.getOwnPropertyDescriptors(obj));
          ```
        - æ™®é€šçš„éå†å¾ªç¯èµ‹å€¼çš„æ–¹å¼å…‹éš†å¯¹è±¡ï¼Œä¼šå¿½ç•¥Symbolå±æ€§
          ```
            for (let key in user) {
                clone[key] = user[key];
            }
          ```
        - è®¾å®šä¸€ä¸ªå…¨å±€çš„å°é—­å¯¹è±¡(éå¸¸ç”¨æ–¹æ³•)
          - Object.preventExtensions(obj) ç¦æ­¢å‘å¯¹è±¡æ·»åŠ å±æ€§ã€‚
          - Object.seal(obj) ç¦æ­¢æ·»åŠ /åˆ é™¤å±æ€§ï¼Œä¸ºæ‰€æœ‰ç°æœ‰çš„å±æ€§è®¾ç½® configurable: falseã€‚
          - Object.freeze(obj)ç¦æ­¢æ·»åŠ /åˆ é™¤/æ›´æ”¹å±æ€§ï¼Œä¸ºæ‰€æœ‰ç°æœ‰å±æ€§è®¾ç½® configurable: false, writable: falseã€‚è¿˜æœ‰å¯¹ä»–ä»¬çš„æµ‹è¯•ï¼š
          - Object.isExtensible(obj) å¦‚æœæ·»åŠ å±æ€§è¢«ç¦æ­¢ï¼Œåˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› true
          - Object.isSealed(obj)å¦‚æœç¦æ­¢æ·»åŠ /åˆ é™¤å±æ€§ï¼Œåˆ™è¿”å› trueï¼Œå¹¶ä¸”æ‰€æœ‰ç°æœ‰å±æ€§éƒ½å…·æœ‰ configurable: falseã€‚
          - Object.isFrozen(obj)å¦‚æœç¦æ­¢æ·»åŠ /åˆ é™¤/æ›´æ”¹å±æ€§ï¼Œå¹¶ä¸”æ‰€æœ‰å½“å‰å±æ€§éƒ½æ˜¯ configurable: false, writable: falseï¼Œåˆ™è¿”å› trueã€‚

    - Property getters and setters
      - è®¿é—®å™¨å±æ€§ï¼Œæœ¬è´¨ä¸Šæ˜¯è·å–å’Œè®¾ç½®å€¼çš„å‡½æ•°ï¼Œåªä¸è¿‡åœ¨å¤–éƒ¨ä»£ç è®¿é—®æ—¶çœ‹èµ·æ¥åƒæ™®é€šçš„æ•°æ®å±æ€§ã€‚è¿™å°±ç»™äº†æˆ‘ä»¬è¶³å¤Ÿçš„çµæ´»æ€§ï¼Œåœ¨è®¾ç½®æˆ–è¯»å–å±æ€§çš„æ—¶å€™èƒ½å¤Ÿé€šè¿‡å‡½æ•°å¯¹å€¼è¿›è¡Œè®¡ç®—ã€‚
        - Object.defineProperty(obj, key, { get(){ return ... }, set(value){ ... } });
        - ä¾‹å­
          ```
            let user = {
                name: "John",
                surname: "Smith"
            };

            Object.defineProperty(user, 'fullName', {
                get() {
                    return `${this.name} ${this.surname}`;
                },
                set(value) {
                    [this.name, this.surname] = value.split(" ");
                }
            });

            alert(user.fullName); // John Smith
            for(let key in user) alert(key); // name, surname
          ```
      - getter and setter
        - è¯­æ³•
          ```
            let obj = {
                get propName() {
                    // getter, the code executed on getting obj.propName
                },

                set propName(value) {
                    // setter, the code executed on setting obj.propName = value
                }
            };          
          ```
      - è®¿é—®å™¨æè¿°ç¬¦
        - æ•°æ®å±æ€§ä¸è®¿é—®å™¨å±æ€§çš„ä¸åŒï¼Œè®¿é—®å™¨å±æ€§æè¿°ç¬¦æ²¡æœ‰value, writableï¼Œä½†æ˜¯æœ‰set,getå‡½æ•°
        - get ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„å‡½æ•°ï¼Œåœ¨è¯»å–å±æ€§çš„æ—¶å€™å·¥ä½œ
        - set ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„å‡½æ•°ï¼Œå½“å±æ€§è¢«è®¾ç½®æ—¶è¢«è°ƒç”¨
        - enumerable æ˜¯å¦å¯éå†ï¼Œä¸æ•°æ®å±æ€§ç›¸åŒ
        - configurable æ˜¯å¦å¯ä¿®æ”¹å’Œåˆ é™¤ï¼Œä¸æ•°æ®å±æ€§ç›¸åŒ
      - getter and setter çš„åº”ç”¨
        - å¯¹å±æ€§å€¼è¿›è¡Œè¿‡æ»¤å€¼æ“ä½œ
          ```
            let user = {
                get name() {
                    return this._name;
                },

                set name(value) {
                    if (value.length < 4) {
                        alert("Name is too short, need at least 4 characters");
                        return;
                    }
                    this._name = value;
                }
            };

            user.name = "Pete";
            alert(user.name); // Pete

            user.name = ""; // Name is too short...          
          ```
        - æ ¹æ®å¯¹è±¡çš„å€¼å»è‡ªåŠ¨è®¡ç®—å¯¹è±¡çš„å…¶ä»–å±æ€§å€¼å¹¶è‡ªåŠ¨æ›´æ–°
          ```
            function User(name, birthday) {
                this.name = name;
                this.birthday = birthday;

                // age æ˜¯ç”±å½“å‰æ—¥æœŸå’Œç”Ÿæ—¥è®¡ç®—å‡ºæ¥çš„
                Object.defineProperty(this, "age", {
                    get() {
                        let todayYear = new Date().getFullYear();
                        return todayYear - this.birthday.getFullYear();
                    }
                });
            }

            let john = new User("John", new Date(1992, 6, 1));

            alert( john.birthday ); // birthday æ˜¯å¯è®¿é—®çš„
            alert( john.age );      // ...age ä¹Ÿæ˜¯å¯è®¿é—®çš„          
          ```
  - Prototypes, inheritance
    - Prototypal inheritance
      - å¯¹è±¡çš„åŸå‹ç»§æ‰¿
        - Javascriptä¸­ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªéšè—çš„[[prototype]]å±æ€§ï¼Œå¼•ç”¨æŒ‡å‘ç»§æ‰¿å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Œå®ƒå¯ä»¥æ˜¯å¦ä¸€ä¸ªå¯¹è±¡(ç»§æ‰¿)æˆ–è€…nullï¼Œå…¶ä»–å€¼ä¼šè¢«å¿½ç•¥ã€‚
        - æˆ‘ä»¬å¯ä»¥é€šè¿‡`childObject.__proto__ = parentObject;`å®ç°ç»§æ‰¿ï¼Œä¹Ÿå¯ä»¥é€šè¿‡`object.__protot__`è®¿é—®åˆ°å¯¹è±¡ç»§æ‰¿è‡ªä»€ä¹ˆå¯¹è±¡
        - åªèƒ½æœ‰ä¸€ä¸ª[[prototype]]ï¼Œå¯¹è±¡ä¸èƒ½ç»§æ‰¿è‡ªå…¶ä»–ä¸¤ä¸ªå¯¹è±¡
        - ä¾‹å­, longEarç»§æ‰¿è‡ªrabbitç»§æ‰¿è‡ªanimal
          ```
          let animal = {
              eats: true,
              walk(){
                  alert('Animal walk');
              }
          }

          let rabiit = {
              jump: true,
              __proto__: animal,
          }

          let longEar = {
              earLength: 10, 
              __proto__: rabbit
          }

          longEar.walk(); //From parent Animal: Animal walk
          alert(longEar.jumps); //From parent rabbit: true
          ```
      - åŸºäºåŸå‹ç»§æ‰¿çš„è¯»å†™è§„åˆ™
        - åŸå‹ç»§æ‰¿ä»…ä»…ç”¨äºè¯»å–å±æ€§ã€‚å¯¹äºæ•°æ®å±æ€§å†™å’Œåˆ é™¤æ“ä½œæ˜¯ç›´æ¥åœ¨å¯¹è±¡è‡ªå·±èº«ä¸Šè¿›è¡Œæ“ä½œçš„ï¼Œå¹¶ä¸ä¼šå½±å“åŸå‹ç»§æ‰¿é“¾ä¸Šçš„å…¶ä»–å¯¹è±¡çš„å€¼ã€‚è®°å¾—æ•°æ®å±æ€§ä¸è®¿é—®å™¨å±æ€§getterå’Œsetterä¸ä¸€æ ·ï¼Œå› ä¸ºè®¿é—®å™¨æœ¬è´¨ä¸Šæ˜¯å‡½æ•°ã€‚
        - å½“æˆ‘ä»¬æƒ³è¦è¯»å–å¯¹è±¡çš„å±æ€§æˆ–è€…è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œå‡å¦‚ä»–ä»¬ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œé‚£ä¹ˆJavacriptä¼šå°è¯•åœ¨åŸå‹é“¾ä¸­æŸ¥æ‰¾ä»–ä»¬ï¼Œç›´åˆ°é¡¶å±‚nullã€‚
        - ä¾‹å­
          ```
            let animal = {
                eats: true,
                walk() {
                    /* this method won't be used by rabbit */
                }
            };

            let rabbit = {
                __proto__: animal
            }

            rabbit.walk = function() {
                alert("Rabbit! Bounce-bounce!");
            };

            rabbit.walk(); // Rabbit! Bounce-bounce!          
          ```
      - thisåœ¨ç»§æ‰¿å¯¹è±¡ä¸­çš„å€¼
        - åœ¨å¯¹è±¡æˆ–è€…åŸå‹ä¸­ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ï¼Œthiså§‹ç»ˆæ˜¯.ä¹‹å‰çš„å¯¹è±¡ï¼Œå› æ­¤æ–¹æ³•æ˜¯å¯ä»¥åœ¨åŸå‹é“¾ä¸Šå…±äº«çš„ï¼Œä½†æ˜¯å¯¹è±¡çš„å±æ€§å€¼ä¸æ˜¯ã€‚
          ```
            // animal has methods
            let animal = {
                walk() {
                    if (!this.isSleeping) {
                        alert(`I walk`);
                    }
                },
                sleep() {
                    this.isSleeping = true;
                }
            };

            let rabbit = {
                name: "White Rabbit",
                __proto__: animal
            };

            // modifies rabbit.isSleeping
            rabbit.sleep();

            alert(rabbit.isSleeping); // true
            alert(animal.isSleeping); // undefined (no such property in the prototype)          
          ```
    - F.prototype
      - åœ¨ç°ä»£Javascriptä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨`__proto__`è®¾ç½®ä¸€ä¸ªå¯¹è±¡çš„åŸå‹ã€‚è¿‡å»æˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡æ¥å®ç°åŸå‹é“¾çš„ç»§æ‰¿ã€‚
        - Function.prototypeæ˜¯æ¯ä¸ªå‡½æ•°éƒ½æœ‰çš„å±æ€§,ç”¨äºæˆ‘ä»¬é€šè¿‡`new F()`çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œè¯¥å¯¹è±¡çš„[[Prototype]]è¢«è®¾ç½®ä¸ºæŒ‡å‘F.prototypeå¯¹è±¡ã€‚ä»è€Œå®ç°åŸå‹é“¾ç»§æ‰¿å¹¶åˆ›å»ºå¯¹è±¡ã€‚
        ```
        let animal = {
            eats: true
        };

        function Rabbit(name) {
            this.name = name;
        }

        Rabbit.prototype = animal;

        let rabbit = new Rabbit("White Rabbit"); //  rabbit.__proto__ == animal

        alert( rabbit.eats ); // true        
        ```
      - å‡½æ•°çš„æ„é€ å‡½æ•°
        - Function.prototype.constructor = Function
          - å‡½æ•°çš„é»˜è®¤çš„prototypeå¯¹è±¡å±æ€§æ˜¯ä¸€ä¸ªåªæœ‰å±æ€§constructorçš„å¯¹è±¡ï¼ŒconstructoræŒ‡å‘å‡½æ•°æœ¬èº«ï¼Œæˆ‘ä»¬åœ¨chromeçš„consoleè¾“å‡ºçš„æ—¶å€™å›çœ‹åˆ°prototypeå¯¹è±¡è¿˜æœ‰ä¸€ä¸ª__proto__å±æ€§ï¼Œè¿™ä¸ªå…¶å®æ˜¯ä¸ªéšè—å±æ€§ï¼Œä¸ç”¨å…³å¿ƒå®ƒï¼Œå› ä¸ºFunction.prototypeæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€æœ‰çš„å¯¹è±¡éƒ½æœ‰è¿™æ ·ä¸€ä¸ªéšè—çš„å±æ€§æŒ‡å‘å®ƒç»§æ‰¿çš„å¯¹è±¡çš„åŸå‹ã€‚
      - åœ¨æ™®é€šå¯¹è±¡ä¸Šï¼Œprototypeå±æ€§å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«çš„ï¼Œå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å±æ€§è€Œå·²ï¼Œä¸å‡½æ•°çš„prototypeå±æ€§ä¸åŒï¼Œå®ƒä¸èƒ½ç”¨æ¥åˆ›é€ å¯¹è±¡ã€‚
      - ä¸ºäº†ç¡®ä¿æ­£ç¡®çš„ "constructor"ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ·»åŠ /åˆ é™¤å±æ€§åˆ°é»˜è®¤ "prototype" è€Œä¸æ˜¯å°†å…¶æ•´ä¸ªè¦†ç›–ï¼Œå½“ç„¶æˆ‘ä»¬å¯ä»¥é‡æ–°åˆ›å»ºconstructorå±æ€§ï¼Œå¹¶å°†å®ƒæŒ‡å‘æ­£ç¡®çš„æ„é€ å‡½æ•°ã€‚
        ```
        function Rabbit() {}

        // Not overwrite Rabbit.prototype totally
        // just add to it
        Rabbit.prototype.jumps = true
        // the default Rabbit.prototype.constructor is preserved        
        ```
      - é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„å‡½æ•°F.prototype = { constructor: F }ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡è®¿é—®å¯¹è±¡å®ä¾‹çš„constructorå±æ€§è·å–åˆ°æ„é€ å‡½æ•°
    - Native prototypes
      - Object.prototype
        - Object.prototypeæ˜¯æ‰€æœ‰å¯¹è±¡ç»§æ‰¿çš„åŸå‹é“¾ï¼Œæ‰€æœ‰å¯¹è±¡çš„__proto__éƒ½æ˜¯æŒ‡å‘Object.prototype,ä»è€Œè·å–å¯¹è±¡çš„æ–¹æ³•ï¼Œä¾‹å¦‚`let obj = {};` å®é™…ä¸Šæ˜¯è°ƒç”¨çš„æ„é€ å‡½æ•°`new Object()`æ¥åˆ›å»ºçš„å¯¹è±¡ï¼Œæ‰€ä»¥`obj.__proto__ === Object.prototype //true`ã€‚
        - Object.prototypeçš„`__proto__`å€¼æ˜¯nullï¼Œæ˜¯åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾çš„ç»ˆç‚¹ã€‚
      - å†…ç½®å¯¹è±¡çš„åŸå‹ç»§æ‰¿é“¾
        - åœ¨åŸå‹é“¾ä¸Šå¦‚æœå¯¹è±¡å·²ç»æœ‰åŒåçš„æ–¹æ³•ï¼Œå°±ä¼šè°ƒç”¨åœ¨å¯¹è±¡ä¸Šçš„æ–¹æ³•ï¼Œè€Œä¸”åŒåæ–¹æ³•çš„å®ç°ä¹Ÿé€šå¸¸ä¸åŒï¼Œä¾‹å¦‚`arr.toString()`ä¼šæŠŠæ•°ç»„å¯¹è±¡çš„æ¯ä¸€é¡¹è½¬æ¢æˆå‚æ•°åºåˆ—ï¼Œè€Œ`object.toString()`ä¼šæŠŠå°è¯•æŠŠå¯¹è±¡è½¬æ¢å­—ç¬¦ä¸²ï¼Œè€Œä½¿ç”¨`'' + object`ä¹Ÿä¼šè§¦å‘objectçš„éšå¼è½¬æ¢ï¼Œæš—ç¤ºæ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è°ƒç”¨äº†`object.toString()`, ä½¿ç”¨`+ object`ä¼šè§¦å‘objectçš„éšå¼è½¬æ¢ï¼Œæš—ç¤ºæ˜¯æ•°å­—ï¼Œæ‰€ä»¥è°ƒç”¨äº†`parseInt(obj)`å°è¯•æŠŠå¯¹è±¡è½¬æ¢ä¸ºæ•°å­—ã€‚
        - å†…ç½®å¯¹è±¡çš„åŸå‹é“¾ç»§æ‰¿
          - Array
            ```
            let arr = [1, 2, 3];
            arr.__proto__ === Array.prototype; //true
            arr.__proto__.__proto__ === Object.prototype; //true
            arr.__proto__.__proto__.__proto__;// null
            ```
          - Function
            ```
            let func = function(){};
            func.__proto__ === Function.prototype; //true
            func.__proto__.__proto__ === Object.prototype; //true
            func.__proto__.__proto__.__proto__;// null
            ```
          - Number
            ```
            let num = 123;
            num.__proto__ === Number.prototype; //true
            num.__proto__.__proto__ === Object.prototype; //true
            num.__proto__.__proto__.__proto__;// null
            ```
      - åŸºç¡€æ•°æ®ç±»å‹è°ƒç”¨åŸå‹æ–¹æ³•çš„å®ç°
        - å¯¹äºå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå’Œå¸ƒå°”å€¼ï¼Œæˆ‘ä»¬è¯•å›¾è®¿é—®ä»–ä»¬çš„æ–¹æ³•çš„æ—¶å€™ï¼Œæµè§ˆå™¨å¼•æ“ä¼šä½¿ç”¨å†…ç½®çš„åŒ…è£…å™¨åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„åŒ…è£…å¯¹è±¡ï¼Œä»–ä»¬ç”±å†…ç½®çš„æ„é€ å‡½æ•°`String, Number, Boolean`å®ç°ï¼Œé€šè¿‡ä»–ä»¬çš„åŸå‹é“¾`String.prototype, Number.prototype, Boolean.prototype`è·å–æ–¹æ³•ï¼Œè®¡ç®—å®Œæˆå†é”€æ¯ä¸´æ—¶åŒ…è£…å¯¹è±¡è¿”å›å€¼ã€‚
        - â€œå€¼ null å’Œ undefined æ²¡æœ‰å¯¹è±¡åŒ…è£…â€ ç‰¹æ®Šå€¼ null å’Œ undefined è¦è¢«åŒºåˆ†çœ‹å¾…ã€‚å®ƒä»¬æ²¡æœ‰å¯¹è±¡åŒ…è£…ï¼Œæ‰€ä»¥å®ƒä»¬æ²¡æœ‰è‡ªå·±çš„æ–¹æ³•å’Œå±æ€§ã€‚å¹¶ä¸”å®ƒä»¬æ²¡æœ‰ç›¸åº”çš„åŸå‹ã€‚
      - ä»åŸå‹ä¸­å€Ÿç”¨æ–¹æ³•
        - æˆ‘ä»¬å¯ä»¥æŠŠå†…ç½®å¯¹è±¡ä¸ŠåŸå‹é“¾ä¸Šçš„æ–¹æ³•é€šè¿‡ç»“åˆfunc.apply(obj, argsArr),func.call(obj, param1, param2, ...)çš„æ–¹å¼è°ƒç”¨
        ```
        function showArgs() {
            // ä»æ•°ç»„å€Ÿç”¨ join æ–¹æ³•å¹¶åœ¨ arguments çš„ä¸Šä¸‹æ–‡ä¸­è°ƒç”¨
            alert( [].join.call(arguments, " - ") );
            //å¦ä¸€ç§ç›´æ¥é€šè¿‡åŸå‹é“¾è·å–åˆ°æ–¹æ³•join
            // Array.prototype.join.call(arguments, " - ")
        }

        showArgs("John", "Pete", "Alice"); // John - Pete - Alice        
        ```
      - å†…ç½®å¯¹è±¡çš„åŸå‹å¯ä»¥è¢«ä¿®æ”¹æˆ–è€…è¢«æ–°çš„æ–¹æ³•å¡«å……ã€‚ä½†æ˜¯è¿™æ ·åšæ˜¯ä¸è¢«æ¨èçš„ã€‚åªæœ‰å½“æ·»åŠ ä¸€ä¸ªè¿˜æ²¡æœ‰è¢« JavaScript å¼•æ“æ”¯æŒçš„æ–°æ–¹æ³•çš„æ—¶å€™æ‰å¯èƒ½å…è®¸è¿™æ ·åšã€‚
    - Prototype methods, objects without `__proto__`
      - `__proto__` æ˜¯ [[Prototype]] çš„ getter/setterï¼Œä½ç½®åœ¨ Object.prototypeï¼Œå’Œå…¶ä»–æ–¹æ³•ç›¸åŒã€‚
      - Object.create(proto [, descriptors]) åˆ©ç”¨æŒ‡å®šçš„å¯¹è±¡protoçš„åŸå‹å¯¹è±¡æ¥åˆ›å»ºæ–°çš„å¯¹è±¡
        - proto åˆ›å»ºæ–°å¯¹è±¡çš„åŸå‹å¯¹è±¡
        - descriptors é¢å¤–æ·»åŠ åˆ°å¯¹è±¡ä¸Šçš„æ•°æ®å±æ€§æˆ–è€…è®¿é—®å™¨å±æ€§
        ```
        let animal = {
            eats: true
        };

        // ä»¥ animal ä¸ºåŸå‹åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
        let rabbit = Object.create(animal, {
            jumps: {
                value: true,
                writable:true,
                enumerable: true,
                configurable:true,                
            }
        });

        alert(rabbit.eats); // true
        alert(Object.getPrototypeOf(rabbit) === animal); // è·å– rabbit çš„åŸå‹

        Object.setPrototypeOf(rabbit, {}); // å°† rabbit çš„åŸå‹æ›´æ”¹ä¸º {}        
        ```
      - Object.getPrototypeOf(obj) è¿”å› obj çš„ [[Prototype]]ï¼ˆå’Œ `__proto__` getter ç›¸åŒï¼‰ã€‚
      - Object.setPrototypeOf(obj, proto) å°† obj çš„ [[Prototype]] è®¾ç½®ä¸º protoï¼ˆå’Œ `__proto__` setter ç›¸åŒï¼‰ã€‚
      - å¯¹è±¡çš„å®Œæ•´å¤åˆ¶
        ```
        // obj å¯¹è±¡çš„æµ…å¤åˆ¶,åŒ…å«äº†æ‰€æœ‰å±æ€§ï¼šå¯æšä¸¾çš„å’Œä¸å¯æšä¸¾çš„ï¼Œæ•°æ®å±æ€§ä»¥åŠ seeters/getters â€”â€” æ‰€æœ‰å±æ€§ï¼Œä»¥åŠæ­£ç¡®çš„ [[Prototype]]ã€‚
        let clone = Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));        
        ```
      - æç®€å¯¹è±¡
        - æˆ‘ä»¬å¯ä»¥ä¸å€ŸåŠ© prototype åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œé‚£å°±æ˜¯ Object.create(null)ã€‚è¿™äº›å¯¹è±¡è¢«ç”¨ä½œæ˜¯ã€Œçº¯å­—å…¸ã€ï¼Œå¯¹äºå®ƒä»¬è€Œè¨€ `__proto__` ä½œä¸ºé”®æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºä»–ä»¬æ²¡æœ‰é»˜è®¤å¯¹è±¡åˆ›å»ºæ—¶çš„åŸå‹é“¾ç»§æ‰¿ã€‚
      - è·å–å¯¹è±¡çš„å±æ€§
        - Object.keys(obj) / Object.values(obj) / Object.entries(obj) â€”â€” è¿”å›åŒ…å«è‡ªèº«å±æ€§çš„åç§°/å€¼/é”®å€¼å¯¹çš„æ•°ç»„ã€‚ä¸åŒ…æ‹¬ç»§æ‰¿çš„å±æ€§ã€‚
        - Object.getOwnPropertySymbols(obj) â€”â€” è¿”å›åŒ…å«æ‰€æœ‰è‡ªèº« symbol å±æ€§åç§°çš„æ•°ç»„ã€‚
        - Object.getOwnPropertyNames(obj) â€”â€” è¿”å›åŒ…å«æ‰€æœ‰è‡ªèº«å­—ç¬¦ä¸²å±æ€§åç§°çš„æ•°ç»„ã€‚
        - Reflect.ownKeys(obj) â€”â€” è¿”å›åŒ…å«æ‰€æœ‰è‡ªèº«å±æ€§åç§°çš„æ•°ç»„ã€‚
        - for...inå¾ªç¯ä¼šéå†ç»§æ‰¿æ¥çš„å±æ€§
          ```
            let animal = {
                eats: true
            };

            let rabbit = {
                jumps: true,
                __proto__: animal
            };

            // è¿™é‡Œåªæœ‰è‡ªèº«çš„é”®
            alert(Object.keys(rabbit)); // jumps

            // è¿™é‡ŒåŒ…å«äº†ç»§æ‰¿å¾—æ¥çš„é”®
            for(let prop in rabbit) alert(prop); // jumpsï¼Œç„¶å eats          
          ```
        - ä½¿ç”¨object.hasOwnProperty(key)æ¥è¾¨åˆ«åä¸ºkeyçš„å±æ€§æ˜¯å¦æ˜¯objçš„è‡ªèº«å±æ€§
          ```
            let animal = {
                eats: true
            };

            let rabbit = {
                jumps: true,
                __proto__: animal
            };

            for(let prop in rabbit) {
                let isOwn = rabbit.hasOwnProperty(prop);
                alert(`${prop}: ${isOwn}`); // jumps:true, then eats:false
            }          
          ```
          rabbit.hasOwnProperty è¿™ä¸ªæ–¹æ³•æ¥è‡ªå“ªé‡Œï¼Ÿè§‚å¯Ÿç»§æ‰¿é“¾æˆ‘ä»¬å‘ç°è¿™ä¸ªæ–¹æ³•ç”± Object.prototype.hasOwnProperty æä¾›ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯ç»§æ‰¿å¾—æ¥çš„ã€‚
          ä½†æ˜¯å¦‚æœè¯´ for...in åˆ—å‡ºäº†æ‰€æœ‰ç»§æ‰¿å±æ€§ï¼Œä¸ºä»€ä¹ˆ hasOwnProperty è¿™ä¸ªæ–¹æ³•æ²¡æœ‰å‡ºç°åœ¨å…¶ä¸­ï¼Ÿç­”æ¡ˆå¾ˆç®€å•ï¼šå®ƒæ˜¯ä¸å¯æšä¸¾çš„ã€‚å°±åƒæ‰€æœ‰å…¶ä»–åœ¨ Object.prototype ä¸­çš„å±æ€§ä¸€æ ·ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆå®ƒä»¬æ²¡æœ‰è¢«åˆ—å‡ºçš„åŸå› ã€‚
  - Classes
    - Class basic syntax
      - syntax
        ```
        class MyClass{
            prop = value; //filed
            constructor(...args){ //Constructor
                ...
            }
            method(...){ //method

            }1
            get someProperty(){ ... } //getter method
            set someProperty(value){ ... } //setter method
            [Symbol.iterator](){ ... } //iterate name/symbol method
            ...
        }
        ```
        - ç±»æ–¹æ³•ä¹‹é—´æ²¡æœ‰é€—å·ï¼Œå’Œåˆ›å»ºå¯¹è±¡æ—¶çš„æ–¹æ³•æ˜¯ä¸åŒçš„ï¼Œè€Œä¸”ç±»å†…éƒ¨æ— æ³•åƒå‡½æ•°ä¸€æ ·é€šè¿‡é—­åŒ…åˆ›å»ºç§æœ‰å˜é‡å’Œç§æœ‰å‡½æ•°ã€‚
        - `typof class`è¿”å›çš„ç»“æœæ˜¯ function javascripté‡Œçš„ç±»æœ¬è´¨ä¸Šæ˜¯å‡½æ•°ï¼Œç±»å¯ä»¥é€šè¿‡å‡½æ•°é‡å†™
      - ç±»è¡¨è¾¾å¼
        - ç±»ä¼¼äºå‘½åå‡½æ•°è¡¨è¾¾å¼ï¼ˆNamed Function Expressionsï¼‰ï¼Œç±»è¡¨è¾¾å¼å¯èƒ½ä¹Ÿå¯èƒ½æ²¡æœ‰åç§°ã€‚
        - syntax
          ```
            let User = class MyClass {
                sayHi() {
                    alert(MyClass); // MyClass ä»…åœ¨å…¶å†…éƒ¨å¯è§
                }
            };

            new User().sayHi(); // æ­£å¸¸è¿è¡Œï¼Œæ˜¾ç¤º MyClass ä¸­å®šä¹‰çš„å†…å®¹

            alert(MyClass); // é”™è¯¯ï¼ŒMyClass åœ¨å¤–éƒ¨ä¸å¯è§          
          ```
      - ä»æŠ€æœ¯ä¸Šæ¥è¯´ï¼ŒMyClassæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæä¾›ä½œä¸ºconstructorçš„é‚£ä¸ªï¼Œè€Œmethod,getter,settor,éƒ½è¢«å†™å…¥MyClass.prototype


    - Class inheritance
      - syntax
        ```
        class Child extends Parent{
            ...
        }
        ```
        é€šè¿‡ç»§æ‰¿ï¼ŒChildç±»èƒ½å¤Ÿè®¿é—®Parentç±»ä¸­çš„æ–¹æ³•ï¼Œå¹¶å¯ä»¥ä½¿ç”¨è‡ªå·±çš„æ–¹æ³•æ‰©å±•ä»–ä»¬ã€‚
      - extendå®ç°åŸç†
        - ä¾‹å­
          ```
          class Parent{
              constructor(name){
                  this.name = name;
              }
              sayHi(){
                  alert(`Hello, everyone.`);
              }
          }

          class Child extends Parent{
              introduceMyself(){
                  alert(`My name is ${this.name}.`);
              }
          }

          let childInstance = new Child('Jason');
          childInstance.sayHi(); //Hello, everyone.
          childInstance.introduceMyself(); //My name is Jason.
          ```
          - é€šè¿‡extendsæ·»åŠ äº†`[[prototype]]`å¼•ç”¨ï¼Œä»Child.prototypeæŒ‡å‘Parent.prototypeï¼Œå½“childInstanceä»Childç±»ä¸­æ²¡æœ‰æ‰¾åˆ°æŸä¸ªæ–¹æ³•ï¼Œå°±ä¼šå°è¯•ä»Parent.prototypeä¸­è·å–å®ƒã€‚
          - å¼•ç”¨å…³ç³»
            ```
            childInstance.__proto__ === Child.prototype //true
            Child.prototype.__proto__ === Parent.prototype //true

            //ç±»çš„æ„é€ å‡½æ•°å…³ç³»
            Parent.prototype.constructor === Parent
            Parent.constructor.prototype === Parent.prototype
            Child.prototype.constructor === Child
            Child.constructor.prototype === Child.prototype

            //Method searching path
            childInstance.sayHi() -> childInstance.__proto__.sayHi() -> Child.prototype.sayHi() -> Child.prototype.__proto__.sayHi() -> Parent.prototype.sayHi()//got it -> ...
            ```
          - Javascriptå†…ç½®çš„å¯¹è±¡ä¹Ÿæ˜¯åŒæ ·åŸºäºåŸå‹ç»§æ‰¿çš„ï¼Œä¾‹å¦‚Dateå¯¹è±¡ï¼Œå®ƒä¹Ÿå¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„Objectå¯¹è±¡çš„æ–¹æ³•
            ```
            Date.prototype.__proto__ === Object.prototype
            ```
      - é‡å†™æ–¹æ³•å’Œsuperå…³é”®å­—
        - é€šå¸¸æˆ‘ä»¬ä¸å¸Œæœ›æ›¿æ¢çˆ¶ç±»çš„æ–¹æ³•ï¼Œè€Œæ˜¯å¸Œæœ›åŸºäºå®ƒåšä¸€äº›åŠŸèƒ½çš„è°ƒæ•´å’Œæ‰©å±•ï¼Œåœ¨æˆ‘ä»¬é‡å†™çš„æ–¹æ³•ä¸­åšä¸€äº›äº‹æƒ…ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬çš„æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­è°ƒç”¨çˆ¶ç±»æ–¹æ³•ã€‚
        - `super.method(...)`è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        - `super(...)`è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œåœ¨å­ç±»çš„constructorä¸­è°ƒç”¨
        - ä¾‹å­
          ```
          //é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼ŒåŸºäºä¸Šä¸ªä¾‹å­çš„ç»§æ‰¿å…³ç³»
          class Child extends Parent{
              //Rewrite the parent method sayHi
              sayHi(){
                  super.sayHi();//Call the parent method
                  alert('Nice to meet you!'); //Add new feature
                  this.introduceMyself(); //Call its method
              }
          }
          ```

      - å­ç±»é‡å†™é»˜è®¤æ„é€ å‡½æ•°
        - è‡ªåŠ¨åˆ›å»ºçš„é»˜è®¤æ„é€ å‡½æ•°ï¼Œå¦‚æœä¸€ä¸ªç±»ç»§æ‰¿äº†å¦ä¸€ä¸ªç±»ä½†æ˜¯æ²¡æœ‰å£°æ˜è‡ªå·±çš„constructorï¼Œé»˜è®¤ä¼šåˆ›å»ºä¸€ä¸ªå¦‚ä¸‹çš„æ„é€ å‡½æ•°
        ```
        class Child extends Parent{
            constructor(...args){
                super(...args);
            }
        }
        ```
        - é‡å†™å­ç±»æ„é€ å‡½æ•°
          - åœ¨å­ç±»constructorä¸­é‡å†™æ„é€ å‡½æ•°è¿‡ç¨‹ä¸­ï¼Œä¸€å®šè¦åœ¨å­ç±»thisä¹‹å‰è°ƒç”¨super();
            - åœ¨ JavaScript ä¸­ï¼Œâ€œç»§æ‰¿ç±»çš„æ„é€ å‡½æ•°â€ä¸æ‰€æœ‰å…¶ä»–çš„æ„é€ å‡½æ•°ä¹‹é—´å­˜åœ¨åŒºåˆ«ã€‚åœ¨ç»§æ‰¿ç±»ä¸­ï¼Œç›¸åº”çš„æ„é€ å‡½æ•°ä¼šè¢«æ ‡è®°ä¸ºç‰¹æ®Šçš„å†…éƒ¨å±æ€§ [[ConstructorKind]]:"derived"ã€‚
            - ä¸åŒç‚¹å°±åœ¨äºï¼š
              - å½“ä¸€ä¸ªæ™®é€šæ„é€ å‡½æ•°æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ä½œä¸º this å¹¶ç»§ç»­æ‰§è¡Œã€‚
              - ä½†æ˜¯å½“ç»§æ‰¿çš„æ„é€ å‡½æ•°æ‰§è¡Œæ—¶ï¼Œå®ƒå¹¶ä¸ä¼šåšè¿™ä»¶äº‹ã€‚å®ƒæœŸæœ›çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å®Œæˆè¿™é¡¹å·¥ä½œã€‚
              å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬æ„å»ºäº†æˆ‘ä»¬è‡ªå·±çš„æ„é€ å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»è°ƒç”¨ superï¼Œå› ä¸ºå¦‚æœä¸è¿™æ ·çš„è¯ this æŒ‡å‘çš„å¯¹è±¡ä¸ä¼šè¢«åˆ›å»ºã€‚å¹¶ä¸”æˆ‘ä»¬ä¼šæ”¶åˆ°ä¸€ä¸ªæŠ¥é”™ã€‚
          - ä¾‹å­
            ```
            class Child extends Parent{
                constructor(name, childName){
                    super(name);
                    this.childName = childName;
                }
                ...
            }
            ```
      - `super` and `[[HomeObject]]`
        - å½“ä¸€ä¸ªå‡½æ•°è¢«å®šä¹‰ä¸ºç±»æˆ–è€…å¯¹è±¡æ–¹æ³•æ—¶ï¼Œå®ƒçš„ [[HomeObject]] å±æ€§å°±æˆä¸ºé‚£ä¸ªå¯¹è±¡ã€‚ç„¶å super ä½¿ç”¨å®ƒæ¥è§£æçˆ¶ç±»åŸå‹å’Œå®ƒè‡ªå·±çš„æ–¹æ³•ã€‚
        - æ–¹æ³•åœ¨å†…éƒ¨ [[HomeObject]] å±æ€§ä¸­è®°ä½å®ƒä»¬çš„ç±»/å¯¹è±¡ã€‚è¿™å°±æ˜¯ super å¦‚ä½•è§£æçˆ¶ç±»æ–¹æ³•çš„ã€‚
        - å› æ­¤ï¼Œå°†ä¸€ä¸ªå¸¦æœ‰ super çš„æ–¹æ³•ä»ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸å®‰å…¨çš„ã€‚
        
      - ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisæˆ–superï¼Œæ‰€ä»¥ä»–ä»¬æ˜¯ä»ä¸Šä¸‹æ–‡ä¸­è·å–çš„ï¼Œåœ¨åº”ç”¨çš„è¿‡ç¨‹ä¸­èƒ½èå…¥å°±è¿‘çš„ä¸Šä¸‹æ–‡ã€‚
        - ä¾‹å­
        ```
        //setTimeoutåœ¨è°ƒç”¨è¿‡ç¨‹ä¼šæœ‰thisä½œç”¨åŸŸçš„é—®é¢˜ï¼Œä½†æ˜¯æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ç®­å¤´å‡½æ•°å°†ä½œç”¨åŸŸæŒ‡å‘å¤–å±‚å‡½æ•°ã€‚
        class Child extends Parent{
            sayHi(){
                setTimeout(() => super.sayHi(), 1000); //Call the parent method sayHi after 1 second
            }
        }
        ```


    - Static properties and methods
      - æˆ‘ä»¬å¯ä»¥æŠŠä¸€ä¸ªæ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªç±»æ–¹æ³•ï¼Œè€Œä¸æ˜¯èµ‹ç»™å®ƒçš„ "åŸå‹å¯¹è±¡"ã€‚è¿™æ ·çš„æ–¹æ³•æˆ‘ä»¬ç§°ä¸ºé™æ€çš„ã€‚
      - é™æ€æ–¹æ³•ç”¨æ¥å®ç°ä¸€ä¸ªå±äºç±»ï¼Œä½†ä¸å±äºç±»çš„æŸä¸ªå¯¹è±¡çš„ç‰¹å®šæ–¹æ³•.ä¸¾ä¸ªä¾‹å­ï¼Œ ä¸€ä¸ªç”¨æ¥æ¯”è¾ƒçš„æ–¹æ³• Article.compare(article1, article2) æˆ–è€…ä¸€ä¸ªå·¥å‚å‡½æ•° Article.createTodays()
      - å·¥å‚å‡½æ•°ä¾‹å­ï¼Œåˆ›å»ºä¸€ä¸ªå½“å¤©çš„æ–‡ç« 
      ```
        class Article {
            constructor(title, date) {
                this.title = title;
                this.date = date;
            }

            static createTodays() {
                // è®°ä½ï¼Œthis = Article
                return new this("Today's digest", new Date());
            }
        }

        let article = Article.createTodays();

        alert( article.title ); // Todays digest      
      ``` 
      - ä¾‹å­
      ```
        class User {
            static staticMethod() {
                alert(this === User);
            }
        }

        User.staticMethod(); // true
        //è¿™å®é™…ä¸Šè·Ÿç›´æ¥ä½œä¸ºå±æ€§èµ‹å€¼åšäº†åŒæ ·çš„äº‹æƒ…
        class User() { }

        User.staticMethod = function() {
            alert(this === User); //åœ¨ User.staticMethod æ–¹æ³•å†…éƒ¨ï¼Œthis çš„å€¼æ˜¯æ„é€ å‡½æ•° User å®ƒè‡ªå·±ï¼ˆâ€œç‚¹ä¹‹å‰å¯¹è±¡â€[object before dot]è§„åˆ™ï¼‰
        };        
      ```
      - é™æ€å±æ€§
        - ä¾‹å­
        ```
        class Article {
            static publisher = "Ilya Kantor";
        }

        alert( Article.publisher ); // Ilya Kantor        
        ```

      - å®ƒä»¬åœ¨ç±»å£°æ˜ä¸­é€šè¿‡ static æ¥æ ‡è®°ã€‚å½“æˆ‘ä»¬æƒ³è¦å­˜å‚¨ç±»çº§åˆ«çš„æ•°æ®æ—¶ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨é™æ€å±æ€§ï¼Œè€Œä¸æ˜¯åœ¨å®ä¾‹ä¸Šç»‘å®šæ•°æ®
      - è¯­æ³•
          ```
          class MyClass {
              static property = ...;

              static method() {
                  ...
              }
          }
        ```
      - æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œé™æ€å£°æ˜ç­‰åŒäºç›´æ¥ç»™ç±»æœ¬èº«èµ‹å€¼
        ```
        MyClass.property = ...
        MyClass.method = ...        
        ```
      - é™æ€å±æ€§å’Œæ–¹æ³•æ˜¯è¢«ç»§æ‰¿çš„ã€‚
        - å¯¹äº class B extends Aï¼Œç±» B çš„ prototype æŒ‡å‘äº† Aï¼šB.[[Prototype]] = Aã€‚å› æ­¤ï¼Œå¦‚æœä¸€ä¸ªå­—æ®µåœ¨ B ä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œä¼šç»§ç»­åœ¨ A ä¸­æŸ¥æ‰¾ã€‚


    - Private and protected properties and methods
      - å°±é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰è€Œè¨€ï¼Œå†…éƒ¨æ¥å£ä¸å¤–éƒ¨æ¥å£çš„åˆ’åˆ†ç§°ä¸ºå°è£…ã€‚
      - åœ¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ä¸­ï¼Œå±æ€§å’Œæ–¹æ³•åˆ†ä¸ºä¸¤ç»„ï¼š
        - å†…éƒ¨æ¥å£ â€”â€” å¯ä»¥é€šè¿‡ç±»çš„å…¶ä»–æ–¹æ³•è®¿é—®ï¼Œä½†ä¸èƒ½ä»å¤–éƒ¨è®¿é—®çš„æ–¹æ³•å’Œå±æ€§ã€‚
        - å¤–éƒ¨æ¥å£ â€”â€” ä¹Ÿå¯ä»ç±»çš„å¤–éƒ¨è®¿é—®çš„æ–¹æ³•å’Œå±æ€§ã€‚
      - å—ä¿æŠ¤çš„å±æ€§é€šå¸¸ä»¥ä¸‹åˆ’çº¿ _ ä½œä¸ºå‰ç¼€]
        - ä¾‹å­ï¼Œä¸€ä¸ªå’–å•¡æœºç±»çš„å†…éƒ¨å±æ€§è®©æˆ‘ä»¬å°† waterAmount å±æ€§æ›´æ”¹ä¸ºå—ä¿æŠ¤çš„å±æ€§ä»¥å¯¹å…¶è¿›è¡Œæ›´å¤šæ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›ä»»ä½•äººå°†å…¶å€¼è®¾ç½®ä¸ºå°äºé›¶çš„æ•°.
        ```
        class CoffeeMachine {
            _waterAmount = 0;

            set waterAmount(value) {
                if (value < 0) throw new Error("Negative water");
                this._waterAmount = value;
            }

            get waterAmount() {
                return this._waterAmount;
            }

            constructor(power) {
                this._power = power;
            }

        }

        // åˆ›å»ºå’–å•¡æœº
        let coffeeMachine = new CoffeeMachine(100);

        // åŠ å…¥æ°´
        coffeeMachine.waterAmount = -10; // Error: Negative water        
        ```
      - åªè¯»çš„â€œpowerâ€
        - å¯¹äº power å±æ€§ï¼Œè®©æˆ‘ä»¬å°†å®ƒè®¾ä¸ºåªè¯»çš„ã€‚æœ‰æ—¶å€™ä¸€ä¸ªå±æ€§å¿…é¡»ä»…åœ¨åˆ›å»ºæ—¶è®¾ç½®ï¼Œç„¶åä¸å†ä¿®æ”¹.è¿™å°±æ˜¯å’–å•¡æœºçš„å®é™…æƒ…å†µï¼šåŠŸç‡æ°¸è¿œä¸ä¼šæ”¹å˜.è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬åªéœ€è¦è®¾ç½® getterï¼Œè€Œä¸æ˜¯ setterï¼š
        - ä¾‹å­
        ```
        class CoffeeMachine {
            // ...

            constructor(power) {
                this._power = power;
            }

            get power() {
                return this._power;
            }

        }

        // åˆ›å»ºå’–å•¡æœº
        let coffeeMachine = new CoffeeMachine(100);

        alert(`Power is: ${coffeeMachine.power}W`); // åŠŸç‡æ˜¯ï¼š100W

        coffeeMachine.power = 25; // Error (no setter )       
        ```
      - ç§æœ‰çš„â€œ#waterLimitâ€
        - ç§æœ‰å±æ€§å’Œæ–¹æ³•åº”è¯¥ä»¥ # å¼€å¤´ã€‚ä»–ä»¬åªèƒ½ä»ç±»çš„å†…éƒ¨è®¿é—®ã€‚
        - ä¾‹å­
        ```
        class CoffeeMachine {
            #waterLimit = 200;

            #checkWater(value) {
                if (value < 0) throw new Error("Negative water");
                if (value > this.#waterLimit) throw new Error("Too much water");
            }

        }

        let coffeeMachine = new CoffeeMachine();

        // ä¸èƒ½ä»ç±»çš„å¤–éƒ¨è®¿é—®å…¶ç§æœ‰æ–¹æ³•
        coffeeMachine.#checkWater(); // Error
        coffeeMachine.#waterLimit = 1000; // Error        
        ```
      - é¢å¯¹å¯¹è±¡ç¼–ç¨‹æ€»ç»“
        - ä¿æŠ¤ç”¨æˆ·ï¼Œä½¿ä»–ä»¬ä¸ä¼šè¯¯ä¼¤è‡ªå·±
          - æƒ³è±¡ä¸€ä¸‹ï¼Œæœ‰ä¸€ç¾¤å¼€å‘äººå‘˜ä½¿ç”¨å’–å•¡æœºã€‚å®ƒæ˜¯ç”±â€œBest CoffeeMachineâ€å…¬å¸åˆ¶é€ çš„ï¼Œå·¥ä½œæ­£å¸¸ï¼Œä½†ä¿æŠ¤ç›–è¢«æ‹¿èµ°äº†ã€‚å› æ­¤å†…éƒ¨æ¥å£æš´éœ²äº†å‡ºæ¥ã€‚
          - æ‰€æœ‰çš„å¼€å‘äººå‘˜éƒ½æ˜¯æ–‡æ˜çš„ â€”â€” ä»–ä»¬æŒ‰ç…§é¢„æœŸä½¿ç”¨å’–å•¡æœºã€‚ä½†å…¶ä¸­ä¸€ä¸ªäººï¼Œçº¦ç¿°ï¼Œè¢«è®¤ä¸ºæ˜¯æœ€èªæ˜çš„ï¼Œå¹¶ä¸”å†³å®šè®©ä»–åœ¨å’–å•¡æœºå†…éƒ¨åšä¸€äº›è°ƒæ•´ã€‚ç„¶è€Œå’–å•¡æœºä¸¤å¤©åå°±åäº†ã€‚
          - è¿™è‚¯å®šä¸æ˜¯çº¦ç¿°çš„é”™ï¼Œè€Œæ˜¯é‚£ä¸ªå–ä¸‹ä¿æŠ¤å¥—å¹¶è®©çº¦ç¿°æ‰§è¡Œè‡ªå·±æ“ä½œçš„äººçš„é”™ã€‚
          - ç¼–ç¨‹ä¹Ÿä¸€æ ·ã€‚å¦‚æœä¸€ä¸ªç±»çš„ä½¿ç”¨è€…æƒ³è¦æ”¹å˜é‚£äº›æœ¬ä¸æ‰“ç®—ä»å¤–éƒ¨æ”¹å˜çš„ä¸œè¥¿ â€”â€” åæœæ˜¯ä¸å¯é¢„æµ‹çš„ã€‚
        - å¯æ”¯æŒçš„
          - ç¼–ç¨‹çš„æƒ…å†µæ¯”ç°å®ç”Ÿæ´»ä¸­çš„å’–å•¡æœºæ›´å¤æ‚ï¼Œå› ä¸ºæˆ‘ä»¬ä¸åªæ˜¯è´­ä¹°ä¸€æ¬¡ã€‚ä»£ç ä¸æ–­ç»å†ç€å‘å±•å’Œæ”¹è¿›ã€‚  
        - å¦‚æœæˆ‘ä»¬ä¸¥æ ¼ç•Œå®šå†…éƒ¨æ¥å£ï¼Œé‚£ä¹ˆç±»çš„å¼€å‘äººå‘˜å¯ä»¥è‡ªç”±åœ°æ›´æ”¹å…¶å†…éƒ¨å±æ€§å’Œæ–¹æ³•ï¼Œå³ä½¿æ²¡æœ‰é€šçŸ¥ç”¨æˆ·
          - å¦‚æœä½ æ˜¯è¿™æ ·çš„ç±»çš„å¼€å‘è€…ï¼Œå½“çŸ¥é“ç”±äºæ²¡æœ‰å¤–éƒ¨ä»£ç çš„ä¾èµ–ï¼Œç§æœ‰æ–¹æ³•å¯ä»¥å®‰å…¨åœ°é‡å‘½åï¼Œå®ƒä»¬çš„å‚æ•°å¯ä»¥æ”¹å˜ï¼Œç”šè‡³å¯ä»¥åˆ é™¤æ˜¯å¾ˆæ£’çš„äº‹ã€‚
          - å¯¹äºä½¿ç”¨è€…æ¥è¯´ï¼Œå½“æ–°ç‰ˆæœ¬å‡ºç°æ—¶ï¼Œå®ƒå¯èƒ½æ˜¯å…¨é¢çš„å†…éƒ¨æ£€æŸ¥ï¼Œä½†å¦‚æœå¤–éƒ¨æ¥å£ç›¸åŒï¼Œåˆ™ä»ç„¶å¾ˆå®¹æ˜“å‡çº§ã€‚
        - éšè—å¤æ‚æ€§
          - äººä»¬å–œæ¬¢ä½¿ç”¨ç®€å•çš„ä¸œè¥¿ã€‚è‡³å°‘ä»å¤–éƒ¨æ¥çœ‹æ˜¯è¿™æ ·ã€‚å†…éƒ¨çš„ä¸œè¥¿åˆ™æ˜¯å¦å¤–ä¸€å›äº‹äº†ã€‚ç¨‹åºå‘˜ä¹Ÿä¸ä¾‹å¤–ã€‚
        - éšè—å®æ–½ç»†èŠ‚æ—¶æ€»æ˜¯å¾ˆæ–¹ä¾¿ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ªç®€å•çš„ï¼Œè®°å½•è¯¦ç»†çš„å¤–éƒ¨æ¥å£ã€‚
          - ä¸ºäº†éšè—å†…éƒ¨æ¥å£ï¼Œæˆ‘ä»¬ä½¿ç”¨å—ä¿æŠ¤çš„æˆ–ç§æœ‰çš„å±æ€§ï¼š
            - å—ä¿æŠ¤çš„å­—æ®µä»¥ _ å¼€å¤´ã€‚è¿™æ˜¯ä¸€ä¸ªä¼—æ‰€å‘¨çŸ¥çš„æƒ¯ä¾‹ï¼Œæ²¡æœ‰åœ¨è¯­è¨€å±‚é¢å¼ºåˆ¶æ‰§è¡Œã€‚ç¨‹åºå‘˜åªåº”è¯¥é€šè¿‡å®ƒçš„ç±»å’Œå®ƒç»§æ‰¿çš„ç±»ä¸­è®¿é—®ä»¥ _ å¼€å¤´çš„å­—æ®µã€‚
            - ç§æœ‰å­—æ®µä»¥ # å¼€å¤´ã€‚JavaScript ç¡®ä¿æˆ‘ä»¬åªèƒ½è®¿é—®ç±»ä¸­çš„å†…å®¹ã€‚

    - Extending build-in classes


    - Class checking 'instanceof'
      - instanceof æ“ä½œç¬¦ç”¨äºæ£€æµ‹å¯¹è±¡æ˜¯å¦å±äºæŸä¸ª classï¼ŒåŒæ—¶ï¼Œæ£€æµ‹è¿‡ç¨‹ä¸­ä¹Ÿä¼šå°†ç»§æ‰¿å…³ç³»è€ƒè™‘åœ¨å†…
        `obj instanceof Class`
      - instanceof åœ¨æ¶‰åŠå¤šå±‚ç±»ç»“æ„çš„åœºåˆä¸­æ¯”è¾ƒå®ç”¨ï¼Œè¿™ç§æƒ…å†µä¸‹éœ€è¦å°†ç±»çš„ç»§æ‰¿å…³ç³»è€ƒè™‘åœ¨å†…ã€‚
        - ä¾‹å­
        ```
        class Animal {}
        class Rabbit extends Animal {}

        let rabbit = new Rabbit();
        alert(rabbit instanceof Animal); // true
        // rabbit.__proto__ === Rabbit.prototype
        // rabbit.__proto__.__proto__ === Animal.prototype (match!)        
        ```        
      - ä¸‹é¢ï¼Œæ¥æ€»ç»“ä¸‹å¤§å®¶å­¦åˆ°çš„ç±»å‹æ£€æµ‹æ–¹å¼ï¼š
        - typeof	ç”¨äºæ£€æµ‹ï¼šåŸºæœ¬æ•°æ®ç±»å‹	è¿”å›ï¼šstring
        - {}.toString	ç”¨äºæ£€æµ‹ï¼šåŸºæœ¬æ•°æ®ç±»å‹ã€å†…ç½®å¯¹è±¡ä»¥åŠåŒ…å« Symbol.toStringTag å±æ€§çš„å¯¹è±¡	è¿”å›ï¼šstring
        - instanceof	ç”¨äºæ£€æµ‹ï¼šä»»æ„å¯¹è±¡	è¿”å›ï¼štrue/false
      - {}.toString åŸºæœ¬å°±æ˜¯ä¸€å¢å¼ºç‰ˆ typeofï¼Œæœ¬è´¨æ˜¯`Object.prototype.toString.call(testObj)`ã€‚
        - å†…ç½®çš„ toString æ–¹æ³•å¯ä»¥ä»å¯¹è±¡ä¸­æå–å‡ºæ¥ï¼Œä»¥å…¶ä»–å€¼ä½œä¸ºä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰å¯¹è±¡è¿›è¡Œè°ƒç”¨ï¼Œè°ƒç”¨ç»“æœå–å†³äºä¼ å…¥çš„ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚
        - å¦‚æœä¼ å…¥çš„æ˜¯ number ç±»å‹ï¼Œè¿”å› [object Number]
        - å¦‚æœä¼ å…¥çš„æ˜¯ boolean ç±»å‹ï¼Œè¿”å› [object Boolean]
        - å¦‚æœä¼ å…¥ nullï¼Œè¿”å› [object Null]
        - ä¼ å…¥ undefinedï¼Œè¿”å› [object Undefined]
        - ä¼ å…¥æ•°ç»„ï¼Œè¿”å› [object Array]

      - Symbol.toStringTag
        - å¯¹è±¡çš„ toString æ–¹æ³•å¯ä»¥ä½¿ç”¨ Symbol.toStringTag è¿™ä¸ªç‰¹æ®Šçš„å¯¹è±¡å±æ€§è¿›è¡Œè‡ªå®šä¹‰è¾“å‡ºã€‚
        - ä¾‹å­
        ```
        let user = {
            [Symbol.toStringTag]: "User"
        };

        alert( {}.toString.call(user) ); // [object User]        
        ```


    - Mixins
      - åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬åªèƒ½ç»§æ‰¿å•ä¸ªå¯¹è±¡ã€‚æ¯ä¸ªå¯¹è±¡åªèƒ½æœ‰ä¸€ä¸ª [[Prototype]] åŸå‹ã€‚å¹¶ä¸”æ¯ä¸ªç±»åªå¯ä»¥æ‰©å±•å¦å¤–ä¸€ä¸ªç±»
      - Mixin â€” æ˜¯ä¸€ä¸ªé€šç”¨çš„é¢å‘å¯¹è±¡ç¼–ç¨‹æœ¯è¯­ï¼šä¸€ä¸ªåŒ…å«å…¶ä»–ç±»çš„æ–¹æ³•çš„ç±»
      - JavaScript ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡æ‹·è´å¤šä¸ªç±»ä¸­çš„æ–¹æ³•åˆ°æŸä¸ªç±»çš„åŸå‹ä¸­å®ç° mixinã€‚
      - åœ¨ JavaScript ä¸­æ„é€ ä¸€ä¸ª mixin æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯æ„é€ ä¸€ä¸ªæ‹¥æœ‰è®¸å¤šå®ç”¨æ–¹æ³•çš„å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°å°†è¿™äº›å®ç”¨æ–¹æ³•åˆå¹¶åˆ°ä»»ä½•ç±»çš„åŸå‹ä¸­
      - å¦‚æœ Mixins å¶å°”ä¼šé‡å†™åŸç”Ÿç±»ä¸­çš„æ–¹æ³•ï¼Œé‚£ä¹ˆ Mixins å¯èƒ½ä¼šæˆä¸ºä¸€ä¸ªå†²çªç‚¹ã€‚å› æ­¤é€šå¸¸æƒ…å†µä¸‹åº”è¯¥å¥½å¥½è€ƒè™‘ mixin çš„å‘½åï¼Œä»¥å‡å°‘è¿™ç§å†²çªçš„å¯èƒ½æ€§
      - mixinç»§æ‰¿ä¾‹å­,è¯·æ³¨æ„åœ¨ sayHiMixin å†…éƒ¨å¯¹äºçˆ¶ç±»æ–¹æ³• super.say() çš„è°ƒç”¨ä¼šåœ¨ mixin çš„åŸå‹ä¸ŠæŸ¥æ‰¾æ–¹æ³•è€Œä¸æ˜¯åœ¨ class è‡ªèº«æŸ¥æ‰¾
        ```
        //Base mixin
        const sayMixinBase = {
            say(phrase) {
                alert(phrase);
            }
        }
        //Inherit from mixin
        let sayHiMixin = {
            __proto__: sayMixinBase, // ï¼ˆæˆ–è€…ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œé€šè¿‡ Object.create æ¥è®¾ç½®åŸå‹ã€‚ï¼‰

            sayHi() {
                // è°ƒç”¨çˆ¶ç±»ä¸­çš„æ–¹æ³•
                super.say(`Hello ${this.name}`);
            },
            sayBye() {
                super.say(`Bye ${this.name}`);
            }
        }

        class User {
            constructor(name) {
                this.name = name;
            }
        }

        //Copy sayHiMixin method to class
        Object.assign(User.prototype, sayHiMixin); //æ³¨æ„è¿™é‡Œæ˜¯ç±»çš„prototypeå¯¹è±¡ä¸Šå¤åˆ¶æ–¹æ³•
        let user = new User("Jason");
        user.sayHi();        
        ```      
      - ä¾‹å­
      ```
        let eventMixin = {
            /**
            * è®¢é˜…äº‹ä»¶ï¼Œç”¨æ³•ï¼š
            *  menu.on('select', function(item) { ... }
            */
            on(eventName, handler) {
                if (!this._eventHandlers) this._eventHandlers = {};
                if (!this._eventHandlers[eventName]) {
                    this._eventHandlers[eventName] = [];
                }
                this._eventHandlers[eventName].push(handler);
            },

            /**
            * å–æ¶ˆè®¢é˜…ï¼Œç”¨æ³•ï¼š
            *  menu.off('select', handler)
            */
            off(eventName, handler) {
                let handlers = this._eventHandlers && this._eventHandlers[eventName];
                if (!handlers) return;
                for (let i = 0; i < handlers.length; i++) {
                    if (handlers[i] === handler) {
                        handlers.splice(i--, 1);
                    }
                }
            },

            /**
            * è§¦å‘äº‹ä»¶å¹¶ä¼ é€’å‚æ•°
            *  this.trigger('select', data1, data2);
            */
            trigger(eventName, ...args) {
                if (!this._eventHandlers || !this._eventHandlers[eventName]) {
                    return; // å¯¹åº”äº‹ä»¶åæ²¡æœ‰äº‹ä»¶å¤„ç†å‡½æ•°ã€‚
                }

                // è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°
                this._eventHandlers[eventName].forEach(handler => handler.apply(this, args));
            }
        };
        // æ–°å»ºä¸€ä¸ª class
        class Menu {
            choose(value) {
                this.trigger("select", value);
            }
        }
        // æ·»åŠ  mixin
        Object.assign(Menu.prototype, eventMixin);

        let menu = new Menu();

        // è¢«é€‰ä¸­æ—¶è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ï¼š
        menu.on("select", value => alert(`Value selected: ${value}`));

        // è§¦å‘äº‹ä»¶ => å±•ç¤ºè¢«é€‰ä¸­çš„å€¼ï¼š123
        menu.choose("123"); // è¢«é€‰ä¸­çš„å€¼      
      ```


  - Error handling
  - Promises, async/await
    - Introduction: callback
      - å›è°ƒ
        - Javascriptä¸­å¾ˆå¤šæ–¹æ³•éƒ½éœ€è¦å¼‚æ­¥è°ƒç”¨ï¼Œä¾‹å¦‚å‘é€AJAX requeståœ¨è¯·æ±‚è¿”å›æˆåŠŸæˆ–è€…å¤±è´¥åæ‰§è¡Œé‚£äº›æ–¹æ³•ï¼ŒåŠ è½½ä¸€ä¸ªè¿œç¨‹javascriptè„šæœ¬æ–‡ä»¶å¹¶åœ¨æ–‡ä»¶åŠ è½½æˆåŠŸåè°ƒç”¨æ–‡ä»¶ä¸­çš„functionï¼Œæˆ‘ä»¬å°±éœ€è¦ä¼ ä¸€ä¸ªå›è°ƒå‡½æ•°ç»™å¼‚æ­¥æ–¹æ³•çŠ¶æ€æ”¹å˜çš„æ–¹æ³•è°ƒç”¨å†…éƒ¨å¹¶æ‰§è¡Œè¿™ä¸ªä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼Œè¿˜å¯ä»¥é€šè¿‡å‚æ•°æŠŠå¼‚æ­¥ç»“æœé€šè¿‡ä¼ å…¥çš„å›è°ƒå‡½æ•°ä¼ å‡ºå¼‚æ­¥æ–¹æ³•å†…éƒ¨åœ¨å›è°ƒå‡½æ•°ä¸­è¿è¡Œã€‚
        - ä¾‹å­: å®ç°ä¸€ä¸ªè¿œç¨‹åŠ è½½javascriptå¹¶æ’å…¥åˆ°æ–‡æ¡£ä¸­æˆåŠŸåæ‰§è¡ŒæŸäº›æ–¹æ³•çš„å‡½æ•°
        ```
        let loadScript = function(src, callback){
            const script = document.creatElement('script');
            script.src = src;
            script.addEventListener('load', () => callback(script));
            document.head.append(script);
        }

        loadScript('https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js', script => {
            alert(`Cool, the ${script.src} is loaded`);
            alert( _ ); // åœ¨è¿œç¨‹åŠ è½½çš„jsè„šæœ¬ä¸­å£°æ˜çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œè°ƒç”¨
        });
        ```
        - åŸºäºä¸Šä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æƒ³å®ç°æŒ‰é¡ºåºåŠ è½½å¤šä¸ªè¿œç¨‹javascriptæ–‡ä»¶ï¼Œå¹¶åœ¨éƒ½åŠ è½½æˆåŠŸåè°ƒç”¨é‡Œé¢çš„æ–¹æ³•
        ```
        loadScript('./my/script1.js', () =>{
            loadScript('./my/script2.js', () => {
                loadScript('./my/script3.js', () => {
                    //All scripts are downloaded successful.
                    doSomething();
                });
            })
        })
        ```
        å½“éœ€è¦åŠ è½½çš„è„šæœ¬é€æ¸å¢å¤šï¼Œæˆ‘ä»¬ä¼šå†™å¾ˆå¤šå±‚çš„åµŒå¥—çš„å›è°ƒå‡½æ•°ï¼Œè¿™ç§°ä¹‹ä¸ºå›è°ƒé‡‘å­—å¡”æˆ–è€…å›è°ƒåœ°ç‹±ã€‚æˆ‘ä»¬åœ¨å¹³æ—¶å†™ä»£ç è¦æ³¨æ„ä¸è¦æœ‰è¿‡å¤šçš„åµŒå¥—ï¼Œä¼šè®©ä»£ç çš„å¯è¯»å†™å˜å·®ï¼Œå°¤å…¶å›è°ƒå‡½æ•°éœ€è¦å‚æ•°çš„æ—¶å€™
        - åœ¨ä¸Šä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰è€ƒè™‘é”™è¯¯å› ç´ ï¼Œå‡å¦‚åŠ è½½å¤±è´¥ä¼šæ€æ ·ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥è®©æ–¹æ³•æ›´åŠ ä¸¥è°¨ï¼Œèƒ½å¤Ÿå¤„ç†å„ç§ç‰¹æ®Šæƒ…å†µï¼Œå„ç§è¾¹ç•Œå€¼ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ç»™å›è°ƒå‡½æ•°ä¼ å‚ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºerror-first callbackï¼Œcallbackçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ºä¼ é€’é”™è¯¯å¯¹è±¡è€Œä¿ç•™çš„ï¼Œä¸€æ—¦åç”Ÿé”™è¯¯ï¼Œå°±è°ƒç”¨callback(error)ï¼ŒæŠŠé”™è¯¯å¯¹è±¡ä¼ é€’ç»™å›è°ƒå‡½æ•°ï¼Œé€šè¿‡åˆ¤æ–­ç¬¬ä¸€ä¸ªå‚æ•°çš„é”™è¯¯å¯¹è±¡æ˜¯å¦ä¸ºnullï¼Œæ¥ç¡®å®šæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥å¹¶ä½œå‡ºå¯¹åº”çš„å¤„ç†ï¼Œå‡å¦‚æ²¡æœ‰é”™è¯¯ï¼Œæˆ‘ä»¬é€šè¿‡ä¼ é€’callback(null, result1, result2, ...)æ¥ä¼ é€’ç»“æœã€‚
        ```
        let loadScript = function(scr, callback){
            let script = document.createElement('script');
            script.src = src;
            script.addEventListener('load', () => callback(null, script));
            script.addEventListener('error', () => callback(new Error('Script load error for ${scr}')));
            document.head.append(script);
        }

        let handleError = (err) => console.log(err);
        
        loadScript('./my/script1.js', (error, script) => {
            if(error){
                //Handle error
                handleError(error);
            }else{
                //Success call
            }
        });
        ```
        æˆ‘ä»¬å‡å¦‚æœ‰å¤šä¸ªè„šæœ¬éœ€è¦åŠ è½½ï¼Œè¿™ä¸ªå›è°ƒå› ä¸ºè¿˜æœ‰if...elseçš„åˆ¤æ–­ï¼Œå›è°ƒåœ°ç‹±å°†ä¼šæ›´åŠ ä¸¥é‡ã€‚
        - æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ºæ¯ä¸€ä¸ªå›è°ƒå‡½æ•°æŒ‡å®šä¸€ä¸ªå‡½æ•°å¼•ç”¨æ¥è§£å†³å›è°ƒåœ°ç‹±åµŒå¥—è¿‡å¤šçš„é—®é¢˜ï¼Œå‡å¦‚æˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•æ¥è¿œç¨‹åŠ è½½å¤šä¸ªjavascriptæ–‡ä»¶
        ```
        loadScript('./my/script1.js', step1);

        let handleError = (err) => console.log(err);

        let step1 = function(error, script){
            if(error){
                handleError(error);
            }else{
                loadScript('./my/script2.js', step2);
            }
        }

        let step2 = function(error, script){
            if(error){
                handleError(error);
            }else{
                loadScript('./my/script2.js', step3)
            }
        }

        let step3 = function(error, script) {
            if (error) {
                handleError(error);
            } else {
                // ...åœ¨æ‰€æœ‰è„šæœ¬è¢«åŠ è½½åç»§ç»­ (*)
            }
        };
        ```
        è¿™æ˜¾ç„¶ä¸æ˜¯ä¸€ä¸ªå¥½åŠæ³•ï¼Œåˆ›å»ºäº†ä¸€å¤§å †step*å‡½æ•°ï¼Œå¯è¯»æ€§éå¸¸å·®ï¼Œæˆ‘ä»¬æˆ‘ä»¬ä½¿ç”¨Promiseå¯¹è±¡è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜


    - Promise
      - Promiseå¯¹è±¡å°±æ˜¯ä¸ºäº†è§£å†³æŸäº›å¼‚æ­¥æ–¹æ³•æˆ–è€…å»¶æ—¶æ‰§è¡Œç­‰æœªæ¥ä¸ç¡®å®šä»€ä¹ˆæ—¶å€™æ‰§è¡Œå›è°ƒçš„éœ€æ±‚è€Œå­˜åœ¨çš„ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨åˆ›å»ºPromiseå¯¹è±¡çš„æ—¶å€™ï¼Œåœ¨å®ƒå‚æ•°å†…å›è°ƒå‡½æ•°ï¼ŒåŒ…è£…å¥½å¼‚æ­¥å¯¹è±¡æˆåŠŸå›è°ƒçš„æ—¶å€™è°ƒç”¨å‚æ•°çš„ç‰¹æ®Šæ–¹æ³•resolveï¼Œå¤±è´¥çš„æ—¶å€™è°ƒç”¨å‚æ•°çš„ç‰¹æ®Šæ–¹æ³•rejectï¼Œç„¶åå°±ä»€ä¹ˆéƒ½ä¸ç”¨ç®¡äº†ï¼ŒPromiseå¯¹è±¡è‡ªåŠ¨å…³è”è¿™ä¸ªä¸¤ç§çŠ¶æ€å¹¶åœ¨è¿”å›çš„é“¾å¼è°ƒç”¨æ–¹æ³•ä¸­è¿”å›å¯¹åº”çš„ç»“æœï¼Œé€šè¿‡resolveæŠŠç»“æœä¼ é€’ç»™thenæ–¹æ³•å›è°ƒå‡½æ•°å‚æ•°ï¼Œé€šè¿‡rejectæŠŠé”™è¯¯å¯¹è±¡ä¼ é€’ç»™catchæ–¹æ³•å›è°ƒå‡½æ•°å‚æ•°ã€‚
      - è¿™ä¸ªå¯¹è±¡æ¯”è¾ƒéš¾ç†è§£çš„å°±æ˜¯ï¼Œè¦æ”¹å˜ä¹‹å‰å›è°ƒå‡½æ•°çš„æ€ç»´ï¼Œæˆ‘ä»¬åªè¦æŒ‰ç…§é€»è¾‘åœ¨æˆåŠŸçš„æ¡ä»¶è°ƒç”¨resolveï¼Œå¤±è´¥çš„æ¡ä»¶è°ƒç”¨rejectï¼Œå…¶ä»–çš„æˆ‘ä»¬å¹¶ä¸éœ€è¦å…³å¿ƒï¼Œå½“ç„¶è®°å¾—åœ¨ä½¿ç”¨çš„æ—¶å€™å…¶å®æ˜¯åœ¨Promiseå¯¹è±¡åˆ›å»ºçš„å›è°ƒå‡½æ•°å†…éƒ¨å¤„ç†è¿™äº›é€»è¾‘çš„ï¼Œç„¶åå†è¿”å›ä¸€ä¸ªPromiseå®ä¾‹ã€‚ä¹‹ååœ¨thenæ–¹æ³•é‡Œå¤„ç†ç»“æœå°±å¯ä»¥äº†ã€‚
      - ä¾‹å­,ä¼ é€’ç»™ new Promiseçš„å‡½æ•°ç§°ä¹‹ä¸º executorã€‚å½“ promise è¢«åˆ›å»ºæ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚å®ƒåŒ…å«ç”Ÿäº§è€…ä»£ç ï¼Œè¿™æœ€ç»ˆä¼šäº§ç”Ÿä¸€ä¸ªç»“æœã€‚ä¸ä¸Šæ–‡ç±»æ¯”ï¼Œexecutor å°±æ˜¯â€œæ­Œæ‰‹â€ã€‚
        ```
        let promise = new Promise(function(resolve, reject) {
            // executor (ç”Ÿäº§è€…ä»£ç ï¼Œ"singer")
            ...
            //result condition or other asynchronous function result, such as AJAX request or setTimeout
            resolve("done");
            ...
            reject(new Error("â€¦")); // è¢«å¿½ç•¥
            setTimeout(() => resolve("â€¦")); // è¢«å¿½ç•¥
        })
        ```
        executor åªä¼šè°ƒç”¨ resolve æˆ– rejectã€‚Promise çš„æœ€åçŠ¶æ€ä¸€å®šä¼šå˜åŒ–ã€‚å¯¹ resolve å’Œ reject çš„æ·±å±‚è°ƒç”¨éƒ½ä¼šè¢«å¿½ç•¥
      - Resolve/reject can be immediate
      - å®é™…ä¸Šï¼Œexecutor é€šå¸¸ä¼šå¼‚æ­¥æ‰§è¡Œä¸€äº›åŠ¨ä½œï¼Œç„¶ååœ¨ä¸€æ®µæ—¶é—´åè°ƒç”¨ resolve/rejectï¼Œä½†å®ƒä¸å¿…é‚£ä¹ˆåšã€‚æˆ‘ä»¬å¯ä»¥ç«‹å³è°ƒç”¨ resolve æˆ– rejectï¼Œå°±åƒè¿™æ ·ï¼š
        ```
        let promise = new Promise(function(resolve, reject) {
            resolve(123); // immediately give the result: 123
        });        
        ```
      - ç§æœ‰å±æ€§
        - state æœ€åˆæ˜¯penddingï¼ŒæˆåŠŸåè¢«ä¿®æ”¹æˆfullfilledï¼Œå¤±è´¥åèƒŒä¿®æ”¹æˆrejected
        - result æœ€åˆæ˜¯undefined
        - Promise çš„ state å’Œ result å±æ€§æ˜¯å†…éƒ¨çš„ã€‚æˆ‘ä»¬ä¸èƒ½ä»ä»£ç ä¸­ç›´æ¥è®¿é—®å®ƒä»¬ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ .then/catch æ¥è®¿é—®ï¼Œä¸‹é¢æ˜¯å¯¹æ­¤çš„æè¿°ã€‚

      - è°ƒç”¨resolveæ—¶å‘ç”Ÿäº†ä»€ä¹ˆ
        - å°†stateè®¾ç½®æˆäº†fullfilled
        - set result to value
      - è°ƒç”¨rejectæ—¶å‘ç”Ÿäº†ä»€ä¹ˆ
        - å°†stateè®¾ç½®æˆäº†rejected
        - set result to error
      - ä¾‹å­ï¼Œé‡å†™loadScript
        ```
        let loadScript = function(src){
            return new Promise((resolve, reject) => {
                let script = document.createElement('script');
                script.src = src;
                script.addEventListener('load', script => resolve(script));
                script.addEventListener('error', err => reject(err));
                document.head.append(script);
            });
        }

        //How to use it?
        let promise = loadScript("https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js");

        promise.then(script => alert(`${script.scr} is loaded!`), error => alert(`Error: ${error.message}`));
        promise.then(script => alert(`One more handler to do something else...`));
        ```
        è¿™æ ·æ”¹å†™åçš„å¥½å¤„æ˜¯æˆ‘ä»¬å¯ä»¥æŒ‰ç…§è‡ªç„¶é¡ºåºå»ç¼–å†™ä»£ç çš„é€»è¾‘ï¼Œä½¿ç”¨.then or .catchæ¥å¤„ç†ç»“æœã€‚
      - Promise å¯¹è±¡å……å½“ç”Ÿäº§è€…ï¼ˆexecutorï¼‰å’Œæ¶ˆè´¹å‡½æ•°ä¹‹é—´çš„è¿æ¥ â€”â€” é‚£äº›å¸Œæœ›æ¥æ”¶ç»“æœ/é”™è¯¯çš„å‡½æ•°ã€‚å‡è®¾å‡½æ•°å¯ä»¥ä½¿ç”¨æ–¹æ³• promise.then å’Œ promise.catch è¿›è¡Œæ³¨å†Œ
        ```
        //then
        promise.then(
            function(result) { /* handle a successful result */ },
            function(error) { /* handle an error */ }
        );
        //
        let promise = new Promise(function(resolve, reject) {
            setTimeout(() => resolve("done!"), 1000);
        });

        // resolve åœ¨ .then ä¸­è¿è¡Œç¬¬ä¸€ä¸ªå‡½æ•°
        promise.then(
            result => alert(result), // åœ¨ 1 ç§’åæ˜¾ç¤ºâ€œå·²ç»å®Œæˆï¼â€
            error => alert(error) // ä¸ä¼šè¿è¡Œ
        );

        //catch
        let promise = new Promise(function(resolve, reject) {
            setTimeout(() => reject(new Error("Whoops!")), 1000);
        });

        // reject åœ¨ .then ä¸­è¿è¡Œç¬¬äºŒä¸ªå‡½æ•°
        promise.then(
            result => alert(result), // æ— æ³•è¿è¡Œ
            error => alert(error) // åœ¨ 1 ç§’åæ˜¾ç¤º "Error: Whoops!"
        );
        ```
      - thenæ–¹æ³•å’Œcatchæ–¹æ³•
        - then
            ```
            promise.then(result => {
                //handle a successful result, call this when the status of promise is resolved
            }, error => {
                //handle an error, call this when the status of promise is rejected
            });
            ```
        - catch(handler)ï¼Œå…¶å®æ˜¯.then(null, handler)çš„ç®€å†™
            ```
            promise.catch(error => console.log(error));
            ```
        - then(handler)åœ¨ä¸‹ä¸€è½®eventloopçš„å¼€å§‹å¤„ç†ï¼Œå’ŒsetTimeout(handler, 0)æ˜¯ä¸€æ ·çš„é€»è¾‘
            ```
            // an immediately resolved promise
            let promise = new Promise(resolve => resolve("done!"));
            promise.then(alert); // å®Œæˆï¼ï¼ˆåœ¨å½“å‰ä»£ç å®Œæˆä¹‹åï¼‰
            alert("code finished"); // è¿™ä¸ª alert ä¼šæœ€å…ˆæ˜¾ç¤º
            ```
        - .then/catch çš„å¤„ç†å™¨æ€»æ˜¯å¼‚æ­¥çš„
            ```
            // an immediately resolved promise
            let promise = new Promise(resolve => resolve("done!"));

            promise.then(alert); // å®Œæˆï¼ï¼ˆåœ¨å½“å‰ä»£ç å®Œæˆä¹‹åï¼‰

            alert("code finished"); // è¿™ä¸ª alert ä¼šæœ€å…ˆæ˜¾ç¤º        
            ```

    - Promise chaining
      - ä»€ä¹ˆæ˜¯Promiseé“¾
        - Promiseçš„é“¾å¼è°ƒç”¨ï¼Œç”±äºthenæ–¹æ³•è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ªpromiseå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é“¾å¼è°ƒç”¨ç»§ç»­åœ¨thençš„å›è°ƒå‡½æ•°ä¸­è¿”å›å€¼ä¸€ä¸ªæ¥ä¸€ä¸ªçš„æŒ‰é¡ºåºå¯¹resultè¿›è¡Œå¤„ç†ï¼Œæ³¨æ„thené‡Œé¢çš„å¹¶ä¸æ˜¯å¼‚æ­¥çš„ï¼Œå› ä¸ºå½“å‰è¿™ä¸ªé“¾å¼è°ƒç”¨çš„promiseçš„å¯¹è±¡çš„çŠ¶æ€å·²ç»æ˜¯fullfilledäº†ã€‚
        - ä¾‹å­
        ```
        new Promise(function(resolve, reject) {
            setTimeout(() => resolve(1), 1000); // (*)
        }).then(function(result) { // (**)
            alert(result); // 1
            return result * 2;
        }).then(function(result) { // (***)
            alert(result); // 2
            return result * 2;
        }).then(function(result) {
            alert(result); // 4
            return result * 2;
        });
        //éšç€ result åœ¨å¤„ç†ç¨‹åºé“¾ä¸­ä¼ é€’ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ° alert ä¾æ¬¡æ˜¾ç¤ºï¼š1 â†’ 2 â†’ 4ã€‚å› ä¸º promise.then è¿”å›äº†ä¸€ä¸ª promiseï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å®ƒè°ƒç”¨ä¸‹ä¸€ä¸ª .thenã€‚å½“æ§åˆ¶å‡½æ•°è¿”å›ä¸€ä¸ªå€¼æ—¶ï¼Œå®ƒä¼šå˜æˆå½“å‰ promise çš„ resultï¼Œæ‰€ä»¥ä¼šç”¨å®ƒè°ƒç”¨ä¸‹ä¸€ä¸ª .then
        ```
        è¿è¡Œæµç¨‹å¦‚ä¸‹ï¼š
        1. åˆå§‹ promise 1 ç§’å resolve (*)ï¼Œ
        2. ç„¶å .then æ–¹æ³•è¢«è°ƒç”¨ (**)ã€‚
        3. å®ƒè¿”å›çš„å€¼è¢«ä¼ å…¥ä¸‹ä¸€ä¸ª .then çš„å¤„ç†ç¨‹åº (***)
        4. â€¦â€¦ä¾æ­¤ç±»æ¨ã€‚        
      - å¦‚æœæƒ³è¦åœ¨thené‡ŒæŒ‰é¡ºåºé“¾å¼è°ƒç”¨å¼‚æ­¥ä»»åŠ¡ï¼Œå¯ä»¥è¿”å›ä¸€ä¸ªçŠ¶æ€ä¸ºpendingçš„æ–°promiseå¯¹è±¡ã€‚
        - æ­£å¸¸æ¥è¯´ï¼Œ.then å¤„ç†ç¨‹åºè¿”å›çš„å€¼ä¼šç«‹å³ä¼ å…¥ä¸‹ä¸€ä¸ªå¤„ç†ç¨‹åºã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªä¾‹å¤–ã€‚
        - å¦‚æœè¿”å›çš„å€¼æ˜¯ä¸€ä¸ª promiseï¼Œé‚£ä¹ˆç›´åˆ°å®ƒç»“æŸä¹‹å‰ï¼Œä¸‹ä¸€æ­¥æ‰§è¡Œä¼šä¸€ç›´è¢«æš‚åœã€‚åœ¨ç»“æŸä¹‹åï¼Œè¯¥ promise çš„ç»“æœä¼šä¼ é€’ç»™ä¸‹ä¸€ä¸ª .then å¤„ç†ç¨‹åºã€‚
        - ä¾‹å­
        ```
        new Promise(function(resolve, reject) {
            setTimeout(() => resolve(1), 1000);
        }).then(function(result) {
            alert(result); // 1
            return new Promise((resolve, reject) => { // (*)
                setTimeout(() => resolve(result * 2), 1000);
            });
        }).then(function(result) { // (**)
            alert(result); // 2
            return new Promise((resolve, reject) => {
                setTimeout(() => resolve(result * 2), 1000);
            });
        }).then(function(result) {
            alert(result); // 4
        })        
        ```
        è¿™é‡Œç¬¬ä¸€ä¸ª .then æ˜¾ç¤º 1 å¹¶åœ¨ (*) è¡Œè¿”å› new Promise(â€¦)ï¼Œä¸€ç§’ä¹‹åå®ƒä¼š resolve æ‰ï¼Œç„¶å resultï¼ˆresolve çš„å‚æ•°ï¼Œåœ¨è¿™é‡Œå®ƒæ˜¯ result*2ï¼‰è¢«ä¼ é€’ç»™ä½äº (**) è¡Œçš„ç¬¬äºŒä¸ª .thenã€‚å®ƒä¼šæ˜¾ç¤º 2ï¼Œè€Œä¸”æ‰§è¡Œç›¸åŒçš„åŠ¨ä½œã€‚æ‰€ä»¥è¾“å‡ºè¿˜æ˜¯ 1 â†’ 2 â†’ 4ï¼Œä½†æ˜¯ç°åœ¨æ¯æ¬¡ alert è°ƒç”¨ä¹‹é—´ä¼šæœ‰ 1 ç§’é’Ÿçš„å»¶è¿Ÿã€‚
      - ä½¿ç”¨Promiseé“¾é‡å†™loadScriptæŒ‰é¡ºåºåŠ è½½å¤šä¸ªjsæ–‡ä»¶å¹¶æ‰§è¡Œè„šæœ¬é‡Œçš„å‡½æ•°
        - ä¾‹å­
        ```
        loadScript("/article/promise-chaining/one.js")
            .then(script => loadScript("/article/promise-chaining/two.js"))
            .then(script => loadScript("/article/promise-chaining/three.js"))
            .then(script => {
                one();
                two();
                three();
            });      
        ```
        è¿™é‡Œæ¯ä¸ª loadScript è°ƒç”¨è¿”å›ä¸€ä¸ª promiseï¼Œå¹¶ä¸”åœ¨å®ƒ resolve æ—¶è¿è¡Œä¸‹ä¸€ä¸ª .thenã€‚ ç„¶åå®ƒå¼€å§‹åŠ è½½ä¸‹ä¸€ä¸ªè„šæœ¬ã€‚æ‰€ä»¥è„šæœ¬æ˜¯ä¾æ¬¡è¢«åŠ è½½çš„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é“¾ä¸­æ·»åŠ æ›´å¤šçš„å¼‚æ­¥åŠ¨ä½œã€‚è¯·æ³¨æ„ä»£ç ä»ç„¶â€œæ‰å¹³â€ï¼Œå®ƒå‘ä¸‹å¢é•¿ï¼Œè€Œä¸æ˜¯å‘å³ã€‚æ²¡æœ‰â€œæ­»äº¡é‡‘å­—å¡”â€çš„è¿¹è±¡ã€‚
      - Thenableå¯¹è±¡
        - .then å¯ä»¥è¿”å›ä»»æ„çš„ â€œthenableâ€ å¯¹è±¡ â€”â€” ä¸€ä¸ªå…·æœ‰ .then æ–¹æ³•çš„ä»»æ„å¯¹è±¡ï¼Œå¹¶ä¸”ä¼šè¢«å½“åšä¸€ä¸ª promise æ¥å¯¹å¾…
        - ä¾‹å­
        ```
        class Thenable{
            constructor(num){
                this.num = num;
            }
            then(resolve, reject){
                setTimeout(() => resolve(this.num * 2), 1000);// (**)
            }
        }
        new Promise(resolve => resolve(1))
            .then(result => {
                return new Thenable(result);// (*)
            })
            .then(alert);// 1000 ms åæ˜¾ç¤º 2
        ```
        JavaScript åœ¨ (*) è¡Œæ£€æŸ¥ .then å¤„ç†ç¨‹åºè¿”å›çš„å¯¹è±¡ï¼šå¦‚æœå®ƒæœ‰ä¸€ä¸ªåä¸º then çš„å¯è°ƒç”¨æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä¼šè°ƒç”¨è¯¥æ–¹æ³•å¹¶æä¾›åŸç”Ÿå‡½æ•° resolveï¼Œreject ä½œä¸ºå‚æ•°ï¼ˆç±»ä¼¼äº executorï¼‰å¹¶åœ¨å®ƒè¢«è°ƒç”¨å‰ä¸€ç›´ç­‰å¾…ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­resolve(2)1 ç§’åè¢«è°ƒç”¨(**)`ã€‚ç„¶å result ä¼šå»¶é“¾å‘ä¸‹ä¼ é€’ã€‚
      - fetch
        - å®ƒå‘é€ç½‘ç»œè¯·æ±‚åˆ° url å¹¶è¿”å›ä¸€ä¸ª promiseã€‚å½“è¿œç¨‹æœåŠ¡å™¨è¿”å›å“åº”å¤´ï¼ˆæ³¨æ„ä¸æ˜¯å…¨éƒ¨å“åº”åŠ è½½å®Œæˆï¼‰æ—¶ï¼Œè¯¥ promise ç”¨ä¸€ä¸ª response æ¥ resolve æ‰ã€‚
        - ä¸ºäº†è¯»å–å…¨éƒ¨çš„å“åº”ï¼Œæˆ‘ä»¬åº”è¯¥è°ƒç”¨æ–¹æ³• response.text()ï¼šå½“å…¨éƒ¨æ–‡å­—å†…å®¹ä»è¿œç¨‹æœåŠ¡å™¨ä¸Šä¸‹è½½åï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ª resolved çŠ¶æ€çš„ promiseï¼ŒåŒæ—¶è¯¥æ–‡å­—ä¼šä½œä¸º resultã€‚å…¶å®è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œresponse.json() ä¼šè¯»å–è¿œç¨‹æ•°æ®å¹¶æŠŠå®ƒè§£ææˆ JSON
        - ä¾‹å­ï¼Œä»è¿œç¨‹æœåŠ¡å™¨ä¸Šä¸‹è½½ä¸€ä¸ªjsonæ–‡ä»¶å¹¶æŠŠå®ƒè½¬æˆJSONå¯¹è±¡ã€‚
        ```
        fetch('/article/promise-chaining/user.json')
           // å½“è¿œç¨‹æœåŠ¡å™¨å¼€å§‹å“åº”æ—¶ï¼Œä¸‹é¢çš„ .then æ‰§è¡Œ
           .then((response) => {
               return response.json();// å½“ç»“æŸä¸‹è½½æ—¶ï¼Œresponse.text() ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ resolved promiseï¼Œè¯¥ promise æ‹¥æœ‰å…¨éƒ¨å“åº”æ–‡å­—
           })
           .then((user) => {
               // ...è¿™æ˜¯è¿œç¨‹æ–‡ä»¶å†…å®¹
               alert(user.name);
           });
        ```
        - ä¾‹å­: ä»è¿œç¨‹æœåŠ¡å™¨è·å–user nameç„¶åé€šè¿‡githubæœåŠ¡å™¨è¿›è¡ŒæŸ¥è¯¢ï¼Œè·å–ç”¨æˆ·å¤´åƒï¼Œæ·»åŠ åˆ°bodyï¼Œå¹¶ä¸”æœ€åæ˜¾ç¤ºgithubçš„ç”¨æˆ·å
        ```
        //Get user name from user.json
        function loadUserJson(url){
            return fetch(url).then(response => response.json());
        }
        //Get github user information by user name
        function loadGithubUser(name){
            return fetch(`https://api.github.com/users/${name}`).then(response => response.json());
        }
        function showAvatar(githubUserData){
            return new Promise((resolve, reject) => {
                const img = document.createElement('img');
                img.src = githubUserData.avatar_url;
                img.className = "promise-avatar-example";
                document.body.append(img);

                setTimeout(() => {
                    img.remove();
                    resolve(githubUserData);
                }, 3000);
            });
        }

        loadUserJson('/article/promise-chaining/user.json')
            .then(user => loadGithubUser(user.name))
            .then(showAvatar)
            .then(githubUserData => alert(`Finished showing ${githubUser.name}`));
        ```
    - Error handing with promises
      - å½“ promise è¢« rejectï¼Œæ§åˆ¶æƒå°±ç§»äº¤ç»™é“¾ä¸­æœ€è¿‘çš„ rejection å¤„ç†ç¨‹åºã€‚è¿™åœ¨å®é™…åº”ç”¨ä¸­å¾ˆæ–¹ä¾¿ã€‚
      - éšå¼ tryâ€¦catch, Promise æ‰§è¡Œï¼ˆexecutorï¼‰å’Œ promise å¤„ç†ï¼ˆhandlerï¼‰ç¨‹åºå‘¨å›´æœ‰ä¸€ä¸ªâ€œä¸å¯è§ try..catchâ€ã€‚å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œå®ƒä¼šè¢«æ•è·å¹¶è§†ä¸º rejectionã€‚
      - æ•è·æ‰€æœ‰é”™è¯¯æœ€ç®€å•çš„æ–¹æ³•æ˜¯åœ¨é“¾çš„æœ«ç«¯åŠ ä¸Š .catch
        ```
        fetch('/article/promise-chaining/user.json')
            .then(response => response.json())
            .then(user => fetch(`https://api.github.com/users/${user.name}`))
            .then(response => response.json())
            .then(githubUser => new Promise((resolve, reject) => {
                let img = document.createElement('img');
                img.src = githubUser.avatar_url;
                img.className = "promise-avatar-example";
                document.body.append(img);

                setTimeout(() => {
                img.remove();
                resolve(githubUser);
                }, 3000);
            }))
            .catch(error => alert(error.message));
        //é€šå¸¸æƒ…å†µä¸‹ .catch æ ¹æœ¬ä¸ä¼šè§¦å‘ï¼Œå› ä¸ºæ²¡æœ‰é”™è¯¯å‘ç”Ÿã€‚ä½†æ˜¯å¦‚æœä¸Šè¿°ä»»æ„ä¸€ä¸ª promise rejectï¼ˆç½‘ç»œé”™è¯¯æˆ–è€…ä¸åˆæ³•çš„ json ç­‰ç­‰ï¼‰ï¼Œå®ƒå°±ä¼šè¢«æ•è·ã€‚
        ```
      - é€šè¿‡è‡ªå®šä¹‰é”™è¯¯å‡†ç¡®å¤„ç†é”™è¯¯ç±»å‹å¹¶ä½œå‡ºæ­£ç¡®å¤„ç†
        - æˆ‘ä»¬åº”è¯¥å°† .catch å‡†ç¡®æ”¾åˆ°æˆ‘ä»¬æƒ³è¦å¤„ç†é”™è¯¯çš„ä½ç½®ï¼Œå¹¶çŸ¥é“å¦‚ä½•å¤„ç†å®ƒä»¬ã€‚å¤„ç†ç¨‹åºåº”è¯¥åˆ†æé”™è¯¯ï¼ˆå¯ä»¥è‡ªå®šä¹‰é”™è¯¯ç±»å¸®åŠ©åˆ†æï¼‰å¹¶ä¸”é‡æ–°æŠ›å‡ºæœªçŸ¥é”™è¯¯ã€‚
        ```
        class HttpError extends Error { // (1)
            constructor(response) {
                super(`${response.status} for ${response.url}`);
                this.name = 'HttpError';
                this.response = response;
            }
        } 
        function loadJson(url) { // (2)
            return fetch(url)
                .then(response => {
                    if (response.status == 200) {
                        return response.json();
                    } else {
                        throw new HttpError(response);
                    }
                })
        } 
        function demoGithubUser() {
            let name = prompt("Enter a name?", "iliakan");

            return loadJson(`https://api.github.com/users/${name}`)
                .then(user => {
                    alert(`Full name: ${user.name}.`);
                    return user;
                })
                .catch(err => {
                    if (err instanceof HttpError && err.response.status == 404) {
                        alert("No such user, please reenter.");
                        return demoGithubUser();
                    } else {
                        throw err; // (*)
                    }
                });
        }

        demoGithubUser();              
        ```
      - é‡æ–°æŠ›å‡ºï¼ˆRethrowingï¼‰
        - åœ¨å¸¸è§„ try..catch ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æé”™è¯¯ï¼Œå½“æˆ‘ä»¬æ— æ³•å¤„ç†çš„æ—¶å€™å¯èƒ½è¿˜ä¼šé‡æ–°æŠ›å‡ºï¼ˆrethrowï¼‰å®ƒã€‚å¯¹äº promise æ¥è¯´ä¹Ÿå¯ä»¥è¿™æ ·åšã€‚
        - å¦‚æœæˆ‘ä»¬åœ¨ .catch å†… throwï¼Œæ­¤æ—¶æ§åˆ¶ç§»äº¤åˆ°ä¸‹ä¸€ä¸ªæœ€è¿‘çš„é”™è¯¯å¤„ç†ç¨‹åºã€‚å¦‚æœæˆ‘ä»¬å¤„ç†é”™è¯¯å¹¶æ­£å¸¸å®Œæˆï¼Œé‚£ä¹ˆå®ƒå°†ç»§ç»­åˆ°æœ€è¿‘çš„æˆåŠŸçš„ .then å¤„ç†ç¨‹åº
        - åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° .catch çš„å¦ä¸€ç§æƒ…å†µã€‚(*) è¡Œçš„å¤„ç†ç¨‹åºæ•è·é”™è¯¯ä½†æ— æ³•å¤„ç†å®ƒï¼ˆä¾‹å¦‚ï¼Œå®ƒåªçŸ¥é“å¦‚ä½•å¤„ç† URIError é”™è¯¯ï¼‰ï¼Œæ‰€ä»¥å®ƒå†æ¬¡è¢«æŠ›å‡ºï¼š
        ```
        // æ‰§è¡Œï¼šcatch -> catch -> then
        new Promise((resolve, reject) => {
            throw new Error("Whoops!");
        }).catch(function(error) { // (*)
            if (error instanceof URIError) {
                // handle it
            } else {
                alert("Can't handle such error");
                throw error; // æŠ›å‡ºè¿™ä¸ªæˆ–è€…å…¶ä»–çš„é”™è¯¯è·³è½¬åˆ°ä¸‹ä¸€ä¸ª catch
            }
        }).then(function() {
            /* æ­¤å¤„ä¸ä¼šè¿è¡Œ */
        }).catch(error => { // (**)
            alert(`The unknown error has occurred: ${error}`);
            // ä¸ä¼šè¿”å›ä»»ä½•å†…å®¹ => æ­£å¸¸æ–¹å¼æ‰§è¡Œ
        });   
        //ç„¶åæ‰§è¡Œä»ç¬¬ä¸€ä¸ª .catch (*) è·³åˆ°é“¾ä¸­çš„ä¸‹ä¸€ä¸ª (**)     
        ```
      - æœªå¤„ç†çš„ rejections
        - å¦‚æœå‘ç”Ÿé”™è¯¯ä¸”æ²¡æœ‰ .catch æ•è·ï¼Œunhandledrejection å¤„ç†ç¨‹åºå°±ä¼šè¢«è§¦å‘å¹¶è·å–å…·æœ‰ç›¸å…³é”™è¯¯ä¿¡æ¯çš„ event å¯¹è±¡ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±èƒ½åšä¸€äº›å¤„ç†äº†ã€‚é€šå¸¸è¿™ç§é”™è¯¯æ˜¯ä¸å¯æ¢å¤çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å¥½çš„åŠæ³•æ˜¯å‘ŠçŸ¥ç”¨æˆ·æœ‰å…³é—®é¢˜çš„ä¿¡æ¯ï¼Œå¹¶å¯èƒ½å°†äº‹ä»¶æŠ¥å‘Šç»™æœåŠ¡å™¨
        - ä¾‹å­
        ```
        window.addEventListener('unhandledrejection', function(event) {
            // the event object has two special properties:
            alert(event.promise); // [object Promise] - äº§ç”Ÿé”™è¯¯çš„ promise
            alert(event.reason); // Error: Whoops! - æœªå¤„ç†çš„é”™è¯¯å¯¹è±¡
        });

        new Promise(function() {
            throw new Error("Whoops!");
        }); // æ²¡æœ‰ catch å¤„ç†é”™è¯¯        
        ```
      - åœ¨finallyä¸­ä½œå‡ºç›¸åº”ï¼Œå³ä½¿æ˜¯äº§ç”Ÿé”™è¯¯
        - æœ€åï¼Œå¦‚æœæˆ‘ä»¬æœ‰åŠ è½½æŒ‡ç¤ºï¼ˆload-indicationï¼‰ï¼Œ.finally æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¤„ç†ç¨‹åºï¼Œåœ¨ fetch å®Œæˆæ—¶åœæ­¢å®ƒ
        ```
        function demoGithubUser() {
            let name = prompt("Enter a name?", "iliakan");

            document.body.style.opacity = 0.3; // (1) å¼€å§‹æŒ‡ç¤ºï¼ˆindicationï¼‰

            return loadJson(`https://api.github.com/users/${name}`)
            .finally(() => { // (2) åœæ­¢æŒ‡ç¤ºï¼ˆindicationï¼‰
                document.body.style.opacity = '';
                return new Promise(resolve => setTimeout(resolve)); // (*)
            })
            .then(user => {
                alert(`Full name: ${user.name}.`);
                return user;
            })
            .catch(err => {
                if (err instanceof HttpError && err.response.status == 404) {
                    alert("No such user, please reenter.");
                    return demoGithubUser();
                } else {
                    throw err;
                }
            });
        }

        demoGithubUser()        
        ```

    - Promise API
      - Promise ç±»æœ‰ 5 ç§é™æ€æ–¹æ³•ï¼š
        - Promise.resolve(value)
          - `let promise = Promise.resolve(value);`
          - ç­‰ä»·äº`let promise = new Promise(resolve => resolve(value));` 
          - æ ¹æ®ç»™å®šå€¼è¿”å› resolved promiseã€‚
        - Promise.reject(error) â€“ æ ¹æ®ç»™å®šé”™è¯¯è¿”å› rejected promiseã€‚
        - Promise.all(promises) 
          - å‡è®¾æˆ‘æƒ³è¦å¹¶è¡Œæ‰§è¡Œå¤šä¸ª promiseï¼Œå¹¶ç­‰å¾…æ‰€æœ‰ promise å‡†å¤‡å°±ç»ªã€‚
          - `let promise = Promise.all([...promises...]);`
          - ä¾‹å­
          ```
            Promise.all([
                new Promise(resolve => setTimeout(() => resolve(1), 3000)), // 1
                new Promise(resolve => setTimeout(() => resolve(2), 2000)), // 2
                new Promise(resolve => setTimeout(() => resolve(3), 1000))  // 3
            ]).then(alert); 
            // 1,2,3 å½“ promise å°±ç»ªï¼šæ¯ä¸€ä¸ª promise å³æˆä¸ºæ•°ç»„ä¸­çš„ä¸€å‘˜  
            //è¯·æ³¨æ„ï¼Œå®ƒä»¬çš„ç›¸å¯¹é¡ºåºæ˜¯ç›¸åŒçš„ã€‚å³ä½¿ç¬¬ä¸€ä¸ª promise éœ€è¦å¾ˆé•¿çš„æ—¶é—´æ¥ resolveï¼Œä½†å®ƒä»ç„¶æ˜¯ç»“æœæ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªã€‚        
          ```
          - å®é™…åº”ç”¨ä¾‹å­
          ```
            let names = ['iliakan', 'remy', 'jeresig'];
            let requests = names.map(name => fetch(`https://api.github.com/users/${name}`));

            Promise.all(requests)
                .then(responses => {
                    // æ‰€æœ‰å“åº”éƒ½å°±ç»ªæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ˜¾ç¤º HTTP çŠ¶æ€ç 
                    for(let response of responses) {
                        alert(`${response.url}: ${response.status}`); // æ¯ä¸ª url éƒ½æ˜¾ç¤º 200
                    }

                    return responses;
                })
                // æ˜ å°„ response æ•°ç»„åˆ° response.json() ä¸­ä»¥è¯»å–å®ƒä»¬çš„å†…å®¹
                .then(responses => Promise.all(responses.map(r => r.json())))
                // æ‰€æœ‰ JSON ç»“æœéƒ½è¢«è§£æï¼šâ€œusersâ€ æ˜¯å®ƒä»¬çš„æ•°ç»„
                .then(users => users.forEach(user => alert(user.name)));          
          ```
          - ç­‰å¾…æ‰€æœ‰çš„ promise ä¸º resolve æ—¶è¿”å›å­˜æ”¾å®ƒä»¬ç»“æœçš„æ•°ç»„ã€‚å¦‚æœä»»æ„ç»™å®šçš„ promise ä¸º rejectï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå˜æˆ Promise.all çš„é”™è¯¯ç»“æœï¼Œæ‰€æœ‰çš„å…¶ä»–ç»“æœéƒ½ä¼šè¢«å¿½ç•¥ã€‚
            - ä¾‹å­
            ```
            //å¦‚æœå‡ºç°é”™è¯¯ï¼Œå…¶ä»– promise å°±ä¼šè¢«å¿½ç•¥
            Promise.all([
                new Promise((resolve, reject) => setTimeout(() => resolve(1), 1000)),
                new Promise((resolve, reject) => setTimeout(() => reject(new Error("Whoops!")), 2000)),
                new Promise((resolve, reject) => setTimeout(() => resolve(3), 3000))
            ]).catch(alert); // Error: Whoops!            
            ```
          - å¦‚æœä»»æ„ä¸€ä¸ª promise ä¸º rejectï¼ŒPromise.all è¿”å›çš„ promise å°±ä¼šç«‹å³ reject è¿™ä¸ªé”™è¯¯ã€‚
          - Promise.all(...) æ¥å—å¯è¿­ä»£çš„ promise é›†åˆï¼ˆå¤§éƒ¨åˆ†æƒ…å†µä¸‹æ˜¯æ•°ç»„ï¼‰ã€‚ä½†æ˜¯å¦‚æœè¿™äº›å¯¹è±¡ä¸­çš„ä»»æ„ä¸€ä¸ªä¸æ˜¯ promiseï¼Œå®ƒå°†ä¼šè¢«ç›´æ¥åŒ…è£…è¿› Promise.resolve
        - Promise.allSettled(promises) ï¼ˆæ–°æ–¹æ³•ï¼‰ â€“ ç­‰å¾…æ‰€æœ‰ promise resolve æˆ–è€… rejectï¼Œå¹¶ä»¥å¯¹è±¡å½¢å¼è¿”å›å®ƒä»¬ç»“æœæ•°ç»„ï¼š
            stateï¼šâ€˜fulfilledâ€™ æˆ– â€˜rejectedâ€™
            valueï¼ˆå¦‚æœ fulfilledï¼‰æˆ– reasonï¼ˆå¦‚æœ rejectedï¼‰
        - Promise.race(promises) â€“ ç­‰å¾…ç¬¬ä¸€ä¸ª promise è¢«è§£å†³ï¼Œå…¶ç»“æœ/é”™è¯¯å³ä¸ºç»“æœã€‚
          - `let promise = Promise.race(iterablePromise);`
          - ä¾‹å­,è¿™é‡Œçš„ç»“æœä¼šæ˜¯ 1
          ```
            Promise.race([
                new Promise((resolve, reject) => setTimeout(() => resolve(1), 1000)),
                new Promise((resolve, reject) => setTimeout(() => reject(new Error("Whoops!")), 2000)),
                new Promise((resolve, reject) => setTimeout(() => resolve(3), 3000))
            ]).then(alert); // 1  
            //åœ¨ç¬¬ä¸€ä¸ª promise è¢«è§£å†³ï¼ˆâ€œèµ¢å¾—æ¯”èµ›[wins the race]â€ï¼‰åï¼Œæ‰€æœ‰åé¢çš„ç»“æœ/é”™è¯¯éƒ½ä¼šè¢«å¿½ç•¥.
          ```

    - Promisification
      - PromisificationæŒ‡å°†ä¸€ä¸ªæ¥å—å›è°ƒçš„å‡½æ•°è½¬æ¢ä¸ºä¸€ä¸ªè¿”å› promise çš„å‡½æ•°ã€‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼ˆwrapper-functionï¼‰æ¥åšåŒæ ·çš„äº‹æƒ…ï¼Œåœ¨å†…éƒ¨è°ƒç”¨åŸæ¥çš„å‡½æ•°ï¼Œä½†è¿”å›ä¸€ä¸ª promiseã€‚
      - ä¾‹å­ï¼Œå°†loadScript(src, callback)è¿›è¡Œproisifyã€‚
        ```
        function loadScript(src, callback) {
            let script = document.createElement('script');
            script.src = src;

            script.onload = () => callback(null, script);
            script.onerror = () => callback(new Error(`Script load error for ${src}`));

            document.head.append(script);
        }

        // ç”¨æ³•ï¼š
        // loadScript('path/script.js', (err, script) => {...})        

        let loadScriptPromise = function(src) {
            return new Promise((resolve, reject) => {
                loadScript(scr, (err, script) => {
                    if(err){
                        return reject(err);
                    }
                    resolve(script);
                })
            });
        }
        // loadScriptPromise('path/script.js').then(...)
        ```
      - ç”±äºæˆ‘ä»¬å¯èƒ½éœ€è¦ promisify å¾ˆå¤šå‡½æ•°ï¼Œä½¿ç”¨ä¸€ä¸ªåŠ©æ‰‹ï¼ˆhelperï¼‰å¾ˆæœ‰æ„ä¹‰ã€‚promisify(f) æ¥å—ä¸€ä¸ªè¦è¢« promisify çš„å‡½æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªåŒ…è£…å‡½æ•°ã€‚
        ```
        let promisify = function(fn){
            return function(...args){
                return new Promise((resolve, reject) => {
                    let callback = function(err, res){
                        if(err){
                            return reject(err);
                        }
                        return resolve(res);
                    }
                    args.push(callback);
                    fn.call(this, ...args);
                });
            }
        }
        ```

    - Microtasks
      - Promise çš„å¤„ç†ç¨‹åºï¼ˆhandlersï¼‰.thenã€.catch å’Œ .finally éƒ½æ˜¯å¼‚æ­¥çš„ã€‚
      - Promiseå¾®ä»»åŠ¡é˜Ÿåˆ—
        - é˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºçš„ï¼šé¦–å…ˆè¿›å…¥é˜Ÿåˆ—çš„ä»»åŠ¡ä¼šé¦–å…ˆè¿è¡Œã€‚
        - å½“ä¸€ä¸ª promise å‡†å¤‡å°±ç»ªæ—¶ï¼Œå®ƒçš„ .then/catch/finally å¤„ç†ç¨‹åºå°±è¢«æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚ä½†æ˜¯ä¸ä¼šç«‹å³è¢«æ‰§è¡Œã€‚å½“ JavaScript å¼•æ“æ‰§è¡Œå®Œå½“å‰çš„ä»£ç ï¼Œå®ƒä¼šä»Microtaské˜Ÿåˆ—ä¸­è·å–ä»»åŠ¡å¹¶æ‰§è¡Œå®ƒã€‚
        - å¦‚æœæœ‰ä¸€ä¸ª promise é“¾å¸¦æœ‰å¤šä¸ª .then/catch/finallyï¼Œé‚£ä¹ˆå®ƒä»¬ä¸­æ¯ä¸€ä¸ªéƒ½æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒä¼šé¦–å…ˆæ’å…¥ä¸€ä¸ªé˜Ÿåˆ—ï¼Œåªæœ‰å½“å‰ä»£ç æ‰§è¡Œå®Œæ¯•è€Œä¸”å…ˆå‰çš„æ’å¥½é˜Ÿçš„å¤„ç†ç¨‹åºéƒ½å®Œæˆæ—¶æ‰ä¼šè¢«æ‰§è¡Œã€‚
      - Promise æœªå¤„ç†çš„ rejection
        - â€œæœªå¤„ç†çš„ rejectionâ€æ˜¯æŒ‡åœ¨ microtask é˜Ÿåˆ—ç»“æŸæ—¶æœªå¤„ç†çš„ promise é”™è¯¯ã€‚
            ```
            let promise = Promise.reject(new Error("Promise Failed!"));
            //promise.catch(err => alert('caught')); å¦‚æœåŠ ä¸Šè¿™æ®µä»£ç ï¼Œä¸‹é¢çš„é”™è¯¯å°±ä¸ä¼šè¢«è§¦å‘ï¼Œå› ä¸ºå·²ç»è¢«catchå¤„ç†è¿‡äº†

            // Promise Failed!
            window.addEventListener('unhandledrejection', event => alert(event.reason));
            ```
      - Promise å¤„ç†å§‹ç»ˆæ˜¯å¼‚æ­¥çš„ï¼Œå› ä¸ºæ‰€æœ‰ promise æ“ä½œéƒ½è¢«æ”¾å…¥å†…éƒ¨çš„â€œpromise jobsâ€é˜Ÿåˆ—æ‰§è¡Œï¼Œä¹Ÿè¢«ç§°ä¸ºâ€œå¾®ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆv8 æœ¯è¯­ï¼‰ã€‚
      - å› æ­¤ï¼Œ.then/catch/finally å¤„ç†ç¨‹åºæ€»æ˜¯åœ¨å½“å‰ä»£ç å®Œæˆåæ‰è¢«è°ƒç”¨ã€‚
      - å¦‚æœæˆ‘ä»¬éœ€è¦ç¡®ä¿ä¸€æ®µä»£ç åœ¨ .then/catch/finally ä¹‹åè¢«æ‰§è¡Œï¼Œæœ€å¥½å°†å®ƒæ·»åŠ åˆ° .then çš„é“¾å¼è°ƒç”¨ä¸­ã€‚
      - Event Loop ç®—æ³•
        1. å–å‡ºå®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ€å…ˆè¿›å…¥çš„taskå¹¶æ‰§è¡Œ
        2. æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ï¼Œå½“å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸ä¸ºç©ºçš„æ—¶å€™
          - å–å‡ºå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ€å…ˆè¿›å…¥çš„taskå¹¶æ‰§è¡Œ
        3. æ¸²æŸ“DOMå¦‚æœæœ‰ä»»ä½•å˜åŒ–å‘ç”Ÿ
        4. å¦‚æœå®ä»»åŠ¡é˜Ÿåˆ—ç©ºäº†ï¼Œç­‰å¾…ä¸‹ä¸€ä¸ªå®ä»»åŠ¡å‡ºç°
        5. å›åˆ°ç¬¬ä¸€æ­¥
      - å®ä»»åŠ¡
        - é€šè¿‡ä½¿ç”¨setTimeout(fn)åˆ›å»ºä¸€ä¸ªæ–°çš„å®ä»»åŠ¡
        - scriptæ ‡ç­¾/setTimeoutéƒ½æ˜¯å®ä»»åŠ¡
      - å®ä»»åŠ¡ç‰¹ç‚¹
        - å®ä»»åŠ¡å¯ä»¥ç”¨äºæ‹†åˆ†éœ€è¦å¤§é‡CPUè®¡ç®—çš„ä»»åŠ¡åˆ°å­ä»»åŠ¡ï¼Œæµè§ˆå™¨èƒ½å¤Ÿæœ‰æ—¶é—´æ¥å“åº”ç”¨æˆ·çš„äº‹ä»¶æˆ–è€…åœ¨å­ä»»åŠ¡æ‰§è¡ŒæœŸé—´æ˜¾ç¤ºè¿›åº¦ã€‚
        - åœ¨äº‹ä»¶å‡½æ•°ä¸­æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œåœ¨äº‹ä»¶å†’æ³¡ç»“æŸä¹‹åã€‚
      - ç”¨é€”
        - æ‹†åˆ†é«˜CPUè´Ÿè½½ä»»åŠ¡
        - è®©DOMæœ‰æ—¶é—´å»æ¸²æŸ“ä»»åŠ¡è¿›åº¦
        - å¼‚æ­¥åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶
      - å¾®ä»»åŠ¡
        - é€šè¿‡ä½¿ç”¨queueMicrotask(fn)åˆ›å»ºä¸€ä¸ªæ–°çš„å¾®ä»»åŠ¡
        - é€šè¿‡è¿”å›ä¸€ä¸ªpromiseå¯¹è±¡åˆ›å»ºä¸€ä¸ªæ–°çš„å¾®ä»»åŠ¡
        - promiseå¯¹è±¡çš„then/catch/finallyéƒ½æ˜¯å¾®ä»»åŠ¡
      - å¾®ä»»åŠ¡ç‰¹ç‚¹
        - Thereâ€™s no UI or network event handling between microtasks: they run immediately one after another.
        - åœ¨å¾®ä»»åŠ¡ä¹‹é—´æ²¡æœ‰UIæ¸²æŸ“æˆ–è€…äº‹ä»¶è§¦å‘å™¨ï¼Œä»–ä»¬ä¸€ä¸ªæ¥ä¸€ä¸ªçš„ç«‹å³æ‰§è¡Œ
      - Web Workers
        - å¯¹äºé‡CPUè´Ÿè½½çš„è¿ç®—è€Œä¸”ä¸æƒ³é˜»æ–­äº‹ä»¶å¾ªç¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Web Worker
        - è¿™æ˜¯ä¸€ç§åœ¨å¦ä¸€ä¸ªå¹¶è¡Œçº¿ç¨‹ä¸­æ‰§è¡Œä»£ç çš„æ–¹å¼
        - Web Workerå¯ä»¥å’Œä¸»çº¿ç¨‹é€šè®¯ï¼Œä½†æ˜¯ä»–ä»¬æœ‰è‡ªå·±çš„å˜é‡å’Œä»–ä»¬è‡ªå·±çš„äº‹ä»¶å¾ªç¯ã€‚
        - Web Workeræ²¡æœ‰è®¿é—®DOMçš„æƒé™ï¼Œä½†æ˜¯å¾ˆæœ‰ç”¨ï¼Œä¸»è¦ç”¨äºåŒæ—¶ä½¿ç”¨å¤šä¸ªCPUæ ¸å¿ƒè®¡ç®—ã€‚
      - å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡çš„åŒºåˆ«
        - Event loop: microtasks and macrotasks
          - Immediately after every macrotask, the engine executes all tasks from microtask queue, prior to running any other macrotasks or rendering or anything else.
          - åœ¨æ¯ä¸ªå®ä»»åŠ¡ä¹‹åï¼Œå¼•æ“ä¼šæ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œä¼˜å…ˆäºè¿è¡Œå…¶ä»–å®ä»»åŠ¡æˆ–è€…æ¸²æŸ“æˆ–å…¶ä»–ä»»ä½•äº‹æƒ…ã€‚
            - Sample
            ```
            setTimeout(() => alert("timeout"));

            Promise.resolve()
                .then(() => alert("promise"));

            alert("code");            
            ```
            è¾“å‡ºç»“æœæ˜¯code->promise->timeout
          - All microtasks are completed before any other event handling or rendering or any other macrotask takes place.
          - æ‰€æœ‰çš„å¾®ä»»åŠ¡åœ¨äº‹ä»¶è§¦å‘å™¨å’ŒDOMæ¸²æŸ“æˆ–è€…å…¶ä»–å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œå®Œæˆã€‚
          
    - Async/await
      - Async functions
        - asyncè¿™ä¸ªå•è¯è¡¨è¾¾äº†ä¸€ä¸ªç®€å•çš„äº‹æƒ…ï¼šå³è¿™ä¸ªå‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ª promise
        - åœ¨å‡½æ•°å‰é¢çš„ã€Œasyncã€è¿™ä¸ªå•è¯è¡¨è¾¾äº†ä¸€ä¸ªç®€å•çš„äº‹æƒ…ï¼šå³è¿™ä¸ªå‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ª promiseã€‚å³ä½¿è¿™ä¸ªå‡½æ•°å®é™…ä¸Šä¼šè¿”å›ä¸€ä¸ªé promise çš„å€¼ï¼Œå‡½æ•°å®šä¹‰å‰åŠ ä¸Šäº†ã€Œasyncã€å…³é”®å­—ä¼šæŒ‡ç¤º JavaScript å¼•æ“è‡ªåŠ¨å°†è¿”å›å€¼åŒ…è£…åœ¨ä¸€ä¸ªå·²å†³è®®ï¼ˆresolvedï¼‰çš„ promise å†…ã€‚
        ```
        async function f(){
            return 1;
        }
        f().then(alert); //1
        //asyncç¡®ä¿äº†å‡½æ•°è¿”å›å€¼æ˜¯ä¸€ä¸ªpromiseï¼Œä¹Ÿä¼šåŒ…è£…épromiseçš„å€¼ã€‚å®é™…ä¸Šä»£ç æ˜¯
        async function f(){
            return Promise.resolve(1);
        }
        f().then(alert); //1
        ```
        - async method in class
          - å¦‚æœæƒ³å®šä¹‰ä¸€ä¸ªasyncçš„ç±»æ–¹æ³•ï¼Œç›´æ¥åœ¨æ–¹æ³•å‰é¢åŠ ä¸Šasyncå°±å¯ä»¥äº†
          ```
          class Waiter{
              async wait(){
                  return await Promise.resolve(1);
              }
          }
          new Waiter().wait().then(alert); //1
          ```
      - Await
        - å…³é”®å­— await è®© JavaScript å¼•æ“ç­‰å¾…ç›´åˆ° promise å®Œæˆå¹¶è¿”å›ç»“æœï¼Œåªåœ¨ async å‡½æ•°ä¸­æœ‰æ•ˆã€‚
        - ç›¸æ¯” promise.then æ¥è·å– promise ç»“æœï¼Œè¿™åªæ˜¯ä¸€ä¸ªæ›´ä¼˜é›…çš„è¯­æ³•ï¼ŒåŒæ—¶ä¹Ÿæ›´å¯è¯»å’Œæ›´æ˜“ä¹¦å†™ã€‚
        - ä¾‹å­
        ```
        async function f(){
            let promise = new Promise((resolve, reject) => {
                setTimeout(() => resolve('done'), 1000);
            });
            let result = await promise; //è¿™ä¸ªå‡½æ•°åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œæš‚åœåœ¨äº†è¿™ä¸€è¡Œï¼Œå¹¶ä¸”å½“ promise å®Œæˆåï¼Œæ‹¿åˆ° result ä½œä¸ºç»“æœç»§ç»­å¾€ä¸‹æ‰§è¡Œã€‚æ‰€ä»¥ã€Œdone!ã€æ˜¯åœ¨ä¸€ç§’åæ˜¾ç¤ºçš„ã€‚
            alert(result); //"done"
        }
        f();
        ```
        await å­—é¢çš„æ„æ€å°±æ˜¯è®© JavaScript å¼•æ“ç­‰å¾…ç›´åˆ° promise çŠ¶æ€å®Œæˆï¼Œç„¶åä»¥å®Œæˆçš„ç»“æœç»§ç»­æ‰§è¡Œã€‚è¿™ä¸ªè¡Œä¸ºä¸ä¼šè€—è´¹ CPU èµ„æºï¼Œå› ä¸ºå¼•æ“å¯ä»¥åŒæ—¶å¤„ç†å…¶ä»–ä»»åŠ¡ï¼šæ‰§è¡Œå…¶ä»–è„šæœ¬ï¼Œå¤„ç†äº‹ä»¶ç­‰ã€‚
        - await ä¸èƒ½åœ¨é¡¶å±‚ä»£ç è¿è¡Œ
        ```
        (async () => {
            let response = await fetch('/article/promise-chaining/user.json');
            let user = await response.json();
            ...
        })();
        ```
      - Error Handling
        - ä½¿ç”¨try...catchæ•è·é”™è¯¯
        ```
        async function f() {
            try {
                let response = await fetch('http://no-such-url');
                let user = await response.json();
            } catch(err) {
                alert(err); // TypeError: failed to fetch
            }
        }
        f();        
        ```
        - ä½¿ç”¨promise.catch
        ```
        async function f() {
            let response = await fetch('http://no-such-url');
        }

        // f() å˜ä¸ºä¸€ä¸ªè¢«æ‹’ç»çš„ promise
        f().catch(alert); // TypeError: failed to fetch // (*)        
        ```
      - async/waitä¸Promise.allä¸€èµ·ä½¿ç”¨ï¼Œå½“æˆ‘ä»¬éœ€è¦ç­‰å¾…å¤šä¸ªpromiseæ—¶ï¼Œå¯ä»¥ä½¿ç”¨Promise.allæ¥åŒ…è£¹ä»–ä»¬ï¼Œç„¶åä½¿ç”¨await
        ```
        (async () => {
            let result = await Promise.all([
                fetch(url1),
                fetch(url2),
                fetch(url3),
                ...
            ]);
        })();
        ```
      - Microtask queue
        - Async/await æ˜¯åŸºäº promise çš„ï¼Œæ‰€ä»¥å®ƒå†…éƒ¨ä½¿ç”¨ç›¸åŒçš„å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå¹¶ä¸”ç›¸å¯¹å®ä»»åŠ¡æ¥è¯´å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§
        ```
        async function f() {
            return 1;
        }

        (async () => {
            setTimeout(() => alert('timeout'), 0);
            await f();
            alert('await');
        })();        
        ```
        await æ€»æ˜¯å…ˆå®Œæˆï¼Œå› ä¸ºï¼ˆä½œä¸ºå¾®ä»»åŠ¡ï¼‰å®ƒç›¸æ¯” setTimeout å…·æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚
      - æœ‰äº† async/await æˆ‘ä»¬å°±å‡ ä¹ä¸éœ€è¦ä½¿ç”¨ promise.then/catchï¼Œä½†æ˜¯ä¸è¦å¿˜äº†å®ƒä»¬æ˜¯åŸºäº promise çš„ï¼Œæ‰€ä»¥åœ¨æœ‰äº›æ—¶å€™ï¼ˆå¦‚åœ¨æœ€å¤–å±‚ä»£ç ï¼‰æˆ‘ä»¬å°±ä¸å¾—ä¸ä½¿ç”¨è¿™äº›æ–¹æ³•ã€‚

  - Generators, advanced iteration


  - Modules
    - Modules instruction
      - ä¼ ç»Ÿå®ç°æ¨¡å—çš„æ–¹å¼
        - AMD â€” æœ€å¤è€çš„æ¨¡å—åŒ–ç³»ç»Ÿï¼Œæœ€å¼€å§‹åº”ç”¨åœ¨ require.js è¿™ä¸ªåº“ä¸­
        - CommonJS â€” ä¸º Node.js åˆ›å»ºçš„æ¨¡å—åŒ–ç³»ç»Ÿ
        - UMD â€” å¦å¤–ä¸€ä¸ªæ¨¡å—åŒ–ç³»ç»Ÿï¼Œå»ºè®®ä½œä¸ºé€šç”¨çš„æ¨¡å—åŒ–ç³»ç»Ÿï¼Œå®ƒä¸ AMD å’Œ CommonJS éƒ½æ˜¯å…¼å®¹çš„ã€‚
      - ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿ
        - æ¨¡å—ä»…ä»…æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªè„šæœ¬è€Œå·²ï¼Œå®ƒå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ç”¨ä¸€äº›å…³é”®å­—æ¯”å¦‚ export å’Œ import æ¥äº¤æ¢æ¨¡å—ä¹‹é—´çš„åŠŸèƒ½ï¼ˆfunctionalityï¼‰æˆ–è€…ä»ä¸€ä¸ªæ¨¡å—ä¸­è°ƒç”¨å¦ä¸€ä¸ªæ¨¡å—ä¸­çš„å‡½æ•°ã€‚
        - export å…³é”®å­—è¡¨ç¤ºåœ¨å½“å‰æ¨¡å—ä¹‹å¤–å¯ä»¥è®¿é—®çš„å˜é‡å’ŒåŠŸèƒ½ã€‚å°±æ˜¯å¯¼å‡ºæ¨¡å—çš„æ„æ€ã€‚
        - import å…³é”®å­—å…è®¸ä»å…¶ä»–æ¨¡å—ä¸­å¯¼å…¥ä¸€äº›è¯¸å¦‚å‡½æ•°ä¹‹ç±»çš„åŠŸèƒ½ç­‰ç­‰ã€‚
      - æ¨¡å—çš„ç‰¹ç‚¹
        - æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„é¡¶çº§ä½œç”¨åŸŸï¼ˆtop-level scopeï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œä¸€ä¸ªæ¨¡å—ä¸­çš„é¡¶çº§ä½œç”¨åŸŸå˜é‡å’Œå‡½æ•°åœ¨å…¶ä»–è„šæœ¬ä¸­æ˜¯ä¸å¯è§çš„
        - æ¨¡å—åªæ‰§è¡Œä¸€æ¬¡ã€‚ç”Ÿæˆå¯¼å‡ºï¼Œç„¶ååœ¨å¯¼å…¥çš„ä½ç½®å…±äº«åŒä¸€ä¸ªå¯¼å‡ºï¼Œå½“åœ¨æŸä¸ªä½ç½®ä¿®æ”¹äº† admin å¯¹è±¡ï¼Œåœ¨å…¶ä»–æ¨¡å—ä¸­æ˜¯å¯ä»¥çœ‹åˆ°ä¿®æ”¹çš„ã€‚
        - åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œé¡¶çº§ this æ˜¯æœªå®šä¹‰çš„ï¼Œè€Œä¸æ˜¯åƒéæ¨¡å—è„šæœ¬ä¸­çš„å…¨å±€å˜é‡ã€‚
        - å¤–éƒ¨æ¨¡å—è„šæœ¬ <script type="module" src="..."> ä¸ä¼šé˜»å¡ HTML çš„è§£æï¼Œå®ƒä»¬ä¸å…¶ä»–èµ„æºå¹¶è¡ŒåŠ è½½ã€‚
        - ç›´åˆ° HTML æ–‡æ¡£å®Œå…¨è§£ææ¸²æŸ“åï¼ˆå³ä½¿æ¨¡å—è„šæœ¬æ¯” HTML å…ˆåŠ è½½å®Œæˆï¼‰ï¼Œæ¨¡å—è„šæœ¬æ‰ä¼šå¼€å§‹è¿è¡Œã€‚
        - ä¸å…è®¸è£¸æ¨¡å—ï¼ˆâ€œbareâ€ modulesï¼‰
          - åœ¨æµè§ˆå™¨ä¸­ï¼Œå¿…é¡»ç»™ä¸ import ä¸€ä¸ªç›¸å¯¹æˆ–è€…ç»å¯¹çš„ URLã€‚æ²¡æœ‰ç»™å®šè·¯å¾„çš„æ¨¡å—è¢«ç§°ä½œâ€œè£¸â€æ¨¡å—ã€‚import ä¸­ä¸å…è®¸ä½¿ç”¨è¿™äº›æ¨¡å—ã€‚
          - åœ¨å…·ä½“ç¯å¢ƒæœ‰æ‰€ä¸åŒï¼Œæ¯”å¦‚ Node.js æˆ–è€…æ‰“åŒ…å·¥å…·ä¸­æ˜¯å¯ä»¥ä½¿ç”¨è£¸æ¨¡å—çš„ï¼Œå› ä¸ºå®ƒä»¬æœ‰è‡ªå·±çš„æŸ¥æ‰¾æ¨¡å—å’Œé’©å­çš„æ–¹æ³•ã€‚ä½†æ˜¯ç›®å‰æµè§ˆå™¨è¿˜ä¸æ”¯æŒè£¸æ¨¡å—ã€‚
      - æ„å»ºå·¥å…·
        - åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæµè§ˆå™¨æ¨¡å—å¾ˆå°‘ä»¥åŸå§‹å½¢å¼ä½¿ç”¨ï¼Œé€šå¸¸ï¼Œæˆ‘ä»¬ç”¨ä¸€äº›ç‰¹æ®Šå·¥å…·ï¼Œåƒ Webpackï¼Œå°†ä»–ä»¬æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç„¶åéƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚
        - ä½¿ç”¨æ‰“åŒ…å·¥å…·çš„ä¸€ä¸ªå¥½å¤„æ˜¯â€”â€”å®ƒä»¬å¯¹äºå¦‚ä½•è§£ææ¨¡å—ç»™ä¸äº†è¶³å¤Ÿå¤šçš„æ§åˆ¶ï¼Œæ¯”å¦‚å…è®¸ä½¿ç”¨è£¸æ¨¡å—ï¼Œä»¥åŠ CSS/HTML æ¨¡å—ç­‰ç­‰ã€‚
        - æ„å»ºå·¥å…·å®Œæˆçš„äº‹æƒ…
          - ç”¨æ‰“åŒ…å‡½æ•°æ›¿æ¢æ‰åŸç”Ÿçš„ import è°ƒç”¨ï¼Œç”Ÿæˆä¸€ä¸ªï¼ˆæˆ–è€…å¤šä¸ªï¼Œè¿™æ˜¯å¯è°ƒçš„ï¼‰å…·æœ‰æ‰€æœ‰æ¨¡å—çš„æ–‡ä»¶ï¼Œè¿™å°±æ˜¯æ‰“åŒ…å·¥å…·çš„å·¥ä½œã€‚ç‰¹æ®Šçš„æ¨¡å—ç±»å‹ï¼Œæ¯”å¦‚ HTML/CSS æ¨¡å—ä¹Ÿæ˜¯å¯ä»¥è¿™æ ·åšçš„ã€‚
          - åˆ é™¤æ— æ³•è®¿é—®çš„ä»£ç 
          - åˆ é™¤æœªä½¿ç”¨çš„å¯¼å‡ºï¼ˆâ€œtree-shakingâ€ï¼‰
          - åˆ é™¤å¼€å‘ä¸­ä½¿ç”¨çš„å¦‚ console å’Œ debugger è¿™æ ·çš„è¯­å¥
          - ä½¿ç”¨ Babel å¯ä»¥å°†ç°ä»£çš„ï¼Œå‰æ²¿çš„ JavaScript è¯­æ³•è½¬æ¢ä¸ºå…·æœ‰ç±»ä¼¼åŠŸèƒ½çš„æ—§è¯­æ³•
          - æœ€ç»ˆç”Ÿæˆå‹ç¼©æ–‡ä»¶ï¼ˆåˆ é™¤æ— ç”¨ç©ºæ ¼ï¼Œå˜é‡ç”¨çŸ­çš„åå­—æ›¿æ¢ç­‰ï¼‰
        - å¦‚ä½•ä½¿ç”¨Babelå’ŒWebpackæ„å»ºES6å¼€å‘ç¯å¢ƒ
          - é¦–å…ˆé€šè¿‡npm initåˆå§‹åŒ–é¡¹ç›®
          - ç„¶åå®‰è£…webpack
            - webpacké€šè¿‡æŒ‡å®šçš„webpack.config.jsæ–‡ä»¶ä¸­æŒ‡å®šçš„entryæ–‡ä»¶ï¼Œåˆ†æå¼•å…¥çš„æ¨¡å—ï¼Œå¹¶æ‰§è¡Œloaderçš„åŒ¹é…è§„åˆ™ï¼Œå¯¹ç›¸åº”çš„æ–‡ä»¶ä½œå‡ºå¤„ç†å¹¶æ‰“åŒ…è¿”å›åˆ°æŒ‡å®šçš„outputç›®å½•ã€‚
            - æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ä¸åŒçš„loaderå¯¹æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œä¾‹å¦‚ä½¿ç”¨Babel-loaderå¯¹ES6/ES7è¿›è¡Œç¼–è¯‘æˆå¸¦æœ‰polyfillçš„ES5çš„ä»£ç æé«˜æµè§ˆå™¨å…¼å®¹æ€§ã€‚
            - Webpackååˆ†é€‚åˆåœ¨Single Page Applicationä¸­ä½¿ç”¨
            - å®‰è£…æ–¹æ³•
              - `npm install webpack --save-dev`
              - ä¿®æ”¹package.jsonæ–‡ä»¶ä¸­çš„scriptså±æ€§ï¼Œæ·»åŠ webpackçš„å¼€å‘watchå‘½ä»¤å’Œæ‰“åŒ…ç¼–è¯‘buildå‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤éƒ½å¯ä»¥é€šè¿‡æŒ‡å®šå‚æ•°æ¥ç”Ÿæˆçš„å¼€å‘ç¯å¢ƒæˆ–è€…æ­£å¼äº§å“ç¯å¢ƒçš„ä»£ç ã€‚
                ```
                "scripts": {
                    "build": "webpack -p",
                    "watch": "webpack --watch"
                },                
                ```
                é€šè¿‡åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ`npm run build`å°±å¯ä»¥æ‰§è¡Œwebpackçš„ç”Ÿäº§ç¯å¢ƒçš„ç¼–è¯‘æ‰“åŒ…
                é€šè¿‡åœ¨å‘½ä»¤è¡Œæ‰§è¡Œ`npm run watch`å°±å¯ä»¥æ‰§è¡Œå˜å¼€å‘å˜è°ƒè¯•ï¼Œå½“ä»£ç æ›´æ–°æ—¶è‡ªåŠ¨ç¼–è¯‘ã€‚
            - webpack.confg.js webpackçš„é…ç½®æ–‡ä»¶ï¼Œwebpacké€šè¿‡å®ƒæ¥è¿›è¡Œåˆå§‹åŒ–
              - ä¾‹å­
              ```
                var path = require('path');

                module.exports = {
                    entry: './assets/js/index.js', //åº”ç”¨ç¨‹åºå…¥å£æ–‡ä»¶ï¼Œç”¨æ¥åˆ†æimportæ¨¡å—
                    output: {
                        filename: 'bundle.js', //æ‰“åŒ…è¾“å‡ºçš„æ–‡ä»¶å
                        path: path.resolve(__dirname, 'dist') //æ‰“åŒ…è¾“å‡ºçš„ç›®å½•
                    },
                    // æ·»åŠ çš„loaderæ¨¡å—
                    module: {
                        rules: [{
                            test: /\.js$/, // Run the loader on all .js files
                            exclude: /node_modules/, // ignore all files in the node_modules folder
                            use: 'jshint-loader'
                        }]
                    }
                };
              ```
          - å®‰è£…babel-loader
            - å®‰è£…æ–¹æ³•
            ```
            npm install --save-dev babel-core babel-loader babel-preset-env
            ```
          - NPMå‘½ä»¤å°ç»“
            - --save/-d å®‰è£…é¡¹ç›®ä¾èµ–
            - --save-dev/-D å®‰è£…å¼€å‘ä¾èµ–
            - npm run nameInPackageScripts æ‰§è¡Œpackage.jsonä¸­å¯¹åº”çš„å‘½ä»¤è¡Œ

    - Export and import
      - å£°æ˜å‰å¯¼å‡º
        - å¯¼å‡ºæ•°ç»„
        ```
        export const month = ['Jan', 'Feb', 'Mar', 'Apr', 'Aug', 'Sep', ...];
        ```
        - å¯¼å‡ºå¸¸é‡
        ```
        export const MODULES_STANDARD_YEAR = 2015;
        ```
        - å¯¼å‡ºç±»
        ```
        export class User{
            constructor(name){
                this.name = name;
            }
        }
        ```
        - å¯¼å‡ºç±»/å‡½æ•°åæ²¡æœ‰åˆ†å·ï¼Œä¸è¦åœ¨å‡½æ•°å’Œç±»çš„å£°æ˜åä½¿ç”¨åˆ†å·ã€‚
        ```
        export function sayHi(user) {
            alert(`Hello, ${user}!`);
        }  // no ; at the end
        ```

      - å£°æ˜åå¯¼å‡º
        - ä¾‹å­ï¼Œå…ˆå£°æ˜å‡½æ•°å†å¯¼å‡º
            ```
            function sayHi(user) {
                alert(`Hello, ${user}!`);
            }

            function sayBye(user) {
                alert(`Bye, ${user}!`);
            }

            export {sayHi, sayBye}; // å¯¼å‡ºå˜é‡åˆ—è¡¨            
            ```

      - å¯¼å…¥æ‰€æœ‰`import * as <obj>`
        - æ™®é€šå¯¼å…¥
            ```
            import {sayHi, sayBye } from './say';
            sayHi('John'); // Hello, John!
            sayBye('John'); // Bye, John!
            ```
        - å…¨éƒ¨å¯¼å…¥
            ```
            import * as say from './say';
            say.sayHi('John');
            say.sayBye('John');
            ```
        - tree-shakingæŠ€æœ¯ä¼˜åŒ–å¯¼å…¥
          - â€œé€šé€šå¯¼å…¥â€çœ‹èµ·æ¥å¾ˆé…·ï¼Œè¯­æ³•ä¹Ÿå¾ˆçŸ­ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸ä¸ºä»€ä¹ˆè¦æ˜ç¡®åˆ—å‡ºæˆ‘ä»¬éœ€è¦å¯¼å…¥çš„å†…å®¹ï¼Ÿ
          - ç°åœ¨çš„æ„å»ºå·¥å…·ï¼ˆwebpack æˆ–è€…å…¶ä»–çš„ï¼‰æŠŠæ¨¡å—æ‰“åŒ…åˆ°ä¸€èµ·ï¼Œç„¶åå¯¹å…¶è¿›è¡Œä¼˜åŒ–ä»¥è·å¾—æ›´å¿«çš„åŠ è½½é€Ÿåº¦ï¼Œå¹¶ä¸”è¿˜ä¼šåˆ é™¤æ— ç”¨çš„ä»£ç â€¦ç„¶åï¼Œæ‰“åŒ…å·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹ä¼˜åŒ–å®ƒï¼Œå¹¶ä¸”åœ¨æ‰“åŒ…æ–‡ä»¶ä¸­å®Œå…¨åˆ é™¤å…¶ä»–æ— ç”¨çš„å‡½æ•°ä»¥ä½¿å¾—æ‰“åŒ…åçš„æ–‡ä»¶æ›´å°ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œtree-shakingâ€æŠ€æœ¯
          - æ˜ç¡®åˆ—å‡ºè¦å¯¼å…¥çš„å†…å®¹ä¼šä½¿å¾—åç§°è¾ƒçŸ­ï¼šsayHi() å–ä»£ lib.sayHi()ã€‚
          - æ˜¾ç¤ºå¯¼å…¥å¯ä»¥æ›´å¥½çš„æ¦‚è¿°ä»£ç ç»“æ„ï¼šåœ¨å“ªé‡Œä½¿ç”¨äº†ä»€ä¹ˆã€‚å®ƒä½¿å¾—ä»£ç é˜…è¯»å’Œé‡æ„æ›´å®¹æ˜“

      - å¯¼å…¥ä¸ºåˆ«å`import as`
        - æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ as è®©å¯¼å…¥å…·æœ‰ä¸åŒçš„åå­—ã€‚
            ```
            import { sayHi as hi, sayBye as bye } from './say';
            hi('John'); // Hello, John!
            bye('John'); // Bye, John!            
            ```

      - å¯¼å‡ºä¸ºåˆ«å`export as`
        - ç°åœ¨ hi å’Œ bye æ˜¯åœ¨å¤–é¢ä½¿ç”¨æ—¶çš„æ­£å¼åç§°
            ```
            //say.js
            export {sayHi as hi, sayBye as bye};
            ...
            //main.js
            import * as say from './say.js';
            say.hi('John'); // Hello, John!
            say.bye('John'); // Bye, John!            
            ```

      - é»˜è®¤å¯¼å‡º
        - ä¸ç”¨èŠ±æ‹¬å·çš„å¯¼å…¥çœ‹èµ·æ¥å¾ˆé…·ã€‚å¼€å§‹ä½¿ç”¨æ¨¡å—æ—¶å¸¸è§çš„é”™è¯¯å°±æ˜¯å¿˜è®°èŠ±æ‹¬å·ã€‚æ‰€ä»¥è¯·è®°ä½ï¼Œå‘½åå¯¼å…¥éœ€è¦ä½¿ç”¨èŠ±æ‹¬å·ï¼Œè€Œé»˜è®¤å¯¼å…¥ä¸éœ€è¦ã€‚
        - å‘½åå¯¼å‡ºå¿…é¡»ï¼ˆç†åº”ï¼‰å…·æœ‰åç§°ï¼Œè€Œ export default å¯èƒ½æ˜¯åŒ¿åçš„ï¼ˆæ²¡æœ‰åç§°ï¼‰
          - ä¸‹é¢è¿™äº›éƒ½æ˜¯å®Œå…¨æœ‰æ•ˆçš„é»˜è®¤å¯¼å‡º
          ```
            export default class { // æ²¡æœ‰ç±»å
                constructor() { ... }
            }

            export default function(user) { // æ²¡æœ‰å‡½æ•°å
                alert(`Hello, ${user}!`);
            }

            // å¯¼å‡ºä¸€ä¸ªå€¼è€Œä¸ä½¿ç”¨å˜é‡
            export default ['Jan', 'Feb', 'Mar','Apr', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];          
          ```
        - é»˜è®¤å¯¼å‡ºåˆ«å
          - â€œdefaultâ€å…³é”®è¯ç”¨äºé»˜è®¤å¯¼å‡ºçš„åˆ«åï¼Œå¸¸ç”¨äºæˆ‘ä»¬éœ€è¦å¼•ç”¨å•ç‹¬å¯¼å‡ºå’Œå…¶ä»–è„šæœ¬çš„æƒ…å†µã€‚
          ```
            function sayHi(user) {
                alert(`Hello, ${user}!`);
            }

            export {sayHi as default}; // å’Œæˆ‘ä»¬åœ¨å‡½æ•°å‰æ·»åŠ â€œexport defaultâ€ä¸€æ ·          
          ```
          - å‡è®¾æ¨¡å— user.js å¯¼å‡ºä¸€ä¸ªé»˜è®¤å¯¼å‡ºâ€œdefaultâ€å’Œå‡ ä¸ªå‘½åå¯¼å‡ºï¼ˆè™½ç„¶å¾ˆå°‘å‡ºç°ï¼Œä½†æ˜¯ä¼šå‘ç”Ÿï¼‰ï¼š
            ```
            //user.js
            export default class User {
                constructor(name) {
                    this.name = name;
                }
            }

            export function sayHi(user) {
                alert(`Hello, ${user}!`);
            }
            //main.js
            import {default as User, sayHi} from './user.js';

            new User('John');         
            ```
      - å…³äºé»˜è®¤å¯¼å‡ºå’Œå‘½åå¯¼å‡ºçš„é€‰æ‹©
        - å¼€å‘è€…åº”è¯¥è°¨æ…ä½¿ç”¨é»˜è®¤å¯¼å‡ºï¼Œå› ä¸ºè¿™å°†ä¼šä½¿ä»£ç æ›´éš¾ç»´æŠ¤ã€‚
        - åœ¨ä»»ä½•åœ°æ–¹éƒ½ä½¿ç”¨å‘½åå¯¼å‡ºã€‚å³ä½¿åªå¯¼å‡ºä¸€ä¸ªä¸œè¥¿ï¼Œä¹Ÿä»ç„¶ä½¿ç”¨å‘½åå¯¼å‡ºï¼Œè€Œä¸æ˜¯é»˜è®¤å¯¼å‡º defaultã€‚
      - Re-export
        - â€œRe-exportâ€è¯­æ³• export ... from ... å…è®¸ç›´æ¥å¯¼å‡ºåˆšåˆšå¯¼å…¥çš„å†…å®¹ï¼ˆå¯èƒ½æ˜¯å…¶ä»–åå­—ï¼‰ï¼Œå°±åƒè¿™æ ·
        ```
        export {sayHi} from './say.js';
        export {default as User} from './user.js';        
        ```
      - è¯·æ³¨æ„åœ¨ {...} ä¸­çš„å¯¼å…¥/å¯¼å‡ºè¯­å¥æ— æ•ˆã€‚

    - Dynamic imports
      - import(module) å‡½æ•°
        - æ³¨æ„è¿™é‡Œæ˜¯ä¸€ä¸ªimportå‡½æ•°ï¼Œå¹¶ä¸æ˜¯é™æ€çš„å¯¼å…¥å‘½ä»¤ã€‚é™æ€çš„importçš„æ¨¡å—è·¯å¾„å¿…é¡»æ˜¯åŸå§‹ç±»å‹å­—ç¬¦ä¸²ï¼Œä¸èƒ½æ˜¯å‡½æ•°è°ƒç”¨ã€‚
        - import(module)å‡½æ•°å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ï¼Œå®ƒè¿”å›ä¸€ä¸ªè§£æä¸ºæ¨¡å—å¯¹è±¡çš„Promise
        - æ™®é€šPromiseå¯¹è±¡è°ƒç”¨
        ```
        import('modulePath')
            .then(moduleObj => ...)
            .catch(err => loading error...)
        ```
        - asyncå‡½æ•°è°ƒç”¨
        ```
        async function load(){
            const module = await import('modulePath');
            module.method();
        }
        ```


- Document
  - Browser
    - æµè§ˆå™¨ç¯å¢ƒä¸­Javascriptè¿è¡Œç¯å¢ƒ
      - DOM
        DOMæ˜¯æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼Œå®ƒæä¾›äº†æˆ‘ä»¬é€šè¿‡Javacriptè®¿é—®HTMLé¡µé¢(HTMl Elementå¯¹è±¡)å†…å®¹çš„èƒ½åŠ›ã€‚

      - BOM
        BOMæ˜¯æµè§ˆå™¨å¯¹è±¡ï¼Œæä¾›äº†å¾ˆå¤šæ–¹æ³•ç”¨äºè®¿é—®æ–‡æ¡£ä¹‹å¤–å…³äºæµè§ˆå™¨çš„ä¿¡æ¯
        - Navigatorå¯¹è±¡
          æä¾›äº†æœ‰å…³æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿç›¸å…³ä¿¡æ¯ã€‚ä¾‹å¦‚å¸¸ç”¨çš„navigator.userAgentçš„å¯¹è±¡
        - Locationå¯¹è±¡
          æä¾›äº†å¯¹äºå½“å‰é¡µé¢URLç›¸å…³çš„å¤„ç†
        - Historyå¯¹è±¡
          æä¾›äº†ä¸€äº›å¯¹äºæµè§ˆå™¨å†å²è®°å½•çš„æ“ä½œæ–¹æ³•
        - å…¶ä»–æ–¹æ³•å’Œå±æ€§ ä¾‹å¦‚ä¸€äº›windowä¸‹çš„å…¨å±€æ–¹æ³•ï¼Œalert/confirm/setTimeout...

      - Javascript Core
        - Javascriptå†…ç½®å¯¹è±¡
          - Array
          - Object
          - String
          - Number
          - Math
          - Regexp
          - Function
  
      - CSSOM
        - CSSOM for Styling CSSæ ·å¼è¡¨çš„å¯¹è±¡ï¼ŒCSSè§„åˆ™æ˜¯é™æ€çš„ï¼Œå¾ˆå°‘ç”¨åˆ°ï¼Œå®ƒä¸DOMçš„stylingä¸€èµ·ä½œç”¨äºDOMå¯¹è±¡æ¸²æŸ“é¡µé¢æ ·å¼
  
  - DOM Tree
    - æ ¹æ®HTMLæ ‡ç­¾ç”ŸæˆDOMå¯¹è±¡ç»„æˆçš„æ ‘æ¡©æ•°æ®ç»“æ„å°±æ˜¯DOM Tree
    - DOMèŠ‚ç‚¹ç±»å‹
      - documentç±»å‹ 9
      - å…ƒç´ èŠ‚ç‚¹ 1
      - æ–‡æœ¬èŠ‚ç‚¹ 3
      - æ³¨é‡ŠèŠ‚ç‚¹
  
  - Walking the DOM 
    - åœ¨DOM tree ä¹‹é—´è¡Œèµ°çš„api
      - é¡¶å±‚èŠ‚ç‚¹document -> document.documentElement -> document.body -> DIVs
      - è®¿é—®å…ƒç´ çš„æ–¹æ³•(åŒ…å«ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹å’Œæ³¨é‡ŠèŠ‚ç‚¹)
        - è®¿é—®å…ƒç´ å­èŠ‚ç‚¹
          - childNodes
            è¿”å›çš„æ˜¯HTMLCollectionå®æ—¶åªè¯»å¯¹è±¡, å¯ä»¥ä½¿ç”¨for oféå†è¿™ä¸ªå¯è¿­ä»£å¯¹è±¡
          - firstChild
          - lastChild
        - è®¿é—®å…ƒç´ çš„çˆ¶èŠ‚ç‚¹
          - parentNode
        - è®¿é—®å…ƒç´ çš„å…„å¼ŸèŠ‚ç‚¹
          - previousSibling
          - nextSibling
      - è®¿é—®æ ‡ç­¾å…ƒç´ èŠ‚ç‚¹, åªè®¿é—®å…ƒç´ èŠ‚ç‚¹ï¼Œæ¯”è¾ƒå¸¸ç”¨
        - å­å…ƒç´ 
          - children
          - firstElementChild
          - lastElementChild
        - å…„å¼Ÿå…ƒç´ 
          - previousElementSibling
          - nextElementSibling
        - çˆ¶å…ƒç´ 
          - parentElement
      - ç‰¹æ®Šçš„table
        - table.rows æ‰€æœ‰trçš„é›†åˆ
        - table.tBodies æ‰€æœ‰tbodyå…ƒç´ çš„é›†åˆ
        - table.tHead/table.tFoot
        - tr.cells åœ¨trä¸‹tdå’Œthçš„é›†åˆ
        - tr.rowIndex åœ¨è¡¨æ ¼ä¸­trå…ƒç´ çš„ç´¢å¼•
        - td.cellIndex åœ¨trä¸­tdçš„ç´¢å¼•

  - Searching DOM Method: document.getElement*/document.querySelector*
    - DOM Selector
      - document.getElementById(id)
      - document.getElementsByName(name) è¿”å›çš„æ˜¯å®æ—¶é›†åˆ
      - element.getElementsByTagName(tagName) è¿”å›çš„æ˜¯å®æ—¶é›†åˆ
      - element.getElementsByClassName(className) è¿”å›çš„æ˜¯å®æ—¶ç»“åˆ
      - element.querySelector(cssSelector)
      - element.querySelectorAll(cssSelector)
    - DOM Filter
      - element.matches(cssSeletor) é€šå¸¸ç”¨äºç­›é€‰å…ƒç´ å­é›†è¿›è¡Œåˆ¤æ–­
      - element.closest(cssSelector) åŒ¹é…ä¸é€‰æ‹©å™¨æœ€è¿‘çš„ç¥–å…ˆå…ƒç´ ï¼ŒåŒ…æ‹¬å…¶æœ¬èº«
      - elementA.contains(elementB) æ£€æŸ¥å…ƒç´ Bæ˜¯å¦æ˜¯å…ƒç´ Açš„å­ä»£

  - Node Properties: type/tag/contents
    - DOMå±‚æ¬¡ç»“æ„
      - Objectå¯¹è±¡
        - EventTarget æŠ½è±¡ç±»ï¼Œæä¾›äº‹ä»¶æ”¯æŒ
          - Node æŠ½è±¡ç±»ï¼Œæä¾›æ ‘çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œéå†æ ‘çš„èŠ‚ç‚¹
            - Text
            - ELement DOMå…ƒç´ çš„åŸºç±»ï¼Œéå†å…ƒç´ çš„æ–¹æ³•ï¼Œä»¥åŠæœç´¢å…ƒç´ çš„æ–¹æ³•
              - HTMLElement HTMLå…ƒç´ çš„æ–¹æ³•getter setter
                - HTMLBodyElement `<body>`å…ƒç´ åŸºç±»
                - HTMLInputElement `<input>`å…ƒç´ åŸºç±»
                - HTMLAnchorElement `<a>`å…ƒç´ åŸºç±»
              - SVGElement
            - Comment
    - Node.nodeType
      - èŠ‚ç‚¹ç±»å‹ 1å…ƒç´  3æ–‡æœ¬ åªè¯»
    - Node.nodeName
      - èŠ‚ç‚¹åç§°
    - Node.tagName
      - å¤§å†™çš„å…ƒç´ æ ‡ç­¾åï¼Œæ³¨æ„è¿™é‡Œæ˜¯å¤§å†™ï¼Œé€šå¸¸ä½¿ç”¨node.tagName.toLowerCase()è½¬æ¢æˆå°å†™å†è¿›è¡Œå¯¹æ¯”
    - Element.innerHTML
      - HTMLå…ƒç´ å†…å®¹ï¼Œå¯ä¿®æ”¹
    - Element.outerHTML
      - å®Œæ•´çš„å…ƒç´ çš„HTML
    - Element.nodeValue/data
      - éå…ƒç´ èŠ‚ç‚¹å†…å®¹ï¼Œæ–‡æœ¬ï¼Œå¯ä¿®æ”¹
    - Element.textContent
      - å…ƒç´ ä¸­çš„æ–‡æœ¬ï¼Œå¯ä¿®æ”¹ï¼Œç”¨äºå®‰å…¨åœ°æ’å…¥ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬
    - Element.hidden
      - éšè—æˆ–è€…æ˜¾ç¤ºå…ƒç´ 
  
  - Attributes and Properties
    - Attributesåœ¨HTMLæ ‡ç­¾ä¸­
    - Propertiesåœ¨DOMå¯¹è±¡ä¸­ï¼Œå¯ä»¥é€šè¿‡element[propertyName]è®¿é—®
    - DOMå±æ€§çš„ç±»å‹ stringæˆ–è€…boolean
      - å³ä½¿æ˜¯æ•°å­—å­˜å‚¨çš„æ—¶å€™ä¹Ÿæ˜¯ä»¥stringçš„å½¢å¼
    - dataset
      - å¯ä»¥é€šè¿‡element.dataset[attributeName]ç›´æ¥è®¿é—®åˆ°html tagä¸Šçš„`data-attribute-name`çš„å€¼
    - æ£€æŸ¥HTMLæ ‡ç­¾çš„attribute
      - elem.hasAttribute(name)
      - elem.getAttribute(name)
      - elem.setAttribute(name, value)
      - elem.removeAttribute(name)
      - elem.attributes name,values key-value map collections

  - Modifying the Document
    - åˆ›å»ºèŠ‚ç‚¹
      - document.createElement(elementTagNameString) åˆ›å»ºå…ƒç´ èŠ‚ç‚¹
      - document.createTextNode(textString) åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹
      - elem.cloneNode(deepClone) å…‹éš†èŠ‚ç‚¹ deepCloneä¸ºtrueæ—¶è¿›è¡Œæ·±åº¦å…‹éš†ç‰¹æ€§å’Œå­å…ƒç´ 
    - æ’å…¥èŠ‚ç‚¹
      - ä»parentæ“ä½œ, è¿”å›å€¼ä¸ºæ’å…¥çš„nodeObj
        - parent.appendChild(nodeObj) æ’å…¥å­èŠ‚ç‚¹
        - parent.insertBefore(nodeObj, nextSiblingObj) åœ¨èŠ‚ç‚¹nextSiblingObjå‰æ’å…¥
        - parent.removeChild(nodeObj) ç§»é™¤å­èŠ‚ç‚¹
        - parent.replaceChild(newNodeObj, oldNodeObj) æ›¿æ¢èŠ‚ç‚¹
      - æ·»åŠ èŠ‚ç‚¹å’Œå­—ç¬¦ä¸²(çº¯æ–‡æœ¬)
        - node.append(nodes or textStrings) åœ¨nodeå­èŠ‚ç‚¹æœ«å°¾æ·»åŠ èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²
        - node.prepend(nodes or textStrings) åœ¨nodeå­èŠ‚ç‚¹å¼€å¤´ä½ç½®æ·»åŠ èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²
        - ndoe.before(nodes or textStrings) åœ¨nodeä¹‹å‰çš„ä½ç½®å¢åŠ èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²
        - node.after(nodes or textStrings) åœ¨nodeä¹‹åçš„ä½ç½®å¢åŠ èŠ‚ç‚¹æˆ–å­—ç¬¦ä¸²
        - node.replaceWith(nodes or textStrings) æ›¿æ¢node
        - ndoe.remove() ç§»é™¤node
      - æ·»åŠ html tag stringä¸ºnodeèŠ‚ç‚¹åˆ°å…ƒç´ æŒ‡å®šä½ç½®
        - elem.insertAdjacentHTML(posStringName, htmlDOMString);
          - beforebegin å°†htmlæ’å…¥åˆ°elemå¼€å¤´å‰é¢çš„ä½ç½®
          - afterbegin å°†htmlæ’å…¥åˆ°elemå¼€å¤´åé¢çš„ä½ç½®
          - beforeend å°†htmlæ’å…¥åˆ°elemç»“å°¾å‰é¢çš„ä½ç½®
          - afterend å°†htmlæ’å…¥åˆ°elemç»“å°¾åé¢çš„ä½ç½®
        - elem.insertAdjacentText æ’å…¥æ–‡æœ¬
        - elem.insertAdjacentElement æ’å…¥å…ƒç´ 

  - Styles and Classes
    - ç®¡ç†classçš„DOMå±æ€§
      - className æ‰€æœ‰classçš„é›†åˆstring(elem tagçš„classç‰¹æ€§å€¼)
      - classList ç”¨äºç®¡ç†classçš„å¯¹è±¡ï¼Œæ–¹ä¾¿æ·»åŠ åˆ é™¤ä»¥åŠç®¡ç†æ¯ä¸ªclassName
        - add æ·»åŠ æ ·å¼
        - remove ç§»é™¤æ ·å¼
        - toggle åˆ‡æ¢æ ·å¼
        - contains åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªæ ·å¼
    - æ”¹å˜æ ·å¼
      - styleå¯¹è±¡
        - elem.style.cssPropertyName = value 
        - æ³¨æ„æ•°å€¼ç±»çš„å•ä½ï¼Œæ¯”å¦‚elem.style.top = '20px' ä¸è¦å†™æˆæ•°å€¼ç±»å‹äº†ï¼Œè·å–å€¼çš„ç»“æœä¹Ÿæ˜¯åŒæ ·çš„stringç±»å‹ï¼Œæ³¨æ„è®¡ç®—å’Œèµ‹å€¼å¯¹å€¼ç±»å‹è¿›è¡Œå¤„ç†
      - styleText
        - elem.style.cssText ç›¸å½“äºelem tagçš„styleç‰¹æ€§å€¼ stringç±»å‹
    - è·å–å·²ç»è§£æçš„æ ·å¼
        - window.getComputedStyle(elem [, pseudo]) elemæ˜¯è¦è·å–æ ·å¼çš„å…ƒç´ ï¼Œpseudoæ˜¯ä¼ªå…ƒç´ é€‰æ‹©ä¾‹å¦‚::before

  - Element size and scrolling
    - elem.offsetParent æœ€è¿‘æœ‰å®šä½å±æ€§çš„ç¥–å…ˆå…ƒç´  td th body æœ€è¿‘å«æœ‰position relativeå±æ€§çš„å…ƒç´ 
    - å…ƒç´ å¤–éƒ¨å°ºå¯¸ï¼Œä¸åŒ…æ‹¬marginï¼Œä½†æ˜¯åŒ…å«border width
      - elem.offsetLeft å…ƒç´ è·ç¦»å®šä½çˆ¶å…ƒç´ å·¦ä¸Šè§’çš„æ¨ªå‘è·ç¦»
      - elem.offsetTop å…ƒç´ è·ç¦»å®šä½çˆ¶å…ƒç´ å·¦ä¸Šè§’çš„çºµå‘è·ç¦»
      - elem.offsetWidth å…ƒç´ å¤–éƒ¨å®½åº¦ï¼ŒåŒ…å«borderçš„å®½åº¦
      - elem.offsetHeight å…ƒç´ å¤–éƒ¨é«˜åº¦ï¼ŒåŒ…å«borderçš„é«˜åº¦
    - å…ƒç´ å†…éƒ¨å°ºå¯¸
      - elem.clientLeft ä»å…ƒç´ å†…éƒ¨å†…å®¹å·¦ä¸Šè§’åˆ°å…ƒç´ å¤–éƒ¨å·¦ä¸Šè§’çš„æ¨ªå‘è·ç¦»
      - elem.clientTop ä»å…ƒç´ å†…éƒ¨å†…å®¹å·¦ä¸Šè§’åˆ°å…ƒç´ å¤–éƒ¨å·¦ä¸Šè§’çºµå‘è·ç¦»
      - elem.clientWidth å…ƒç´ å†…å®¹å®½åº¦ï¼ŒåŒ…å«paddingï¼Œä½†æ˜¯ä¸åŒ…å«æ»šåŠ¨æ¡
      - elem.clientHeight å…ƒç´ å†…å®¹é«˜åº¦ï¼ŒåŒ…å«padding,ä½†æ˜¯ä¸åŒ…å«å…³ä¸œç³–
    - å…ƒç´ å†…å®¹æ»šåŠ¨æ¡å°ºå¯¸
      - elem.scrollWidth å…ƒç´ å¯æ»šåŠ¨åŒºåŸŸå†…å®¹å®½åº¦ï¼ŒåŒ…å«paddingï¼Œä½†æ˜¯ä¸åŒ…å«æ»šåŠ¨æ¡
      - elem.scrollHeight å…ƒç´ å¯æ»šåŠ¨åŒºåŸŸå†…å®¹é«˜åº¦ï¼ŒåŒ…å«paddingï¼Œä½†æ˜¯ä¸åŒ…å«æ»šåŠ¨æ¡
      - elem.scrollLeft å¯è¯»å†™å±æ€§ å…ƒç´ æ¨ªå‘æ»šåŠ¨è·ç¦»
      - elem.scrollTop å¯è¯»å†™å±æ€§ å…ƒç´ çºµå‘æ»šåŠ¨è·ç¦»
  
  - Window size and scrolling
    - æ–‡æ¡£å¯è§†èŒƒå›´å®½åº¦å’Œé«˜åº¦
      - document.documnetElement.clientWidth
      - document.documentElement.clientHeight
    - æ•´ä¸ªæ–‡æ¡£çš„å®½åº¦å’Œé«˜åº¦
      - Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    - è¯»å–å½“å‰windowçª—å£æ»šåŠ¨
      - window.pageYOffset çª—å£çºµå‘æ»šåŠ¨
      - window.pageXOffset çª—å£æ¨ªå‘æ»šåŠ¨
    - æ”¹å˜windowçª—å£æ»šåŠ¨
      - window.scrollTo(pageX, pageY) ç»å¯¹ä½ç½®æ»šåŠ¨
      - window.scrollBy(x, y) ç›¸å¯¹å½“å‰ä½ç½®æ»šåŠ¨
      - elem.scrollIntoView(isTop) æ»šåŠ¨åˆ°elemå¯è§†çš„ä½ç½®

  - Coordinates
    - è·å–å…ƒç´ ç›¸å¯¹äºçª—å£çš„ä½ç½®ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡åŒ…å«äº†ä»¥ä¸‹å±æ€§ï¼Œæ³¨æ„è¿™ä¸ªå€¼ä¸æ˜¯å›ºå®šçš„ï¼Œå½“çª—å£æ»šåŠ¨æ—¶ï¼Œè¿™ä¸ªå€¼ä¼šéšç€æ»šåŠ¨ä½ç½®çš„æ”¹å˜è€Œæ”¹å˜ï¼Œä½†æ˜¯å®ƒæ°¸è¿œæ˜¯ç›¸å¯¹äºçª—å£è®¡ç®—ä½ç½®ï¼Œæ³¨æ„å®ƒä¸elem.offsetTop/elem.offsetLeftçš„å›ºå®šå€¼çš„åŒºåˆ«
      - top å…ƒç´ é¡¶éƒ¨ç›¸å¯¹äºçª—å£é¡¶éƒ¨çš„è·ç¦»ï¼Œæ³¨æ„å¯ä»¥æ˜¯è´Ÿå€¼ï¼Œè´Ÿå€¼æ„å‘³ç€å…ƒç´ çš„ä¸Šéƒ¨å·²ç»è¶…å‡ºçª—å£ä¸Šéƒ¨è¾¹ç¼˜
      - left å…ƒç´ å·¦è¾¹ç›¸å¯¹äºçª—å£å·¦ä¾§çš„è·ç¦»ï¼Œæ³¨æ„å¯ä»¥æ˜¯è´Ÿå€¼
      - right å…ƒç´ å³è¾¹ç¼˜è·ç¦»çª—å£å·¦è¾¹çš„è·ç¦»
      - bottom å…ƒç´ åº•éƒ¨è¾¹ç¼˜è·ç¦»çª—å£é¡¶éƒ¨çš„è·ç¦»
  
    - ç›¸å¯¹äºçª—å£çš„åæ ‡ position: fixed
      - elem.getBoundingClientRect() 
    - ç›¸å¯¹äºæ–‡æ¡£çš„åæ ‡ postion: absolute
      - elem.getBoundingClientRect().left/top + pageXOffset/pageYOffset

- Introduction to Events
  - Browser Events
    - Event list
      - MouseEvent
        - click é¼ æ ‡å·¦é”®ç‚¹å‡»ä¸€ä¸ªå…ƒç´ 
        - contextmenu é¼ æ ‡å³å‡»ä¸€ä¸ªå…ƒç´ 
        - mouseover/mouseout é¼ æ ‡ç§»å…¥/ç§»å‡ºä¸€ä¸ªå…ƒç´ æ—¶
        - mousedown/mouseup å½“é¼ æ ‡æŒ‰é”®æŒ‰ä¸‹/æŠ¬èµ·æ—¶
        - mousemove å½“é¼ æ ‡ç§»åŠ¨æ—¶
  
      - FormEvent
        - submit è¡¨å•æäº¤
        - focus è¡¨å•è¾“å…¥å…ƒç´ è·å¾—ç„¦ç‚¹

      - KeyBoardEvent
        - keyup æŒ‰é”®æŠ¬èµ·
        - keydown æŒ‰é”®æŒ‰ä¸‹

      - DocumentEvent
        - DOMContentLoaded DOMæ„å»ºæ—¶

      - CSSEvent
        - transitionend CSSåŠ¨ç”»æ‰§è¡Œå®Œæˆæ—¶
  
    - äº‹ä»¶å¤„ç†å™¨
      - ä¸ºäº†å“åº”æ—¶é—´ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†å‘å¤„ç†ï¼Œåœ¨äº‹ä»¶å‘ç”Ÿæ—¶è¿è¡Œå‡½æ•°ã€‚
      - HTMLå±æ€§(åªèƒ½åˆ†å‘ä¸€ä¸ªå¤„ç†å™¨ï¼Œè€Œä¸”ä¸å¥½ç®¡ç†ä¸ºäº‹ä»¶ç»‘å®šçš„å‡½æ•°ï¼Œä¸å»ºè®®ä½¿ç”¨)
        - ç›´æ¥åœ¨HTML tagé€šè¿‡æ·»åŠ  `on<eventName>` æ·»åŠ äº‹ä»¶å¤„ç†å™¨
        - ä¾‹å­, ç”±äºæ˜¯å†™åœ¨html tagå±æ€§å€¼ï¼Œæ‰€ä»¥æ˜¯string, ä½†æ˜¯å®ƒè§£æçš„æ—¶å€™ä¼šä»å…¶ä¸­çš„å†…å®¹åˆ›å»ºä¸€ä¸ªåŒ¿åçš„å¤„ç†å™¨å‡½æ•°åŒ…è£¹å†…å®¹
          - `<input type="button" onclick="test()" value="Count rabbits!">`
      - DOMå±æ€§(åªèƒ½åˆ†å‘ä¸€ä¸ªå¤„ç†å™¨ï¼Œè€Œä¸”ä¸å¥½ç®¡ç†ä¸ºäº‹ä»¶ç»‘å®šçš„å‡½æ•°ï¼Œä¸å»ºè®®ä½¿ç”¨)
        - é€šè¿‡DOMå±æ€§`on<eventName>`æ¥åˆ†å‘å¤„ç†å™¨ï¼Œæ‰€æœ‰çš„DOMå…ƒç´ ä¸Šéƒ½å¯ä»¥çœ‹åˆ°å¾ˆå¤šç±»ä¼¼`on{eventName}`çš„å±æ€§ï¼Œé»˜è®¤æŒ‡å‘null
        - ä¾‹å­, æ³¨æ„è¿™é‡Œçš„æŒ‡å‘çš„æ˜¯å‡½æ•°åï¼Œä¸è¦å†™æˆå‡½æ•°çš„æ‰§è¡Œç»“æœ`test()`äº†ã€‚
          - `elem.onclick = test;`
        - ç§»é™¤å¤„ç†å™¨ `elem.on<eventName> = null;`

      - element.addEventListener(eventName, handler, [, phase]);
        - eventName äº‹ä»¶åç§°å­—ç¬¦ä¸²
        - handler å¤„ç†å™¨å‡½æ•°åï¼Œè¿™é‡Œçš„å‡½æ•°åæ˜¯å‡½æ•°çš„å¼•ç”¨ï¼Œå¦‚æœå‡½æ•°å†…æœ‰thisæŒ‡å‘ï¼Œæ³¨æ„ç»‘å®šthisè°ƒç”¨çš„å¯¹è±¡
        - phase æ˜¯å¦åœ¨æ•è·é˜¶æ®µå¤„ç†ï¼Œé»˜è®¤ä¸ºfalse, åœ¨å†’æ³¡é˜¶æ®µå¤„ç†
        - æ”¯æŒæ·»åŠ å¤šä¸ªhandler, äº‹ä»¶è§¦å‘æ—¶ä¾æ¬¡æ‰§è¡Œ

      - element.removeEventListener(eventName, hanlder, [, phase])
        - æ³¨æ„è¿™é‡Œä¼ å…¥çš„handlerå¿…é¡»æ˜¯ä¸æ·»åŠ æ—¶ç›¸åŒå‡½æ•°åçš„handlerï¼Œå°½é‡ä¸è¦ä½¿ç”¨åŒ¿åå‡½æ•°ï¼Œå› ä¸ºæ‰¾ä¸åˆ°å¼•ç”¨ï¼Œæ— æ³•ç§»é™¤

      - Event Object
        - äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡ï¼Œå°†äº‹ä»¶ç›¸å…³ä¿¡æ¯æ”¾å…¥äº‹ä»¶å¯¹è±¡ä¸­ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ å…¥å¤„ç†å™¨ä¸­
          - Example
            ```
            let handler = function(eventObject){

            }
            elem.addEventListener('click', handler)
            ```
          - event.type äº‹ä»¶ç±»å‹
          - event.currentTarget å¤„ç†äº‹ä»¶çš„å…ƒç´ ï¼Œä¸thisç›¸åŒ
          - event.clientX/clientY äº‹ä»¶å‘ç”Ÿæ—¶é¼ æ ‡ç›¸å¯¹äºçª—å£çš„åæ ‡
          - event.pageX/pgaeY äº‹ä»¶å‘ç”Ÿæ—¶é¼ æ ‡ç›¸å¯¹äºæ–‡æ¡£åæ ‡
          - event.target è§¦å‘äº‹ä»¶å¤„ç†å™¨çš„å…ƒç´ 
          - event.detail ç”¨äºåœ¨äº‹ä»¶å¤„ç†å™¨é—´ä¼ é€’æ•°æ®çš„å±æ€§

      - handleEvent
        - å½“addEventListeneræ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå¤„ç†å™¨çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨object.handleEvent(event)æ¥å¤„ç†äº‹ä»¶
        - elem.addEventListener(eventName, { handleEvent: function(event){ } })
        - ç»å¸¸ä½¿ç”¨handleEventå¯¹åŒä¸€ä¸ªå…ƒç´ ä¸Šç»‘å®šä¸åŒçš„äº‹ä»¶å¤„ç†å™¨åšç»Ÿä¸€å¤„ç†ï¼Œæ¯”å¦‚æ„å»ºä¸€ä¸ªå«æœ‰handleEventæ–¹æ³•çš„ç±»ï¼Œå†åœ¨ç±»çš„å†…éƒ¨å¯¹ä¼ å…¥çš„äº‹ä»¶ä¸åŒå‚æ•°åšå‡ºä¸åŒçš„å“åº”ï¼Œè°ƒç”¨ä¸åŒçš„å‡½æ•°
        

  
  - Bubbling and Capturing
    - å†’æ³¡
      - å½“äº‹ä»¶å‘ç”Ÿåœ¨å…ƒç´ ä¸Šæ—¶ï¼Œé¦–å…ˆä¼šè¿è¡Œå…ƒç´ æœ¬èº«çš„äº‹ä»¶å¤„ç†å™¨ï¼Œç„¶åæ²¿ç€æ ‘ç»“æ„å‘ä¸Šä¼ é€’ï¼Œè¿è¡Œçˆ¶å…ƒç´ å’Œå…¶ä»–ç¥–å…ˆå…ƒç´ ä¸Šçš„äº‹ä»¶å¤„ç†å™¨
      - é™¤äº†focus/blur/mouseenter/mouseleaveäº‹ä»¶ å…¶ä»–äº‹ä»¶éƒ½æ˜¯å†’æ³¡çš„

    - Event.targetä¸Event.currentTargetçš„åŒºåˆ«
      - çˆ¶å…ƒç´ ä¸Šçš„å¤„ç†å™¨æ€»æ˜¯å¯ä»¥æ•è·äº‹ä»¶å®é™…å‘ç”Ÿä½ç½®çš„è¯¦ç»†ä¿¡æ¯
      - event.targetæ˜¯å¼•å‘äº‹ä»¶çš„ç›®æ ‡å…ƒç´ ï¼Œå®ƒåœ¨å†’æ³¡è¿‡ç¨‹ä¸­ä¼šä¸æ–­å˜åŒ–ï¼ŒåŸºäºè¿™ä¸ªç‰¹æ€§æˆ‘ä»¬æ‰å¯ä»¥å®ç°å§”æ‰˜
      - event.currentTarget(this) æ˜¯ç»‘å®šäº‹ä»¶å¤„ç†å™¨çš„å…ƒç´ ï¼Œä¸ä¼šå˜åŒ–

    - åœæ­¢å†’æ³¡
      - event.stopPropagation(); ä»»ä½•å¤„ç†å™¨éƒ½å¯ä»¥å†³å®šäº‹ä»¶å·²ç»è¢«å¤„ç†å®Œæˆï¼Œä»è€Œåœæ­¢å†’æ³¡
      - event.stopImmediatePropagation(); é˜»æ­¢å½“å‰å…ƒç´ ä¸Šçš„å…¶ä»–å¤„ç†å™¨æ‰§è¡Œã€‚
      - é˜»æ­¢äº‹ä»¶å†’æ³¡äº§ç”Ÿçš„å½±å“
        - ä½¿ç”¨å†’æ³¡ä¼šäº§ç”Ÿé™·é˜±ï¼Œå¯¼è‡´ä¸€äº›åˆ©ç”¨å§”æ‰˜å·¥ä½œçš„åŠŸèƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™è¦è°¨æ…ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è§£å†³ï¼Œæ¯”å¦‚è‡ªå®šä¹‰äº‹ä»¶ï¼Œæˆ–è€…åœ¨çˆ¶å…ƒç´ ä¸Šåšé€»è¾‘åˆ¤æ–­ï¼Œä¸è¦é˜»æ­¢å†’æ³¡ï¼Œè€Œæ˜¯é€šè¿‡é€»è¾‘å»æ§åˆ¶äº‹ä»¶å¤„ç†å™¨é‡Œæ–¹æ³•çš„æ‰§è¡Œ
        
    - æ•è·
      - DOMäº‹ä»¶çš„ä¸‰ä¸ªé˜¶æ®µ
        - æ•è·é˜¶æ®µ capturing phase äº‹ä»¶ä»windoå‘ä¸‹ä¸€ç›´åˆ°è¾¾å…ƒç´ 
        - ç›®æ ‡é˜¶æ®µ äº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ 
        - å†’æ³¡é˜¶æ®µ bubbling phase äº‹ä»¶ä»å…ƒç´ å¼€å§‹å‘ä¸Šå†’æ³¡
      - Event.eventPhase äº‹ä»¶å½“å‰å¤„äºçš„é˜¶æ®µ

  - Event delegation
    - å› ä¸ºäº‹ä»¶çš„æ•è·å’Œå†’æ³¡çš„ç‰¹æ€§å…è®¸æˆ‘ä»¬å®ç°ä¸€ç§äº‹ä»¶å§”æ‰˜çš„å¼ºå¤§çš„äº‹ä»¶å¤„ç†æ¨¡å¼ã€‚
    - å½“æœ‰å¾ˆå¤šå…ƒç´ éœ€è¦ç»‘å®šäº‹ä»¶å¤„ç†å™¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ éƒ½åˆ†é…ä¸€ä¸ªå¤„ç†å™¨ï¼Œè€Œæ˜¯åœ¨ä»–ä»¬å…±åŒçš„ç¥–å…ˆå…ƒç´ ä¸Šæ·»åŠ ä¸€ä¸ªå¤„ç†å™¨ï¼Œåœ¨è¿™ä¸ªå¤„ç†å™¨ä¸­é€šè¿‡å¯¹event.targetè¿›è¡Œåˆ¤æ–­å¹¶ä½œå‡ºç›¸åº”çš„å¤„ç†ã€‚
    - å§”æ‰˜çš„å®é™…åº”ç”¨
      - é€šè¿‡åœ¨å­å…ƒç´ HTML tagä¸Šæ·»åŠ data-actionç‰¹æ€§ï¼Œåœ¨çˆ¶å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨ä¸­å¯¹event.target.dataset.actionä½œå‡ºåˆ¤æ–­å¹¶æ‰§è¡Œç›¸åº”çš„æ–¹æ³•
      - é€šè¿‡åœ¨å­å…ƒç´ HTML tagæ·»åŠ data-propertyï¼Œåœ¨çˆ¶å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨ä¸­å¯¹event.target.dataset.propertyçš„æ•°æ®è¿›è¡Œå¤„ç†
      - é€šè¿‡åœ¨å­å…ƒç´ HTML tagä¸Šæ·»åŠ data-dom-idï¼Œåœ¨çˆ¶å…ƒç´ çš„äº‹ä»¶å¤„ç†å™¨ä¸­å¯¹event.target.dataset.domIdçš„å…ƒç´ è¿›è¡Œè·å–ï¼Œç„¶åå¯¹domè¿›è¡Œæ“ä½œã€‚
      - é€šè¿‡åœ¨documentä¸Šç»‘å®šäº‹ä»¶å¤„ç†å™¨ï¼Œå®ç°è‡ªå®šä¹‰ç»„ä»¶çš„åˆå§‹åŒ–ã€‚
    - å§”æ‰˜çš„ä¼˜åŠ¿å’Œä¸è¶³
      - ä¼˜åŠ¿ï¼šç®€åŒ–åˆå§‹åŒ–å¹¶èŠ‚çœå†…å­˜ï¼Œä¸éœ€è¦æ·»åŠ è¿‡å¤šçš„å¤„ç†å™¨ï¼Œè€Œä¸”å¯¹äºæ·»åŠ å’Œç§»é™¤å­å…ƒç´ æ—¶ï¼Œä¸éœ€è¦é¢å¤–æ·»åŠ å¤„ç†å™¨ã€‚
      - ä¸è¶³ï¼šå­å…ƒç´ çš„å¤„ç†å™¨ä¸åº”è¯¥ä½¿ç”¨event.stopPropagation() ä»ç¨‹åºæ„æ¶è®¾è®¡ä¸Šè¦æå‰è€ƒè™‘å¥½

  - Browser default actions
    - æµè§ˆå™¨é»˜è®¤åŠ¨ä½œ
      - è®¸å¤šäº‹ä»¶ä¼šè‡ªåŠ¨è§¦å‘æµè§ˆå™¨åŠ¨ä½œï¼Œæ¯”å¦‚å•å‡»è¡¨å•ä¸­çš„æäº¤æŒ‰é’®ï¼Œä¼šè§¦å‘æäº¤è¡¨å•åˆ°æœåŠ¡å™¨çš„åŠ¨ä½œ formçš„submit eventã€‚
    - é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤åŠ¨ä½œ
      - è°ƒç”¨event.preventDefault()æ–¹æ³•
      - `<a href="/" onclick="return false">Click here</a>`
    - é˜»æ­¢è¿›ä¸€æ­¥çš„äº‹ä»¶
      - æœ‰äº›äº‹ä»¶æ˜¯æœ‰å…³è”æ€§çš„ï¼Œæˆ‘ä»¬é˜»æ­¢äº†ä¸€ä¸ªäº‹ä»¶ï¼Œå°±ä¸ä¼šæœ‰ç¬¬äºŒä¸ªäº‹ä»¶è¢«è§¦å‘ï¼Œä¾‹å¦‚inputä¸Šçš„mousedownå’Œfocus,å½“æˆ‘ä»¬é˜»æ­¢äº†mousedownäº‹ä»¶åï¼Œinputä¸ä¼šè·å¾—ç„¦ç‚¹ï¼Œè‡ªç„¶ä¹Ÿä¸ä¼šè§¦å‘focusäº‹ä»¶äº†
    - event.defaultPrevented
      - å¦‚æœé»˜è®¤äº‹ä»¶è¢«é˜»æ­¢äº†ï¼Œé‚£ä¹ˆevent.defaultPreventedçš„å€¼å°±ä¼šæ˜¯true
      - æœ‰äº†è¿™ä¸ªå±æ€§ï¼Œåœ¨åº”ç”¨å§”æ‰˜é˜»æ­¢é»˜è®¤åŠ¨ä½œæ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¸ä½¿ç”¨event.stopPropagation()å»é˜»æ–­äº‹ä»¶å†’æ³¡ã€‚è€Œæ˜¯é€šè¿‡åˆ¤æ–­event.defaultPreventedå±æ€§å»åˆ¤æ–­é»˜è®¤åŠ¨ä½œæ˜¯å¦è¢«é˜»æ­¢äº†ï¼Œå¦‚æœå€¼ä¸ºtrueï¼Œè¯æ˜é»˜è®¤åŠ¨ä½œå·²ç»è¢«é˜»æ­¢ï¼Œå°±ä¸ç”¨å†å»è°ƒç”¨çˆ¶å…ƒç´ ä¸Šç»‘å®šçš„æ–¹æ³•äº†ã€‚
  - Dispatching custom events
    - è‡ªå®šä¹‰äº‹ä»¶çš„ç”¨é€”
      - é€šè¿‡æ·»åŠ è‡ªå®šä¹‰äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶å†…éƒ¨é€šè¿‡åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶æ¥æ‰§è¡Œè‡ªå®šä¹‰äº‹ä»¶ç»‘å®šçš„æ–¹æ³•
  
    - äº‹ä»¶æ„é€ å™¨
      - `new Event(eventTypsString, [, options])`
        - eventTypeString è‡ªå®šä¹‰äº‹ä»¶åç§°
        - options
          - bubbles: true/false äº‹ä»¶æ˜¯å¦å†’æ³¡ é»˜è®¤æ˜¯ï¼šfalse è®¾ç½®ä¸ºtrueçš„è¯å¯ä»¥ç”¨æ¥å®ç°å§”æ‰˜
          - cancelable: true/false äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œæ˜¯å¦å¯ä»¥è¢«é˜»æ­¢ é»˜è®¤å€¼ï¼šfalse
  
    - domElement.dispatchEvent
      - äº‹ä»¶å¯¹è±¡åˆ›å»ºåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å…ƒç´ ä¸Šè°ƒç”¨dispatchEventæ¥è§¦å‘å®ƒåœ¨å…ƒç´ ä¸Šç»‘å®šçš„äº‹ä»¶å¤„ç†å™¨
      - elem.dispatchEvent(eventNameString)
      - å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨æµè§ˆå™¨äº‹ä»¶ä¾‹å¦‚ elem.dispatchEvent(new Event('click'))

    - æµè§ˆå™¨é»˜è®¤çš„äº‹ä»¶å¯¹è±¡
      - æˆ‘ä»¬è¦è§¦å‘æµè§ˆå™¨äº‹ä»¶ï¼Œåº”è¯¥ä¼˜å…ˆä½¿ç”¨å¯¹åº”çš„äº‹ä»¶å¯¹è±¡åˆ›å»ºäº‹ä»¶
      - UIEvent
      - FocusEvent
      - MouseEvent
      - WheelEvent
      - KeyboardEvent

    - è‡ªå®šä¹‰äº‹ä»¶CustomEventå¯¹è±¡
      - `new CustomEvent(eventNameString, [, options])`
        - ç”±äºæ˜¯ç»§æ‰¿äºEventï¼Œæ‰€ä»¥Eventæœ‰çš„optionå®ƒéƒ½æœ‰
        - å®ƒæœ‰ä¸€ä¸ªç‰¹æ®Šçš„åªè¯»å±æ€§ detail å¯ä»¥ç”¨æ¥åœ¨è‡ªå®šä¹‰äº‹ä»¶ä¸­ä¼ é€’æ•°æ®å’Œå‚æ•°ï¼Œdetailå±æ€§åªèƒ½åœ¨åˆ›å»ºè‡ªå®šä¹‰çš„æ—¶å€™ä½¿ç”¨

    - è‡ªå®šä¹‰äº‹ä»¶çš„event.preventDefault()
      - å½“cancelableè¢«è®¾å®šä¸ºtrueçš„æ—¶å€™ï¼Œæˆ‘ä»¬åœ¨è‡ªå®šä¹‰äº‹ä»¶ç»‘å®šçš„äº‹ä»¶å¤„ç†å™¨ä¸­è°ƒç”¨event.preventDefault()çš„æ—¶å€™ï¼Œelement.dispatchEvent(event)ä¼šè¿”å›false, æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨æ—¶çš„è¿”å›å€¼åšä¸ºåˆ¤æ–­æ¡ä»¶æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•
  
    - Events in events äº‹ä»¶åŒæ­¥å¤„ç†
      - äº‹ä»¶é€šå¸¸æ˜¯åŒæ­¥å¤„ç†çš„ï¼Œå‡å¦‚åœ¨å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä¸€ä¸ªæ–°çš„äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ç­‰å¾…å½“å‰æ­£åœ¨å¤„ç†çš„eventæ‰§è¡Œå®Œæ¯•åå†å¤„ç†æ–°çš„äº‹ä»¶ï¼Œä½†æ˜¯äº‹ä»¶åµŒå¥—å°±ä¸ä¸€æ ·äº†ï¼Œæˆ‘ä»¬åœ¨ä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨ä¸­è§¦å‘å¦ä¸€ä¸ªåµŒå¥—çš„äº‹ä»¶ï¼Œå®ƒä¼šè·³åˆ°åµŒå¥—çš„äº‹ä»¶ä¸­æ‰§è¡Œä¹‹åè¿”å›ï¼Œæ‰€ä»¥å˜æˆäº†åŒæ­¥å¤„ç†äº†ã€‚
      - æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨`{setTimeout(() => elem.diapatch(new customEvent('hello'), {bubbles: true}), 0);` å¼ºåˆ¶å®ƒåœ¨ä¸‹ä¸€è½®event loopå»æ‰§è¡Œã€‚æ‰€ä»¥setTimeout(fn, 0)å¯ä»¥ç”¨æ¥é˜»æ­¢äº‹ä»¶åµŒå¥—çš„åŒæ­¥æ‰§è¡Œã€‚
  
- UI Events
  - Mouse events basic
    - é¼ æ ‡äº‹ä»¶ç±»å‹
      - ç®€å•äº‹ä»¶
        - mousedown é¼ æ ‡æŒ‰é”®(å·¦é”®æˆ–è€…å³é”®)åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šç‚¹å‡»
        - mouseup é¼ æ ‡æŒ‰é”®(å·¦é”®æˆ–å³é”®)åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šé‡Šæ”¾
        - mouseover é¼ æ ‡æŒ‡é’ˆä»ä¸€ä¸ªå…ƒç´ ä¸Šç§»å…¥
        - mouseout é¼ æ ‡æŒ‡é’ˆä»ä¸€ä¸ªå…ƒç´ ä¸Šç§»å‡º
        - mousemove é¼ æ ‡åœ¨å…ƒç´ ä¸Šæ¯æ¬¡ç§»åŠ¨éƒ½ä¼šè§¦å‘äº‹ä»¶

      - å¤æ‚äº‹ä»¶(ç”±ç®€å•äº‹ä»¶ç»„åˆè€Œæˆ)
        - click é¼ æ ‡å·¦é”®åœ¨å…ƒç´ ä¸Šç‚¹å‡»
          - äº‹ä»¶é¡ºåº mousedown -> mouseup -> click
        - contextmenu 
          - é¼ æ ‡å³é”®åœ¨mousedownäº‹ä»¶è§¦å‘åè§¦å‘ right mousedown -> contextmenu
          - äº‹ä»¶é¡ºåº mousedown -> contextmenu
        - dblclick 
          - é¼ æ ‡åœ¨å…ƒç´ ä¸ŠåŒå‡»åè§¦å‘
          - äº‹ä»¶é¡ºåº mousedown -> mouseup -> click -> mousedown -> mouseup -> click -> dblclick

      - äº‹ä»¶é¡ºåº
        - ä¸€ä¸ªåŠ¨ä½œå¯èƒ½ä¼šè§¦å‘å¤šä¸ªäº‹ä»¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„äº‹ä»¶è§¦å‘çš„é¡ºåºï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ç»‘å®šäº‹ä»¶çš„æ—¶å€™å‡½æ•°èƒ½å¤Ÿå‡†ç¡®è¢«è§¦å‘ï¼Œå½“ä½¿ç”¨e.preventDefault()é˜»æ­¢æŸäº›é»˜è®¤è¡Œä¸ºæ—¶ä¹Ÿä¼šå‡†ç¡®å±è”½é»˜è®¤è¡Œä¸ºã€‚
  
    - è·å–é¼ æ ‡æŒ‰é”® which
      - whichå±æ€§ç”¨äºè·å–å½“å‰é¼ æ ‡äº‹ä»¶æ˜¯æŒ‰ä¸‹äº†å“ªä¸ªæŒ‰é”®ï¼Œè¿™é‡Œçš„ç‰¹æ®Šæƒ…å†µï¼Œclickäº‹ä»¶åªå‘ç”Ÿåœ¨é¼ æ ‡å·¦é”®ï¼Œwhichå€¼æ°¸è¿œç­‰äº1ï¼Œcontextmenuåªå‘ç”Ÿåœ¨é¼ æ ‡å³é”®ï¼Œwhichå€¼æ°¸è¿œç­‰äº3
      - mouseEvent.which = 1 left mouse
      - mouseEvent.which = 2 middle mouse
      - mouseEvent.which = 3 right mouse

    - ç»„åˆå¿«æ·é”®
      - å½“æˆ‘ä»¬éœ€è¦æ£€æµ‹é¼ æ ‡å’Œé”®ç›˜ç»„åˆæŒ‰é”®è€Œè§¦å‘æŸäº›è¡Œä¸ºçš„æ—¶å€™ï¼Œå¯ä»¥ä»eventä¸Šè·å–è¿™äº›ç»„åˆé”®å±æ€§å€¼ï¼Œç”¨äºåˆ¤æ–­æŸä¸ªæŒ‰é”®æ˜¯å¦æŒ‰ä¸‹
      - shift/alt/ctrl/meta(Command)
      - mouseEvent.shiftKey
      - mouseEvent.altKey
      - mouseEvent.ctrlKey
      - mouseEvent.metaKey (Command for Mac)

    - é¼ æ ‡åæ ‡
      - ç›¸å¯¹äºçª—å£å¯¹è±¡çš„åæ ‡ï¼Œç±»ä¼¼äºposition: fixed
        - mouseEvent.clientX 
        - mouseEvent.clientY
      - ç›¸å¯¹äºæ–‡æ¡£å¯¹è±¡çš„åæ ‡, ç±»ä¼¼äºposition:absolute
        - mouseEvent.pageX
        - mouseEvent.pageY

    - å¤„ç†é¼ æ ‡ç‚¹å‡»é€‰ä¸­æ–‡æœ¬çš„é—®é¢˜
      - é¼ æ ‡åŒå‡»å¯ä»¥é€‰ä¸­æ–‡æœ¬ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªæƒ³å¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œé¢å¤–çš„é€‰æ‹©å½±å“æ“ä½œä½“éªŒ
        - use-select: none; ç¼ºç‚¹æ˜¯æ­£å¸¸çš„é€‰æ‹©æ–‡æœ¬æ“ä½œä¹Ÿè¢«å±è”½äº†
        - mousedown mouseEvent.preventDefault() æ–‡æœ¬é€‰ä¸­çš„é»˜è®¤è¡Œä¸ºå‘ç”Ÿåœ¨mousedownä¸Šï¼Œæ‰€ä»¥æˆ‘é˜»æ­¢mousedownçš„é»˜è®¤è¡Œä¸ºå°±å¯ä»¥äº†

  - Moving: mouseover/mouseout, mouseenter/mouseleave
    - mouseover
      - é¼ æ ‡æŒ‡é’ˆå‡ºç°åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šæ—¶ï¼Œäº‹ä»¶è¢«è§¦å‘
      - event.target é¼ æ ‡å½“å‰æ‰€åœ¨çš„å…ƒç´ 
      - event.relatedTarget é¼ æ ‡ä¸Šä¸€æ¬¡ç»è¿‡çš„å…ƒç´ 
    - mouseout
      - é¼ æ ‡æŒ‡é’ˆç¦»å¼€ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œäº‹ä»¶è¢«è§¦å‘
      - event.target é¼ æ ‡ç¦»å¼€çš„å…ƒç´ 
      - event.relatedTarget é¼ æ ‡å½“å‰æŒ‡é’ˆä½ç½®ä¸‹çš„å…ƒç´ ï¼Œæ³¨æ„è¿™é‡Œä¸mouseoverçš„ä¸åŒ

    - relatedTargetå¯ä»¥ä¸ºnullçš„æƒ…å†µï¼Œæ³¨æ„ä½¿ç”¨å±æ€§æ—¶nullçš„åˆ¤æ–­
      - æ¯”å¦‚é¼ æ ‡ä»çª—å£ä»¥å¤–å¿«é€Ÿç§»åŠ¨åˆ°å…ƒç´ ä¸Šæ—¶ï¼Œmouseoverçš„relatedTargetå°±æ˜¯null
  
    - äº‹ä»¶é¢‘ç‡
      - å½“é¼ æ ‡åœ¨å…ƒç´ ä¸Šç§»åŠ¨æ—¶ï¼Œå…ƒç´ çš„mousemoveäº‹ä»¶å°±ä¼šè¢«è§¦å‘ï¼Œä½†æ˜¯å¹¶ä¸æ¯ä¸ªåƒç´ éƒ½äº§ç”Ÿä¸€ä¸ªäº‹ä»¶ï¼Œæµè§ˆå™¨æœ‰ä¸€ä¸ªæ£€æµ‹æœºåˆ¶ï¼Œå½“é¼ æ ‡ä½ç½®å˜åŒ–äº†å°±ä¼šè§¦å‘ç›¸åº”çš„äº‹ä»¶ï¼Œè€Œä¸”æœ‰ä¸€å®šçš„è§¦å‘é¢‘ç‡ï¼Œå¦‚æœé¼ æ ‡ä»¥éå¸¸å¿«çš„é€Ÿåº¦ç»è¿‡å…ƒç´ ï¼ŒæŸäº›ä¸­é—´çš„å…ƒç´ å°±ä¼šè¢«è·³è¿‡ï¼Œç›¸åº”çš„äº‹ä»¶ä¹Ÿä¸ä¼šè¢«è§¦å‘ï¼Œè¿™é‡Œè¦æ³¨æ„ã€‚
  
    - mouseoutåœ¨å­å…ƒç´ å¤šæ¬¡è§¦å‘çš„é—®é¢˜
      - è¿™ç§æƒ…å†µå¤šå‘ç”Ÿåœ¨å…ƒç´ è¿›å…¥å­å…ƒç´ æ—¶è§¦å‘äº†é¢å¤–çš„mouseoutäº‹ä»¶ï¼ŒåŸå› æ˜¯åœ¨æµè§ˆå™¨çš„é€»è¾‘é‡Œï¼Œé¼ æ ‡åœ¨ä»»æ„äº‹ä»¶åªä¼šä½äºå•ä¸ªå…ƒç´ ä¸Šï¼ŒzIndexæœ€å¤§çš„é‚£ä¸ªï¼ŒåµŒå¥—æœ€æ·±çš„é‚£ä¸ªå…ƒç´ ä¸Šã€‚æ‰€ä»¥åœ¨å†…éƒ¨è¦å¯¹targetå’ŒrelatedTargetè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœè¿˜åœ¨å…ƒç´ å†…ï¼Œåˆ™å¿½ç•¥è¿™æ¬¡äº‹ä»¶ï¼Œè¿™é‡Œé€šå¸¸ä½¿ç”¨parent.contains(target)è¿›è¡Œåˆ¤æ–­ã€‚

    - mouseenter/mouseleave
      - è¿™ä¸ªäº‹ä»¶ç›¸å¯¹æ›´åŠ æ¸…æ™°å’Œå®¹æ˜“ç†è§£ï¼Œåªæœ‰é¼ æ ‡è¿›å…¥/ç¦»å¼€ç›®æ ‡å…ƒç´ æ—¶æ‰ä¼šè¢«è§¦å‘ï¼Œå¿½ç•¥å­ä»£
      - åœ¨å­å…ƒç´ é—´ç§»å…¥ç§»å‡ºæ—¶ä¸ä¼šåƒmouseover/mouseoutä¸€æ ·é‡å¤è§¦å‘
      - äº‹ä»¶ä¸ä¼šå†’æ³¡ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨å§”æ‰˜ã€‚
  
    - äº‹ä»¶å§”æ‰˜
      - ç”±äºmouseenter/mouseleaveä¸æ”¯æŒå§”æ‰˜ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨å®ƒä»¬å¤„ç†å¤§é‡çš„å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨mouseover/mouseoutæ¥å®ç°
      - ç®—æ³•
        - æŠŠå½“å‰é¼ æ ‡overçš„å…ƒç´ è¦å®ç°å§”æ‰˜çš„å­å…ƒç´ å­˜å‚¨åœ¨å…¨å±€å˜é‡ä¸­
        - æ¯æ¬¡mouseoverçš„æ—¶å€™ï¼Œå¦‚æœä»åœ¨å˜é‡å­å…ƒç´ å†…éƒ¨ï¼Œåˆ™å¿½ç•¥äº‹ä»¶
        - æ¯æ¬¡mouseoutçš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ç¦»å¼€å˜é‡å­å…ƒç´ ï¼Œåˆ™å¿½ç•¥äº‹ä»¶
        - åœ¨æ¯æ¬¡mousevoerå’Œmouseoutçš„æ—¶å€™åˆ¤æ–­å…¨å±€å˜é‡ä¸­å­˜å‚¨çš„å½“å‰å§”æ‰˜å­å…ƒç´ æ˜¯å¦ä¸ºnull, å¯¹é‡å¤è§¦å‘è¿›è¡Œå¿½ç•¥
        - åœ¨mouseoverçš„æ—¶å€™ï¼Œå¦‚æœæ˜¯å­èŠ‚ç‚¹è€Œä¸”ä¸ä¸ºç©ºï¼Œä½¿ç”¨event.target.closest(delegationSelector)å®šä½åˆ°ç›®æ ‡å§”æ‰˜å…ƒç´ ä¸Šï¼Œå¹¶å­˜åˆ°å…¨å±€å˜é‡ä¸­
        - åœ¨mouseoutçš„æ—¶å€™ï¼Œå¦‚æœrelatedTargetçš„parentèŠ‚ç‚¹ä¸­å«å˜é‡ä¸­å­˜å‚¨çš„å½“å‰å­å…ƒç´ ï¼Œåˆ™å¿½ç•¥ï¼Œå¦‚æœæ²¡æœ‰åˆ™è¯æ˜å·²ç»ç¦»å¼€äº†å˜é‡å­å…ƒç´ ï¼Œæ‰§è¡Œmouseoutçš„æ“ä½œï¼Œå¹¶ä¸”æŠŠå…¨å±€å˜é‡æ¸…ç©ºã€‚

  - Drag and drop with mouse events
    - æ‹–æ”¾ç®—æ³•
      - åœ¨ç›®æ ‡å…ƒç´ ä¸Šç»‘å®šmousedownäº‹ä»¶ï¼Œåˆå§‹åŒ–ä¸€äº›å¯æ‹–åŠ¨çš„å±æ€§ï¼Œæ¯”å¦‚dragElement.position ='absolute', document.body.append(dragElement)
      - é€šå¸¸æˆ‘ä»¬è¿˜è¦è®¡ç®—é¼ æ ‡åˆå§‹åŒ–ç‚¹å‡»æ—¶çš„åç§»å·®å¹¶å­˜å‚¨èµ·æ¥ï¼Œè¿™æ ·å¯ä»¥æœ‰æ•ˆé˜²æ­¢ç§»åŠ¨é¼ æ ‡çš„æ—¶å€™å‡ºç°æŠ–åŠ¨çš„ç°è±¡ï¼ŒoffsetX = mouseEvent.clientX - dragElement.getBoundingClientRect().left; åœ¨mousemoveçš„æ—¶å€™å‡å»è¿™ä¸ªåç§»å·®, dragElement.style.left = mouseEvent.pageX - offsetX + 'px' è¿™é‡Œä¸è¦å¿˜è®°äº†'px'å•ä½
      - åœ¨mousedownçš„æ–¹æ³•ä¸­ç»‘å®šmousemoveå’Œmouseupäº‹ä»¶
      - åœ¨mousemoveçš„å›è°ƒå‡½æ•°ä¸­ï¼Œé€šè¿‡è®¾å®šelement.style.leftå’Œelement.style.topçš„åæ ‡å®ç°æ‹–åŠ¨ï¼Œåæ ‡çš„å€¼ä»mouseEvent.pageXå’ŒmouseEvent.pageYä¸­è·å–ï¼Œä½¿ç”¨æ–‡æ¡£åæ ‡ï¼Œè¿™æ ·å¯ä»¥å®ç°è·¨å±æ‹–åŠ¨ã€‚
      - åœ¨mouseupçš„å›è°ƒå‡½æ•°ä¸­ç§»é™¤mousemoveå’Œmouseupçš„ç»‘å®š
      - é€šå¸¸æˆ‘ä»¬è¿˜éœ€è¦é˜»æ­¢æ‹–åŠ¨å…ƒç´ çš„dragstartäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼Œä»¥é˜²æ­¢æ‹–åŠ¨æ—¶ä¸€äº›æ€ªå¼‚ç°è±¡çš„å‘ç”Ÿ
    - æ£€æµ‹æ˜¯å¦å¯é‡Šæ”¾
      - æ ¸å¿ƒç®—æ³•
        - åœ¨mousemoveçš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ä½¿ç”¨document.elementFromPoint(mouseEvent.clientX,mouseEvent.clientY)è·å–å½“å‰é¼ æ ‡ä¸‹çš„å…ƒç´ ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå°æŠ€å·§ï¼Œåœ¨è·å–å‰å…ˆéšè—æ­£åœ¨çš„æ‹–åŠ¨çš„å…ƒç´ element.hidden = æ˜¾ç¤ºtrueï¼Œè·å–åˆ°ä¹‹åå†æ˜¾ç¤ºæ‹–åŠ¨çš„å…ƒç´ element.hidden = falseï¼Œç„¶åæ£€æµ‹å½“å‰é¼ æ ‡ä¸‹çš„å…ƒç´ æˆ–è€…å…ƒç´ çš„çˆ¶èŠ‚ç‚¹ä¸­æ˜¯å¦å«æœ‰å¯é‡Šæ”¾å…ƒç´ çš„å±æ€§ï¼Œé€šå¸¸æ˜¯`elem.closest('classSelector')`
        - æˆ‘ä»¬åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­ç»å¸¸è¿˜è¦åˆ¤æ–­å½“å‰å¯é‡Šæ”¾å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œç„¶ååˆ¤æ–­æ˜¯è¿›å…¥äº†å¯é‡Šæ”¾å…ƒç´ ï¼Œè¿˜æ˜¯ç¦»å¼€äº†å¯é‡Šæ”¾å…ƒç´ ï¼Œæ‰§è¡Œå¯¹åº”çš„æ–¹æ³•
    - æ‹–æ”¾ä¸­çš„åº”ç”¨
      - åœ¨mouseupäº‹ä»¶ä¸­æˆ‘ä»¬å¯ä»¥å®Œæˆé‡Šæ”¾æ“ä½œåï¼Œæ”¹å˜æ•°æ®ï¼Œç§»åŠ¨å…ƒç´ 
      - æˆ‘ä»¬å¯ä»¥é«˜äº®æ“ä½œçš„å…ƒç´ 
      - æˆ‘ä»¬å¯ä»¥æŠŠæ“ä½œèŒƒå›´é™åˆ¶åœ¨æŸä¸ªåŒºåŸŸå†…ï¼Œä¾‹å¦‚slider
      - æˆ‘ä»¬å¯ä»¥å¯¹mousedown/mouseupä½¿ç”¨å§”æ‰˜ï¼Œé€šè¿‡æ£€æŸ¥eventTargetï¼Œå¯¹å¤§é‡å…ƒç´ è¿›è¡Œæ‹–æ”¾æ“ä½œ
  - Keyboard: keydown and keyup
    - é”®ç›˜äº‹ä»¶
      - keydown æŒ‰ä¸‹æŒ‰é”®è§¦å‘äº‹ä»¶
        - event.repeatè¿™ä¸ªå±æ€§å€¼ä¸ºtrueçš„æ—¶å€™æ˜¯é•¿æŒ‰äº†æŸä¸€ä¸ªé”®
      - keyup æŠ¬èµ·æŒ‰é”®è§¦å‘äº‹ä»¶
    - KeyboardEvent
      - code æŒ‰é”®ç¼–ç  ç±»ä¼¼'KeyA, KeyB, Enter ...' ä¸åˆ†å¤§å°å†™
      - key æŒ‰é”®å­—ç¬¦ æŒ‰é”®çš„å€¼ï¼Œå¦‚æœæ˜¯å­—æ¯ä¼šåŒºåˆ†å¤§å°å†™
  - Scrolling
    - scroll
      - é€šå¸¸ç»‘å®šåœ¨windowä¸‹ window.addEventListener('scroll', scrollCallback);
      - pageYOffset/pageXOffsetè·å–å½“å‰é¢çª—å£æ»šåŠ¨æ¡çš„æ¨ªå‘è·ç¦»å’Œçºµå‘è·ç¦»
    - é˜»æ­¢æ»šåŠ¨
      - å¯ä»¥é€šè¿‡é˜»æ­¢é¼ æ ‡çš„wheeläº‹ä»¶çš„é»˜è®¤è¡Œä¸º event.preventDefault()
      - é˜»æ­¢pageUp/pageDown/Keydownäº‹ä»¶çš„é»˜è®¤è¡Œä¸º
      - æ›´ç®€å•çš„æ–¹æ³•document.body.style.overflowY = 'hidden';
    - å®é™…åº”ç”¨
      - é¡µé¢æ»šåŠ¨åˆ°åº•éƒ¨ç®—æ³•
        - æ³¨æ„è¿™é‡Œè¦ç•™100çš„å·®å€¼ï¼Œè€Œä¸æ˜¯0
        ```
            let doc = document.documentElement;
            let bottomDistance = doc.scrollHeight - doc.scrollTop(æ»šåŠ¨æ—¶å˜åŒ–çš„å€¼) - doc.clientHeight;
            if (bottomDistance < 100) {
                doSomething();
            }
        ```
      - é¡µé¢æ»šåŠ¨æ—¶å½“å‰å…ƒç´ æ˜¯å¦å¯è§ç®—æ³•
        - æ³¨æ„ç†è§£elem.getBoundingClientRect()è·å–åˆ°çš„åæ ‡æ˜¯ç›¸å¯¹äºå½“å‰çª—å£çš„ä¸Šè¾¹ç¼˜å’Œå·¦è¾¹ç¼˜çš„ï¼Œè€Œä¸”æ˜¯éšç€æ»šåŠ¨åŠ¨æ€æ”¹å˜çš„ã€‚å½“å€¼ä¸ºè´Ÿå€¼çš„æ—¶å€™ï¼Œåœ¨çª—å£çš„ä¸Šè¾¹å’Œå·¦è¾¹ä¸å¯è§çš„åŒºåŸŸï¼Œå½“å€¼å¤§äºdocument.documentElement.clientHeightçš„æ—¶å€™ï¼Œåœ¨çª—å£ä¸‹è¾¹å’Œå³è¾¹ä¸å¯è§çš„åŒºåŸŸï¼Œç”¨è¿™ä¸ªç®—æ³•å¯ä»¥ç”¨æ¥åšåŠ¨æ€åŠ è½½å†…å®¹
        ```
             isInSight() {
                let imagePosYToWindowTop = this.elem.getBoundingClientRect().top;
                let imagePosYToWindowBottom = this.elem.getBoundingClientRect().bottom;
                let windowHeight = document.documentElement.clientHeight;
                let topVisible = (windowHeight - imagePosYToWindowTop) > 0 &&
                    imagePosYToWindowTop > 0;
                let bottomVisible = imagePosYToWindowBottom > 0 && imagePosYToWindowBottom < windowHeight;
                return topVisible || bottomVisible;
            }           
        ```
  
- Form and Controls
  - Form property and method
    - document.forms æ‰€æœ‰è¡¨å•å…ƒç´ çš„HTMLColletionå¯¹è±¡
    - document.forms[nameString] é€šè¿‡nameå±æ€§è·å–form
    - document.forms[indexNumber] é€šè¿‡ç´¢å¼•è®¿é—®è¡¨å•
    - form.elements è¡¨å•formä¸­æ‰€æœ‰å…ƒç´ çš„é›†åˆHTMLCollectionå¯¹è±¡
    - form.elements[namsString] é€šè¿‡nameè·å–è¡¨å•formä¸­çš„è¾“å…¥å…ƒç´ 
    - form.elements[filedsetName] é€šè¿‡fieldsetNameè·å–è¡¨å•formä¸­çš„filedset
    - formInputElement.form è¡¨å•é¡¹formInputElementåå‘å¼•ç”¨form
  - Form elements
    - input
      - text 
        - input.value è·å–è¾“å…¥å…ƒç´ çš„æ–‡æœ¬å€¼
      - radio
        - input.value è·å–è¾“å…¥å…ƒç´ çš„å€¼
      - checkbox
        - input.checked/input.valueè·å–å¤é€‰æ¡†çš„å€¼
    - textarea
      - textarea.value è·å–textareatå†…çš„æ–‡æœ¬å€¼
    - select
      - select.options æ‰€æœ‰optionå…ƒç´ çš„åˆé›†
      - select.value æ‰€é€‰é€‰é¡¹çš„å€¼
      - select.selectedIndex æ‰€é€‰é€‰é¡¹çš„ç´¢å¼•
      - mutiple select
        - è·å–é€‰é¡¹å€¼çš„æ•°ç»„ Array.from(select.options).filter(option => option.selected).map(option => option.value);
      - option
        - option.selected æ˜¯å¦é€‰æ‹©äº†è¯¥é€‰é¡¹
        - option.index é€‰é¡¹çš„ç´¢å¼•
        - option.text é€‰é¡¹çš„æ–‡æœ¬å†…å®¹
        - æ–°çš„æ„é€ å‡½æ•°Option
          - let option = new Option(optionText, optionValue, defaultSelected, selected);
            - optionText é€‰é¡¹çš„æ–‡æœ¬
            - optionValue é€‰é¡¹çš„å€¼
            - defaultSelected å¦‚æœè¿™ä¸ªå€¼æ˜¯true é‚£ä¹ˆselectedå±æ€§é»˜è®¤åˆ›å»º
            - selected å¦‚æœè¿™ä¸ªå€¼æ˜¯true å°±æ˜¯å·²ç»è¢«é€‰æ‹©çš„äº†
  - Focus and Blur
    - Focus Event
      - inputElement.addEventListener('focus', callback);
      - å…ƒç´ èšç„¦æ—¶focusäº‹ä»¶è¢«è§¦å‘ï¼Œè¡¨å•éªŒè¯æ—¶æ¸…é™¤é”™è¯¯ä¿¡æ¯ï¼Œä¸æ”¯æŒå†’æ³¡ï¼Œä¸è¿‡å¯ä»¥åœ¨æ•è·é˜¶æ®µå®ç°å§”æ‰˜å¯ä»¥åœ¨çˆ¶å…ƒç´ ä¸Šæ•è·åˆ° parentElement.addEventListener('focus', callback, true); æˆ–è€…ä½¿ç”¨focusinäº‹ä»¶ï¼Œå®ƒæ”¯æŒå†’æ³¡
  
    - Blur Event
      - inputElement.addEventListener('blur', callback);
      - å…ƒç´ å¤±å»ç„¦ç‚¹æ—¶bluräº‹ä»¶è¢«è§¦å‘ï¼Œé€šå¸¸ç”¨äºè¡¨å•éªŒè¯å­—æ®µï¼Œä¸æ”¯æŒå†’æ³¡ï¼Œä¸è¿‡å¯ä»¥åœ¨æ•è·é˜¶æ®µå®ç°å§”æ‰˜å¯ä»¥åœ¨çˆ¶å…ƒç´ ä¸Šæ•è·åˆ° parentElement.addEventListener('blur', callback, true);æˆ–è€…ä½¿ç”¨focusoutäº‹ä»¶ï¼Œå®ƒæ”¯æŒå†’æ³¡
  
    - Focus Method
      - element.focus() è®©å…ƒç´ è·å¾—ç„¦ç‚¹
  
    - Blur Method
      - element.blur() ç§»é™¤å…ƒç´ ä¸Šçš„ç„¦ç‚¹
  
    - Tabindex
      - element.tabIndex ç”¨äºæ§åˆ¶åœ¨ä½¿ç”¨tabé”®åˆ‡æ¢æ—¶ï¼Œç„¦ç‚¹åˆ‡æ¢çš„é¡ºåº
        - tabIndex = 0 æ˜¯æœ€åä¸€ä¸ª
        - tabIndex = -1 å¿½ç•¥è¿™ä¸ªå…ƒç´ 
  - change/input/cut/copy/paste
    - change
      - inputElement.addEventListener('change', callback)
      - å¯¹äºå…ƒç´ æ¥è¯´ï¼Œå½“å…¶å¤±å»ç„¦ç‚¹å¹¶ä¸”å€¼æ”¹å˜çš„æ—¶å€™æˆ–è¢«è§¦å‘ï¼Œé€šå¸¸ç”¨äºè¡¨å•é¡¹å€¼æ”¹å˜æ—¶ç»‘å®šéªŒè¯æ–¹æ³•
    - input
      - inputElement.addEventListener('input', callback)
      - æƒ³è¦å¤„ç†inputElementæ¯æ¬¡å€¼çš„å˜åŒ–ï¼Œä½¿ç”¨è¿™ä¸ªäº‹ä»¶æœ€å¥½ï¼Œä¸é”®ç›˜äº‹ä»¶ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œåªè¦å€¼æ”¹å˜äº†å°±ä¼šè¿›è¡ŒéªŒè¯ï¼Œå³ä½¿æ˜¯ä½¿ç”¨é¼ æ ‡ç²˜è´´çš„å€¼, ç«‹å³è§¦å‘ï¼Œä¸éœ€è¦å¤±å»ç„¦ç‚¹
    - cut/copy/paste
      - inputElement.addEventListener('cut/copy/paste', function(event){
            let clipBoardText = event.clipboardData.getData('text/plain');
        })
      - è¿™ä¸ªäº‹ä»¶ç”±äºæµè§ˆå™¨å®‰å…¨åŸå› è¡Œä¸ºä¼šè¢«é˜»æ­¢ï¼Œåªæœ‰ç‰¹å®šçš„æ¡ä»¶ä¸‹æ‰å¯ä»¥ä½¿ç”¨ã€‚
  - Form Submit
    - Submit Event
      - form.addEventListener('submit', callback);
      - event.preventDefault(); å¯ä»¥ä½¿ç”¨preventDefaulté˜»æ­¢è¡¨å•çš„æäº¤ï¼Œå¹¶ä¸”å¯¹è¡¨å•æ•°æ®è¿›è¡Œå¤„ç†
      - `<input type="submit" value="OK">` or `<input type="image">`ä¼šæäº¤è¡¨å•è§¦å‘submitäº‹ä»¶
      - åœ¨è¾“å…¥æ¡†æŒ‰ä¸‹`Enter`é”®ä¹Ÿä¼šè§¦å‘submitäº‹ä»¶ 
    - Submit Method
      - form.submit()
      - å¯ä»¥é€šè¿‡javascriptæ„å»ºè¡¨å•å…ƒç´ å¹¶ä¸”æ’å…¥åˆ°bodyä¸­æäº¤æ•°æ®ï¼Œé€šå¸¸æ˜¯åœ¨iframeä¸­

- Document and resource loading
  - éé˜»å¡çš„æ–¹å¼åŠ è½½è„šæœ¬
    - async é€‚ç”¨äºç‹¬ç«‹çš„å¤–éƒ¨æ¨¡å—ï¼Œæ¯”å¦‚å¹¿å‘Šï¼Œè®¡æ•°å™¨
      - é¡µé¢ä¸ä¼šç­‰å¾…å¼‚æ­¥è„šæœ¬ï¼Œï¼Œå®ƒä¼šç»§ç»­å¤„ç†é¡µé¢å¹¶æ˜¾ç¤ºå†…å®¹
      - DOMContentLoadedå’Œasyncç›¸äº’ä¹‹é—´ä¸ä¼šç­‰å¾…
      - è„šæœ¬å…ˆä¸‹è½½å®Œæˆå°±å…ˆæ‰§è¡Œ

    - defer
      - å‘Šè¯‰æµè§ˆå™¨åœ¨åå°ä¸‹è½½è„šæœ¬ï¼Œä¸ä¼šé˜»å¡é¡µé¢åŠ è½½
      - ç­‰åˆ°DOMè§£æå®Œæ¯•ï¼Œä½†æ˜¯åœ¨DOMContentLoadedäº‹ä»¶ä¹‹å‰æ‰§è¡Œ
      - ä¿æŒè„šæœ¬çš„ç›¸å¯¹é¡ºåºï¼Œä¾æ¬¡æ‰§è¡Œï¼Œå³ä½¿åé¢çš„è„šæœ¬å…ˆä¸‹è½½å®Œåäº†ï¼Œä¹Ÿè¦ç­‰å¾…å‰é¢çš„è„šæœ¬æ‰§è¡Œå®Œæˆå†æ‰§è¡Œ

    - Dynamic Scripts
      - åˆ›å»ºscriptæ ‡ç­¾å¹¶æ’å…¥åˆ°æ–‡æ¡£ä¸­ï¼Œè®¾ç½®asyncå±æ€§å€¼ä¸ºfalseä¿è¯æ‰§è¡Œé¡ºåº
        - let script = document.createElement('script');
          script.src = 'url.script';
          script.async = false;
          document.body.append(script);



- XMLHttpRequest Object
  - Basic usage
    - constructor
      - let xhr = new XMLHttpRequest();
        ```
        let xhr = new XMLHttpRequest();
        xhr.open(methodString, URL, [async, user, password]); //Does not open the connection. It's ony configures the request.
        xhr.send([body]); //Send it out.Some request methods like GET do not have a body, and some of them like POST use body to send the data to the server. We'll see examples later.
        xhr.addEventListener('load', function(){
            if(xhr.status === 200){ //Attention, here is the property status on the xhr object, not the event property.
                //success callback
                successCallback && successCallback(xhr.response);
            }else{
                //failed callback
                console.log(xhr.status);
                console.log(xhr.statusText);
                failedCallback && failedCallback(xhr);
            }
        });

        xhr.addEventListener('progress', function(e){
            console.log('Download progress:' +  e.loaded/e.total);
        });

        xhr.addEventListener('error', function(e){
            //Send request failed.
            console.dir(e);
        });
        ```

  - Property
    - xhr.status
      HTTP status code: 200/404/403 and so on, can be 0 in case of a non-HTTP failure.
    - xhr.statusText
      HTTP status message: usually OK for 200, Not Found for 404, Forbidden for 403 and so on.
    - xhr.response(responseText)
      The server response data.
    - xhr.timeout
      We can also specify a timeout using the corresponding property.
    - xhr.responseType
      - '' (default) get as string
      - 'text' get as string
      - 'arraybuffer'  get as ArrayBuffer
      - 'blob' get as Blob
      - 'document' get as XML document
      - 'json'  get as JSON parsed automatically (usually use)
    - xhr.readyState
      An XMLHttpRequest object travels them in the order 0->1->2->3->...->3->4
      State 3 repeats every time a data packet is received over the network.
      - 0 UNSENT
      - 1 OPENED
      - 2 HEADERS_RECEIVED
      - 3 LOADING
      - 4 DONE
  
    - xhr.upload
        If we're uploading somthing big, then we'are surely more interested in tracking the upload pregress. 
      - Event
        - loadstart upload started
        - progress triggers periodically during the upload
        - abort upload aborted
        - error non-HTTP error
        - load upload finished successfully
        - timeout upload timed out(if timeout property is set)
        - loadend upload finished with either success or error
         

  - Event
    - loadstart
    - progress
      Trigger periodically during the downloaded, reports how much downloaded.
    - abort
      The event is triggered when the abort method is called.
    - error
      When the request couldn't be made, e.g. network down or invalid URL.
    - load
      When the result is ready, that includes HTTP errors like 404 500
      If the xhr.status is 200, the response data is returned successful.
    - timeout 
      We can also specify a timeout using the corresponding property.
    - loadend
      All done event. Even if the request is error or success.
    - readystatechange
      The event is triggered when the xhr.readyState is changed. Nowdays, we use load/error/progress handlers deprecate it.
  
  - Method
    - xhr.open(methodTypeString, URL, [async, user, password]);
      Config the request, does not open the connection.
      - method HTTP-method, usually 'POST' or 'GET'
      - URL the URL to request
      - async If explicitly set to false, then the request is synchronous. Synchronous requests are used very sparingly, almost never.
  
    - xhr.send([formData]);
      This method opens the connection and sends the request to server. The optional body parameter contains the request body.
      ```
      //Send a json to server
      let xhr = new XMLHttpRequest();
      let json = JSON.stringify({
          name: 'Jason',
          surname: 'Zhang'
      });
      xhr.open('POST', '/submit');
      xhr.setReqeustHeader('Content-Type', 'application/json; charset=utf-8');
      xhr.send(json);
      ```
  
    - xhr.abort();
      We can terminate the request at any time. That triggers abort event, and xhr.status becomes 0;
    - xhr.setRequestHeader(key, value);
        - HTTP-headers
          Send custom headers.
          For exmaple: 
          `xhr.setRequestHeader('Content-Type', 'application/json')`
    - xhr.getResponseHeader(key);
      Get the reponse header with the given name.
        For example:
        `xhr.getResponseHeader('Content-Type')`
    - xhr.getAllResponseHeaders();
        For example:
        ```
        let headers = xhr.getAllResponseHeaders().
            .split('\n\r')
            .reduce((result, cur) => {
                let [name, value] = cur.split(': ');
                result[name] = value;
                return result;
            }, {});
            //We can use reduce to add step result into a object
        ```
        
  - Other useful object
    - URL
        - Example
        ```
        let url = new URL(urlString);
        url.searchParams.set('q', 'test me');
        xhr.open('GET', url);
        xhr.send(); //https://.../?q=test+me
        ```
    - FormData
        - Example
        ```
        let formData = new FormData([form]);
        formData.append(name, value);
        xhr.open('POSt', ...);
        xhr.send(formData);
        ```


- RegExp Object and String
  - Patterns and flags
    - Create a RegExp Objectè¯­æ³•
      - RegExp Constructor
        `let regexp = new RegExp('patternString', 'flags');`
      - Pattern Expression
        `let regexp = /pattern/flags`

    - Usage
      `String.search(regExp);`
      return {Number} search result index æ²¡æœ‰æ‰¾åˆ°è¿”å› -1

    - ä¿®é¥°ç¬¦
      - i æœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™
      - g æŸ¥æ‰¾æ‰€æœ‰çš„åŒ¹é…é¡¹ï¼Œè€Œä¸åªæ˜¯ç¬¬ä¸€ä¸ª
      - m å¤šè¡Œæ¨¡å¼
      - u å¼€å¯å®Œæ•´çš„unicodeæ”¯æŒ
      - y ç²˜æ»æ¨¡å¼


  - Method of RegExp and String
    æ­£åˆ™è¡¨è¾¾å¼é€šå¸¸å’Œstringçš„æ–¹æ³•ä¸€èµ·ä½¿ç”¨æ¥æŸ¥æ‰¾å­—ç¬¦ï¼Œé™¤æ­¤ä¹‹å¤–RegExpä¸Šä¹Ÿæœ‰ä¸€äº›æ–¹æ³•ç”¨æ¥åŒ¹é…å­—ç¬¦ã€‚
    - Stringä¸Šçš„æ–¹æ³•
      - str.search(regExp); æŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä½ç½®ç´¢å¼• `return Number`
      - str.match(regExp);
        - æ²¡æœ‰gä¿®é¥°ç¬¦åªæŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œè¿”å›çš„ç»“æœä¸ºä¸€ä¸ªå¸¦æœ‰indexï¼Œå’Œinputçš„æ•°ç»„å¯¹è±¡`return Array`ï¼Œå¹¶ä¸”æ”¯æŒæ‹¬å·åŒ¹é…é€‰æ‹©å™¨ï¼ŒåŒ¹é…ç»“æœæ˜¯æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼Œé€‰æ‹©å™¨åŒ¹é…æ˜¯æ•°ç»„ç¬¬äºŒé¡¹
        ```
            let str = 'Javascript.';
            let result = str.match(/JAVA(SCRIPT)/i)
            result[0] //Javascript
            result[1] //script
            result.index // 0
            result.input // 'Javascript.'
        ```
        - ä½¿ç”¨gä¿®é¥°ç¬¦æ—¶è¿”å›æ‰€æœ‰åŒ¹é…é¡¹ç»„æˆçš„æ•°ç»„
          è¿”å›ç»“æœæ˜¯ä¸€ä¸ªæ²¡æœ‰é¢å¤–å±æ€§çš„å«æœ‰åŒ¹é…ç»“æœçš„æ•°ç»„ï¼Œæ³¨æ„å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œè¿”å›å€¼æ˜¯nullè€Œä¸æ˜¯ç©ºæ•°ç»„ã€‚è€Œä¸”ä¸æ”¯æŒæ‹¬å·åŒ¹é…é€‰æ‹©å™¨
      - str.split(regExp);
        å¸¸å¸¸ç”¨äºæŠŠå­—ç¬¦ä¸²åˆ†éš”ä¸ºæ•°ç»„
      - str.replace(regExp|func);
        - ç‰¹æ®Šç¬¦å·æŒ‡ä»£åŒ¹é…ç»“æœ
          str.replace(regExp, 'replaceWithSepicalString')
          - $& æ•´ä¸ªåŒ¹é…é¡¹
          - $n æ‹¬å·é€‰æ‹©å™¨é‡Œçš„å†…å®¹ ä»å·¦åˆ°å³è¡¨ç¤ºç¬¬1-nä¸ªæ‹¬å·é‡Œçš„å†…å®¹
          - $` åŒ¹é…é¡¹å‰é¢çš„å­—ç¬¦ä¸²
          - $' åŒ¹é…é¡¹åé¢çš„å­—ç¬¦ä¸²
        - replacer function callback
          str.replace(regExp, function(matchStr, [selector1, [...selectorN]], offset, originalString){
              return //somthing you want to do with the stringj;
          });
    - RegExpä¸Šçš„æ–¹æ³•
      - regexp.test(str); æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦å«æœ‰åŒ¹é…ç»“æœï¼Œè¿”å›trueæˆ–è€…false
      - regexp.exec(str); 
        æœ€å¼ºå¤§çš„åŒ¹é…ï¼Œæ”¯æŒä»»æ„æ¨¡å¼ï¼ŒåŒ…æ‹¬é€‰æ‹©å™¨
        - æ²¡æœ‰gè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå’Œstr.match(reg)ç»“æœç›¸åŒ
        - å«æœ‰g,èƒ½å¤Ÿè·å–æ‰€æœ‰åŒ¹é…é¡¹, è¿”å›ç»“æœä¸ºå¸¦æœ‰indexå’Œinputçš„æ•°ç»„ï¼ŒåŒæ—¶å«æœ‰æ‹¬å·é€‰æ‹©å™¨çš„åŒ¹é…é¡¹ï¼Œåœ¨regexpå¯¹è±¡ä¸Šæœ‰ä¸€ä¸ªlastIndexå±æ€§æ˜¯å¯è¯»å†™çš„ï¼Œç”¨æ¥æŒ‡å®šä¸‹ä¸€æ¬¡è°ƒç”¨ä»å“ªé‡Œå¼€å§‹æœç´¢ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œå³ä»å¤´å¼€å§‹æœç´¢ã€‚
        ```
        while(result = regexp.exec(str)){
            console.log(`Found ${result[0]} at ${result.index}`);
        }
        ```

  - å­—ç¬¦åˆé›†è¡¨è¾¾å¼
    å­—ç¬¦ç±»æ˜¯ä¸€ç§ç‰¹æ®Šç¬¦å·ï¼Œå®ƒåŒ¹é…é›†åˆä¸­çš„ä»»ä½•å­—ç¬¦ã€‚
    - \d 0åˆ°9çš„æ•°å­— æ¥æºäºdigit
    - \D \dçš„åä¹‰é›†åˆï¼Œé™¤äº†æ•°å­—ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼Œä¾‹å¦‚ä¸€ä¸ªå­—æ¯
    - \s ä¸€ä¸ªç©ºæ ¼å­—ç¬¦ï¼Œæ¥æºäºspace: åŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œæ¢è¡Œç¬¦
    - \S é™¤äº†ç©ºæ ¼å­—ç¬¦ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼Œä¾‹å¦‚ä¸€ä¸ªå­—æ¯
    - \w ä¸€ä¸ªå•å­—å­—ç¬¦ï¼Œæ¥æºäºword: ä¸€ä¸ªå­—ç¬¦æˆ–è€…ä¸€ä¸ªæ•°å­—æˆ–è€…ä¸€ä¸ªä¸‹åˆ’çº¿
    - \W é™¤äº†\wä¹‹å¤–çš„ä»»ä½•å­—ç¬¦
    - . é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»ä½•å­—ç¬¦
    - \b å•è¯çš„è¾¹ç•Œï¼Œåªé€‚ç”¨äºè‹±æ–‡å•è¯ã€‚è¾¹ç•Œæ ¡éªŒä¼šæ£€æµ‹éå•è¯çš„è¾¹ç•Œï¼Œä¾‹å¦‚å•è¯ç»“å°¾æ˜¯è¡¨å•ç¬¦å·ï¼Œå•è¯å¼€å¤´æ˜¯ç©ºæ ¼ã€‚
    - \B \bçš„åå‘æ£€æµ‹
    - ç©ºæ ¼ ç©ºæ ¼ä¹Ÿæ˜¯ä¸€ä¸ªæ­£åˆ™å­—ç¬¦ï¼Œä¸èƒ½å¿½ç•¥ï¼Œå¦åˆ™ä¼šå½±å“åŒ¹é…ç»“æœ

  - è½¬ä¹‰å’Œç‰¹æ®Šå­—ç¬¦
    - ç‰¹æ®Šç¬¦å·çš„è½¬ä¹‰
      - `[ \ ^ $ . | ? * + ( ) /` è¿™äº›ç¬¦å·åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œå¦‚æœæˆ‘ä»¬æŸ¥æ‰¾ä»–ä»¬çš„å­—ç¬¦ä¸²ï¼Œéœ€è¦åœ¨ä»–ä»¬å‰é¢åŠ ä¸€ä¸ª`\`, ä¾‹å¦‚ `\\` è¡¨ç¤º `\`
    - ä½¿ç”¨new RegExpçš„æ–¹å¼åˆ›å»ºæ­£åˆ™å®ä¾‹æ—¶éœ€è¦é¢å¤–è½¬ä¹‰
      - new RegExp("regStr") å› ä¸º""æ“ä½œç¬¦ä¼šå°è¯•æŠŠ`\`å»æ‰ï¼ŒæŠŠ`\n`å˜æˆæ¢è¡Œå­—ç¬¦ï¼Œæ‰€ä»¥è½¬ä¹‰å­—ç¬¦å°±ä¼šå¤±æ•ˆï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨`\\`è¿›è¡Œè½¬ä¹‰,ä¾‹å¦‚`\d`åº”è¯¥å˜æˆ`\\d`ï¼Œç»è¿‡å­—ç¬¦ä¸²è§£æä¹‹åæ‰ä¼šå·¥ä½œæ­£å¸¸ã€‚
  - é›†åˆå’ŒèŒƒå›´
    - é›†åˆä¸­å…¶ä¸­ä¸€ä¸ª [abc]åŒ¹é…çš„æ˜¯aæˆ–bæˆ–cå…¶ä¸­ä¸€ä¸ªå­—ç¬¦ï¼Œå½“ç„¶ä¹ŸåŒæ—¶æ”¯æŒå­—ç¬¦åˆé›†çš„è”åˆä½¿ç”¨ä¾‹å¦‚`[\w-]`ä»£è¡¨ä»»æ„å­—æ¯æ•°å­—å’Œ_åŠ ä¸Šé¢å¤–çš„-è¿™ä¸ªåœ¨é‚®ç®±æ­£åˆ™ä¸­ç»å¸¸ä½¿ç”¨
    - èŒƒå›´ [a-z] åŒ¹é…aåˆ°zèŒƒå›´å†…çš„ä»»æ„ä¸€ä¸ªå­—æ¯
    - å­—ç¬¦åˆé›†ç¼©å†™
      - \d [0-9]
      - \w [0-9a-zA-Z_]
      - \s [\t\n\v\f\r ]
      - [\s\S]ä»£è¡¨ä»»ä½•ç©ºæ ¼æˆ–éç©ºæ ¼å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰å­—ç¬¦ï¼Œæ¯”`.`é™¤äº†æ¢è¡Œç¬¦ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦èŒƒå›´æ›´å¹¿
    - æ’é™¤èŒƒå›´
      - [^...]æ’é™¤èŒƒå›´çš„åŒ¹é…ï¼ŒåŒ¹é…æ‰€æœ‰ç»™å®šå­—ç¬¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦
      - [^0-9] æ•°å­—ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥ç”¨`\D`æ¥è¡¨ç¤º
      - [^\s]åŒ¹é…ä»»ä½•éç©ºå­—ç¬¦ï¼Œä¹Ÿå¯ç”¨`\S`æ¥è¡¨ç¤º

    -[...]èŒƒå›´ä¸­çš„ç‰¹æ®Šå­—ç¬¦ä¸éœ€è¦è½¬ä¹‰ `let reg = /[-().^+]/g`ï¼Œå½“ç„¶è½¬ä¹‰äº†ä¹Ÿæ²¡ä»€ä¹ˆå½±å“ï¼Œæ‰€ä»¥è¿˜æ˜¯ç»Ÿä¸€è½¬ä¹‰çš„å¥½ã€‚
  - unicodeæ ‡è®°
    - `/.../u` å¯ç”¨å¯¹UTF16çš„æ­£ç¡®ç¼–ç ã€‚
    - `alert( 'ğ’³'.match(/[ğ’³ğ’´]/u) );`
  - é‡è¯
    - `{n}` å‰é¢çš„è¡¨è¾¾å¼åŒ¹é…é‡å¤næ¬¡ 
    - `{m, n}` é‡å¤æ¬¡æ•°çš„èŒƒå›´
    - `{m,}` måˆ°æ— é™å¤šä¸ªé‡å¤æ¬¡æ•°
    - ç¼©å†™
      - `+` 1ä¸ªæˆ–è€…å¤šä¸ª `{1,}`
      - `?` 0ä¸ªæˆ–1ä¸ª`{0, 1}`
      - `*` 0ä¸ªæˆ–å¤šä¸ª`{0,}`
    - è¦åŒ¹é…çš„æ›´ç²¾ç¡®ï¼Œå°±è¦ä»”ç»†åˆ†ææ¯ä¸€ä¸ªå­—ç¬¦å¯èƒ½å¾—æƒ…å†µï¼Œå†™å‡ºæ›´å¤æ‚çš„è¡¨è¾¾å¼
  - è´ªå©ªé‡è¯å’Œæƒ°æ€§é‡è¯
    - æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ç®—æ³•
      - å¯¹äºå­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦æ‰§è¡Œ
        - ç”¨å½“å‰çš„è¡¨è¾¾å¼å»åŒ¹é…è¿™ä¸ªå­—ç¬¦
        - å¦‚æœå½“å‰è¡¨è¾¾å¼åŒ¹é…åˆ°å­—ç¬¦ï¼Œç”¨ä¸‹ä¸€ä¸ªè¡¨è¾¾å¼ç»§ç»­
        - å¦‚æœæ— åŒ¹é…ï¼Œç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦
    - è´ªå©ªæœç´¢
      - é»˜è®¤æ­£åˆ™è¡¨è¾¾å¼å¼•æ“å°è¯•ç”¨.+*å»è·å–å°½å¯èƒ½å¤šçš„é‡å¤é‡è¯ï¼Œåœ¨è´ªå©ªåŒ¹é…åï¼Œé€šè¿‡å›æœ”çš„æ–¹å¼å»åŒ¹é…å‰©ä½™çš„è¡¨è¾¾å¼ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œé€šè¿‡å‡å°‘é‡å¤åŒ¹é…çš„æ•°é‡å¹¶å†æ¬¡å°è¯•åŒ¹é…ï¼Œæ‰€ä»¥ä¼šäº§ç”ŸåŒ¹é…è¿‡å¤šå­—ç¬¦çš„æƒ…å†µã€‚
    - æ‡’æƒ°æœç´¢
      - æ‡’æƒ°æ¨¡å¼æƒ³è¦çš„é‡å¤æœ€å°‘çš„æ¬¡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨é‡è¯æœ«å°¾åŠ ä¸Šä¸€ä¸ª`?`æ¥å¯ç”¨æ‡’æƒ°æ¨¡å¼ï¼Œæ‡’æƒ°æ¨¡å¼å¹¶ä¸æ˜¯åŒ¹é…å°½å¯èƒ½å¤šçš„å­—ç¬¦ï¼Œè€Œæ˜¯ä»å‰©ä½™è¡¨è¾¾å¼æ¡ä»¶å¼€å§‹å»åŒ¹é…å½“å‰å­—ç¬¦å¹¶ä¸æ–­å‘åæŸ¥æ‰¾ã€‚å¯ä»¥è§£å†³åŒ¹é…è¿‡å¤šå­—ç¬¦çš„é—®é¢˜
        - `*? or +? or ??`
    - æ‡’æƒ°æœç´¢çš„æ›¿ä»£æ–¹æ¡ˆ
      - ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡`"[^"]+"`æ¥æ‰¾åˆ°å¸¦åŒå¼•å·çš„å­—ç¬¦ï¼Œè€Œä¸æ˜¯é€šè¿‡æ‡’æƒ°æ¨¡å¼`"[\s\S]+?"`ï¼Œå¼•æ“ä¼šåœ¨åŒ¹é…åˆ°ç»“å°¾å¼•å·çš„æ—¶å€™å°±åœæ­¢é‡å¤åŒ¹é…`+`äº†ï¼Œè¿™æ ·ä¹ŸåŒæ ·èµ·åˆ°äº†é¿å…é‡å¤é‡è¯è´ªå©ªæ¨¡å¼åŒ¹é…è¿‡å¤šå­—ç¬¦çš„é—®é¢˜ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®éœ€æ±‚çµæ´»ä½¿ç”¨ä¸¤ç§ä¸åŒçš„æœç´¢æ–¹å¼å»åŒ¹é…åŒ…å«ç›¸åŒå­—ç¬¦çš„åŒ¹é…æƒ…å†µã€‚
  - æ•è·ç»„
    - é€šè¿‡`(...)`æ„å»ºä¸€ä¸ªæ•è·ç»„
      - `alert( 'Gogogo now!'.match(/(go)+/i) ); // "Gogogo"`
    - String.match(reg) and RegExp.exec(str) ä¸­å¯ä»¥é€šè¿‡æŒ‡å®šæ•è·ç»„ï¼Œåœ¨ç»“æœä¸­è¿”å›æ•è·ç»„çš„å†…å®¹ result[groupN]
    - åµŒå¥—æ•è·ç»„
      - æ•è·ç»„åµŒå¥—æ—¶ï¼Œè¿”å›ç»“æœçš„é¡ºåºæ˜¯æŒ‰ç…§ä»å·¦åˆ°å³å·¦æ‹¬å·çš„é¡ºåºæ’åˆ—çš„ï¼Œä¸è¿‡æˆ‘ä»¬è¦è®°å¾—ç»“æœé‡Œçš„ç¬¬ä¸€é¡¹æ°¸è¿œæ˜¯å®Œæ•´çš„åŒ¹é…ç»“æœï¼Œåé¢å¼€å§‹æ‰æ˜¯åŒ¹é…ç»„
      - å¦‚æœæŸä¸ªåŒ¹é…ç»„æ˜¯å¯é€‰çš„`a(b)?(c)?`ï¼Œé‚£ä¹ˆåœ¨ç›¸åº”çš„åŒ¹é…ç»“æœä¸­ï¼Œè¯¥é¡¹ç›®ä¾ç„¶å­˜åœ¨ï¼Œå€¼ä¸ºundefinded
    - éæ•è·ç»„
      - å¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³é€šè¿‡æ•è·ç»„è®¾ç½®æ­£ç¡®çš„é‡è¯ï¼Œè€Œä¸æƒ³æ•è·ç»“æœå‡ºç°åœ¨ç»“æœæ•°ç»„ä¸­ï¼Œå¯ä»¥ä½¿ç”¨`?:`æ ‡è®°éæ•è·ç»„
      - `let reg = /(?:go)+ (\w+)/i;`
  - åå‘å¼•ç”¨
    - String.replaceä¸­çš„å¯ä»¥ç”¨`$n`è®¿é—®ç¬¬nä¸ªæ•è·ç»„
      - `name = name.replace(/(\w+) (\w+)/i, "$2, $1");`
    - åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æˆ‘ä»¬ä½¿ç”¨`\n`æ¥å¼•ç”¨æ•è·ç»„, n start from 1.
      - `let reg = /['"](.*?)['"]/g;` the same as below
      - `let reg = /(['"])(.*?)\1/g;`
    - åœ¨ç»„å†…ä½¿ç”¨ ?: åˆ™æ— æ³•å¼•ç”¨åˆ°è¯¥ç»„ã€‚æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ä¸ä¼šè®°ä½è¢«æ’é™¤åœ¨æ•è· (?:...) ä¹‹å¤–çš„ç»„ã€‚
  - é€‰æ‹©
    - é€‰æ‹©è¡¨è¾¾å¼ç›¸æ¯”äºå­—ç¬¦é›†åˆä¸åŒçš„åœ°æ–¹åœ¨äºé€‰æ‹©è¡¨è¾¾å¼æ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼çº§åˆ«çš„ï¼Œä¸ä»…ä»…æ˜¯å­—ç¬¦
      - ä½¿ç”¨æ–¹æ³•`(expressionA|expressionB)`
      - ä¸è¦å¿˜è®°æ‹¬å·ä¸ç„¶ä¼šäº§ç”Ÿä¸€äº›é”™è¯¯
      - ä¾‹å­
        ```
        let reg = /([01]\d|2[0-3]):[0-5]\d/g;
        alert("00:00 10:10 23:59 25:99 1:2".match(reg)); // 00:00,10:10,23:59
        ```
  - å­—ç¬¦ä¸²çš„å¼€å§‹å’Œç»“æŸ
    - `^`ç”¨äºåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹
    - `$`ç”¨äºåŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ
    - å®ƒä»¬éƒ½æ˜¯é”šï¼Œå¹¶æ²¡æœ‰é•¿åº¦ï¼ŒåªåŒ¹é…ä½ç½®ï¼Œå’Œ`\b`ä¸€æ ·ï¼Œç”¨äºåˆ¤å®šç‰¹å®šå¼€å¤´ç»“å°¾çš„æ¡ä»¶ã€‚
    - Example
      ```
        let str = "#abcdef";
        alert( /^#[0-9a-f]{6}$/i.test(str) ); // true
      ``` 
  - å¤šè¡Œæ¨¡å¼
    - `/.../m`é€šè¿‡flag må¼€å¯å¤šè¡Œæ¨¡å¼ï¼Œ
    - å¤šè¡Œæ¨¡å¼ä¼šå½±å“`^` and `$`çš„é”šè¡Œä¸ºæ¨¡å¼ï¼Œå®ƒä»¬ä¼šåŒ¹é…æ¯ä¸€è¡Œçš„å¼€å§‹å’Œç»“æŸã€‚
    - `^`,`$`å¯¹æ¯”`\n`
      - `\n`å¹¶ä¸æ˜¯é”šï¼Œä¼šæ¶ˆè€—ä½ç½®ï¼ŒåŒæ—¶åœ¨ç»“æœä¸­ä¹Ÿä¼šæ˜¾ç¤ºæ¢è¡Œç¬¦ï¼Œè€Œä¸”å®ƒä¸æ”¯æŒåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ç»“å°¾ï¼Œå› ä¸ºä»–ä»¬æ˜¯ç©ºçš„ã€‚
  - å‰ç»æ–­è¨€å’Œåç»æ–­è¨€
    ç”¨äºæƒ³æ ¹æ®å‰åä¸Šä¸‹æ–‡æ¥ç­›é€‰å‡ºä¸€äº›ç»“æœçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰ç»æ–­è¨€å’Œåç»æ–­è¨€ã€‚
    - å‰ç»è‚¯å®šæ–­è¨€ `x(?=y)` åŒ¹é… x ï¼Œä»…å½“åé¢è·Ÿç€ y
      ```
      let str = "1 turkey costs 30â‚¬";
      alert( str.match(/\d+(?=â‚¬)/) ); // 30 ï¼ˆæ­£ç¡®åœ°è·³è¿‡äº†å•ä¸ªçš„æ•°å­— 1ï¼‰
      ```
    - å‰ç»å¦å®šæ–­è¨€ `x(?!y)` åŒ¹é… x ï¼Œä»…å½“åé¢ä¸è·Ÿ y
      ```
      let str = "2 turkeys cost 60â‚¬";
      alert( str.match(/\d+(?!â‚¬)/) ); // 2ï¼ˆæ­£ç¡®åœ°è·³è¿‡äº†ä»·æ ¼
      ```
    - åç»è‚¯å®šæ–­è¨€ `(?<=y)x` åŒ¹é… x ï¼Œä»…å½“è·Ÿåœ¨ y åé¢
      ```
      let str = "1 turkey costs $30";
      alert( str.match(/(?<=\$)\d+/) ); // 30 ï¼ˆè·³è¿‡äº†å•ä¸ªçš„æ•°å­— 1
      ```
    - åç»å¦å®šæ–­è¨€ `(?<!y)x` åŒ¹é… x ï¼Œä»…å½“ä¸è·Ÿåœ¨ y åé¢
      ```
      let str = "2 turkeys cost $60";
      alert( str.match(/(?<!\$)\d+/) ); // 2 (è·³è¿‡äº†ä»·æ ¼)
      ```
    - æ–­è¨€æ•è·ç»„
      - æ–­è¨€ä¸ä¼šå‡ºç°åœ¨åŒ¹é…ç»“æœçš„æ•è·ç»„ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å¾—åˆ°å®ƒï¼Œä½¿ç”¨æ‹¬å·æŠŠå®ƒè½¬æ¢æˆæ•è·ç»„
        - `let str = "1 turkey costs 30â‚¬"; let reg = /\d+(?=(â‚¬|kr))/; alert( str.match(reg) ); // 30, â‚¬`
  - æ— é™å›æº¯é—®é¢˜
    - å› ä¸ºè´ªå©ªæ¨¡å¼çš„å›æœ”é—®é¢˜ï¼Œå¯¼è‡´æ­£åˆ™å¼•æ“è¿›å…¥äº†å¤§é‡å­åŒ¹é…ç»„åˆçš„é€’å½’è¿ç®—ã€‚å¯¼è‡´æµè§ˆå™¨å¼•æ“å¡æ­»ã€‚
    - è§£å†³æ–¹æ³•
      - `(?=(repeatExpression+))\1`
  - Unicodeå±æ€§åŒ¹é…
    - å¯ä»¥ç”¨æ¥åŒ¹é…ä¸­æ–‡